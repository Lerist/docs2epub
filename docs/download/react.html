
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css?family=Merriweather:400,400i,700" rel="stylesheet">

    <style>
      body {
        font-family: 'Merriweather', serif;
        background: '#ddd';
        color: '#444';
        font-size: 17px;
        line-height: 1.75;
      }

      code, pre {
        font-size: 15px;
        background: #fafafa;
        padding: 0.5rem;
        margin: 0.5rem 0;
      }

      article {
        max-width: 740px;
        margin: 1em auto;
        padding: 1em;
      }
    </style>
  </head>
  <body>
    
        <article>
          <h3>React documentation</h3>
          <div>
<div>
  <h3>About this book.</h3>
  <div>
    Documentation generated by <b>docs2epub</b> [http://javier.xyz/docs2epub/] on Fri Sep 02 2016 01:11:42 GMT-0500 (CDT), scrapped from https://facebook.github.io/react/docs/getting-started.html.
  </div>
  <br /><br />
  <div>
    Find more about this project on https://github.com/facebook/react.
    LICENCE of React: https://raw.githubusercontent.com/facebook/react/master/LICENSE-docs
  </div>
</div>
  </div>
        </article>
      <h2>Quick Start</h2>
        <article>
          <h3>Getting Started</h3>
          <div><div class="inner-content"><span>
    </span><span>
    </span><span>
    </span><span>

    </span><h2><a class="anchor" name="jsfiddle"></a>JSFiddle </h2><span>
</span><p>The easiest way to start hacking on React is using the following JSFiddle Hello World examples:</p><span>

</span><span>
</span><h2><a class="anchor" name="starter-pack"></a>Starter Pack </h2><span>
</span><p>If you&apos;re just getting started, you can download the starter kit. The starter kit includes prebuilt copies of React and React DOM for the browser, as well as a collection of usage examples to help you get started.</p><span>

</span><span>

</span><p>In the root directory of the starter kit, create a <code>helloworld.html</code> with the following contents.</p><span>
</span><div class="highlight"><pre><code class="language-html" data-lang="html"><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html&gt;</span>
  <span class="nt">&lt;head&gt;</span>
    <span class="nt">&lt;meta</span> <span class="na">charset=</span><span class="s">&quot;UTF-8&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;title&gt;</span>Hello React!<span class="nt">&lt;/title&gt;</span>
    <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;build/react.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
    <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;build/react-dom.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
    <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;https://npmcdn.com/babel-core@5.8.38/browser.min.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
  <span class="nt">&lt;/head&gt;</span>
  <span class="nt">&lt;body&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;example&quot;</span><span class="nt">&gt;&lt;/div&gt;</span>
    <span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;text/babel&quot;</span><span class="nt">&gt;</span>
      <span class="nx">ReactDOM</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span>
        <span class="o">&lt;</span><span class="nx">h1</span><span class="o">&gt;</span><span class="nx">Hello</span><span class="p">,</span> <span class="nx">world</span><span class="o">!&lt;</span><span class="err">/h1&gt;,</span>
        <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&apos;example&apos;</span><span class="p">)</span>
      <span class="p">);</span>
    <span class="nt">&lt;/script&gt;</span>
  <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre></div><span>
</span><p>The XML syntax inside of JavaScript is called JSX; check out the <a href="https://facebook.github.io/react/docs/jsx-in-depth.html">JSX syntax</a> to learn more about it. In order to translate it to vanilla JavaScript we use <code>&lt;script type=&quot;text/babel&quot;&gt;</code> and include Babel to actually perform the transformation in the browser. Open the html from a browser and you should already be able to see the greeting!</p><span>
</span><h3><a class="anchor" name="separate-file"></a>Separate File </h3><span>
</span><p>Your React JSX code can live in a separate file. Create the following <code>src/helloworld.js</code>.</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">ReactDOM</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span>
  <span class="o">&lt;</span><span class="nx">h1</span><span class="o">&gt;</span><span class="nx">Hello</span><span class="p">,</span> <span class="nx">world</span><span class="o">!&lt;</span><span class="err">/h1&gt;,</span>
  <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&apos;example&apos;</span><span class="p">)</span>
<span class="p">);</span>
</code></pre></div><span>
</span><p>Then reference it from <code>helloworld.html</code>:</p><span>
</span><div class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;text/babel&quot;</span> <span class="na">src=</span><span class="s">&quot;src/helloworld.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
</code></pre></div><span>
</span><p>Note that some browsers (Chrome, e.g.) will fail to load the file unless it&apos;s served via HTTP.</p><span>
</span><h2><a class="anchor" name="using-react-with-npm-or-bower"></a>Using React with npm or Bower </h2><span>
</span><p>You can also use React with package managers like npm or Bower. You can learn more in our <a href="https://facebook.github.io/react/docs/package-management.html">Package Managers</a> section.</p><span>
</span><h2><a class="anchor" name="next-steps"></a>Next Steps </h2><span>
</span><p>Check out <a href="https://facebook.github.io/react/docs/tutorial.html">the tutorial</a> and the other examples in the starter kit&apos;s <code>examples</code> directory to learn more.</p><span>

</span><p>Good luck, and welcome!</p><span>


    </span><span>
  </span></div></div>
        </article>
      
        <article>
          <h3>Tutorial | React</h3>
          <div><div class="inner-content"><span>
    </span><span>
    </span><span>
    </span><span>

    </span><p>We&apos;ll be building a simple but realistic comments box that you can drop into a blog, a basic version of the realtime comments offered by Disqus, LiveFyre or Facebook comments.</p><span>

</span><p>We&apos;ll provide:</p><span>

</span><ul>
<li>A view of all of the comments</li>
<li>A form to submit a comment</li>
<li>Hooks for you to provide a custom backend</li>
</ul><span>

</span><p>It&apos;ll also have a few neat features:</p><span>

</span><ul>
<li><strong>Optimistic commenting:</strong> comments appear in the list before they&apos;re saved on the server so it feels fast.</li>
<li><strong>Live updates:</strong> other users&apos; comments are popped into the comment view in real time.</li>
<li><strong>Markdown formatting:</strong> users can use Markdown to format their text.</li>
</ul><span>
</span><h3><a class="anchor" name="want-to-skip-all-this-and-just-see-the-source"></a>Want to skip all this and just see the source? </h3><span>
</span><p><a href="https://github.com/reactjs/react-tutorial">It&apos;s all on GitHub.</a></p><span>
</span><h3><a class="anchor" name="running-a-server"></a>Running a server </h3><span>
</span><p>In order to start this tutorial, we&apos;re going to require a running server. This will serve purely as an API endpoint which we&apos;ll use for getting and saving data. In order to make this as easy as possible, we&apos;ve created a simple server in a number of scripting languages that does exactly what we need it to do. <strong>You can <a href="https://github.com/reactjs/react-tutorial/">view the source</a> or <a href="https://github.com/reactjs/react-tutorial/archive/master.zip">download a zip file</a> containing everything needed to get started.</strong></p><span>

</span><p>For sake of simplicity, the server we will run uses a <code>JSON</code> file as a database. You would not run this in production but it makes it easy to simulate what you might do when consuming an API. Once you <a href="https://github.com/reactjs/react-tutorial/#to-use">start the server</a>, it will support our API endpoint and it will also serve the static pages we need.</p><span>
</span><h3><a class="anchor" name="getting-started"></a>Getting started </h3><span>
</span><p>For this tutorial, we&apos;re going to make it as easy as possible. Included in the server package discussed above is an HTML file which we&apos;ll work in. Open up <code>public/index.html</code> in your favorite editor. It should look something like this:</p><span>
</span><div class="highlight"><pre><code class="language-html" data-lang="html"><span class="c">&lt;!-- index.html --&gt;</span>
<span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html&gt;</span>
  <span class="nt">&lt;head&gt;</span>
    <span class="nt">&lt;meta</span> <span class="na">charset=</span><span class="s">&quot;utf-8&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;title&gt;</span>React Tutorial<span class="nt">&lt;/title&gt;</span>
    <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;https://npmcdn.com/react@15.3.1/dist/react.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
    <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;https://npmcdn.com/react-dom@15.3.1/dist/react-dom.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
    <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;https://npmcdn.com/babel-core@5.8.38/browser.min.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
    <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;https://npmcdn.com/jquery@3.1.0/dist/jquery.min.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
    <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;https://npmcdn.com/remarkable@1.6.2/dist/remarkable.min.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
  <span class="nt">&lt;/head&gt;</span>
  <span class="nt">&lt;body&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;content&quot;</span><span class="nt">&gt;&lt;/div&gt;</span>
    <span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;text/babel&quot;</span> <span class="na">src=</span><span class="s">&quot;scripts/example.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
    <span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;text/babel&quot;</span><span class="nt">&gt;</span>
      <span class="c1">// To get started with this tutorial running your own code, simply remove</span>
      <span class="c1">// the script tag loading scripts/example.js and start writing code here.</span>
    <span class="nt">&lt;/script&gt;</span>
  <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre></div><span>
</span><p>For the remainder of this tutorial, we&apos;ll be writing our JavaScript code in this script tag. We don&apos;t have any advanced live-reloading so you&apos;ll need to refresh your browser to see updates after saving. Follow your progress by opening <code>http://localhost:3000</code> in your browser (after starting the server). When you load this for the first time without any changes, you&apos;ll see the finished product of what we&apos;re going to build. When you&apos;re ready to start working, just delete the preceding <code>&lt;script&gt;</code> tag and then you can continue.</p><span>

</span><blockquote>
<p>Note:</p>

<p>We included jQuery here because we want to simplify the code of our future AJAX calls, but it&apos;s <strong>NOT</strong> mandatory for React to work.</p>
</blockquote><span>
</span><h3><a class="anchor" name="your-first-component"></a>Your first component </h3><span>
</span><p>React is all about modular, composable components. For our comment box example, we&apos;ll have the following component structure:</p><span>
</span><div class="highlight"><pre><code class="language-text" data-lang="text">- CommentBox
  - CommentList
    - Comment
  - CommentForm
</code></pre></div><span>
</span><p>Let&apos;s build the <code>CommentBox</code> component, which is just a simple <code>&lt;div&gt;</code>:</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// tutorial1.js</span>
<span class="kd">var</span> <span class="nx">CommentBox</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createClass</span><span class="p">({</span>
  <span class="nx">render</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span>
      <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="s2">&quot;commentBox&quot;</span><span class="o">&gt;</span>
        <span class="nx">Hello</span><span class="p">,</span> <span class="nx">world</span><span class="o">!</span> <span class="nx">I</span> <span class="nx">am</span> <span class="nx">a</span> <span class="nx">CommentBox</span><span class="p">.</span>
      <span class="o">&lt;</span><span class="err">/div&gt;</span>
    <span class="p">);</span>
  <span class="p">}</span>
<span class="p">});</span>
<span class="nx">ReactDOM</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span>
  <span class="o">&lt;</span><span class="nx">CommentBox</span> <span class="o">/&gt;</span><span class="p">,</span>
  <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&apos;content&apos;</span><span class="p">)</span>
<span class="p">);</span>
</code></pre></div><span>
</span><p>Note that native HTML element names start with a lowercase letter, while custom React class names begin with an uppercase letter.</p><span>
</span><h4><a class="anchor" name="jsx-syntax"></a>JSX Syntax </h4><span>
</span><p>The first thing you&apos;ll notice is the XML-ish syntax in your JavaScript. We have a simple precompiler that translates the syntactic sugar to this plain JavaScript:</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// tutorial1-raw.js</span>
<span class="kd">var</span> <span class="nx">CommentBox</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createClass</span><span class="p">({</span><span class="nx">displayName</span><span class="o">:</span> <span class="s1">&apos;CommentBox&apos;</span><span class="p">,</span>
  <span class="nx">render</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span>
      <span class="nx">React</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">&apos;div&apos;</span><span class="p">,</span> <span class="p">{</span><span class="nx">className</span><span class="o">:</span> <span class="s2">&quot;commentBox&quot;</span><span class="p">},</span>
        <span class="s2">&quot;Hello, world! I am a CommentBox.&quot;</span>
      <span class="p">)</span>
    <span class="p">);</span>
  <span class="p">}</span>
<span class="p">});</span>
<span class="nx">ReactDOM</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span>
  <span class="nx">React</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="nx">CommentBox</span><span class="p">,</span> <span class="kc">null</span><span class="p">),</span>
  <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&apos;content&apos;</span><span class="p">)</span>
<span class="p">);</span>
</code></pre></div><span>
</span><p>Its use is optional but we&apos;ve found JSX syntax easier to use than plain JavaScript. Read more on the <a href="https://facebook.github.io/react/docs/jsx-in-depth.html">JSX Syntax article</a>.</p><span>
</span><h4><a class="anchor" name="whats-going-on"></a>What&apos;s going on </h4><span>
</span><p>We pass some methods in a JavaScript object to <code>React.createClass()</code> to create a new React component. The most important of these methods is called <code>render</code> which returns a tree of React components that will eventually render to HTML.</p><span>

</span><p>The <code>&lt;div&gt;</code> tags are not actual DOM nodes; they are instantiations of React <code>div</code> components. You can think of these as markers or pieces of data that React knows how to handle. React is <strong>safe</strong>. We are not generating HTML strings so XSS protection is the default.</p><span>

</span><p>You do not have to return basic HTML. You can return a tree of components that you (or someone else) built. This is what makes React <strong>composable</strong>: a key tenet of maintainable frontends.</p><span>

</span><p><code>ReactDOM.render()</code> instantiates the root component, starts the framework, and injects the markup into a raw DOM element, provided as the second argument.</p><span>

</span><p>The <code>ReactDOM</code> module exposes DOM-specific methods, while <code>React</code> has the core tools shared by React on different platforms (e.g., <a href="http://facebook.github.io/react-native/">React Native</a>).</p><span>

</span><p>It is important that <code>ReactDOM.render</code> remain at the bottom of the script for this tutorial. <code>ReactDOM.render</code> should only be called after the composite components have been defined.</p><span>
</span><span>
</span><p>Let&apos;s build skeletons for <code>CommentList</code> and <code>CommentForm</code> which will, again, be simple <code>&lt;div&gt;</code>s. Add these two components to your file, keeping the existing <code>CommentBox</code> declaration and <code>ReactDOM.render</code> call:</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// tutorial2.js</span>
<span class="kd">var</span> <span class="nx">CommentList</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createClass</span><span class="p">({</span>
  <span class="nx">render</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span>
      <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="s2">&quot;commentList&quot;</span><span class="o">&gt;</span>
        <span class="nx">Hello</span><span class="p">,</span> <span class="nx">world</span><span class="o">!</span> <span class="nx">I</span> <span class="nx">am</span> <span class="nx">a</span> <span class="nx">CommentList</span><span class="p">.</span>
      <span class="o">&lt;</span><span class="err">/div&gt;</span>
    <span class="p">);</span>
  <span class="p">}</span>
<span class="p">});</span>

<span class="kd">var</span> <span class="nx">CommentForm</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createClass</span><span class="p">({</span>
  <span class="nx">render</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span>
      <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="s2">&quot;commentForm&quot;</span><span class="o">&gt;</span>
        <span class="nx">Hello</span><span class="p">,</span> <span class="nx">world</span><span class="o">!</span> <span class="nx">I</span> <span class="nx">am</span> <span class="nx">a</span> <span class="nx">CommentForm</span><span class="p">.</span>
      <span class="o">&lt;</span><span class="err">/div&gt;</span>
    <span class="p">);</span>
  <span class="p">}</span>
<span class="p">});</span>
</code></pre></div><span>
</span><p>Next, update the <code>CommentBox</code> component to use these new components:</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// tutorial3.js</span>
<span class="kd">var</span> <span class="nx">CommentBox</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createClass</span><span class="p">({</span>
  <span class="nx">render</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span>
      <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="s2">&quot;commentBox&quot;</span><span class="o">&gt;</span>
<span class="hll">        <span class="o">&lt;</span><span class="nx">h1</span><span class="o">&gt;</span><span class="nx">Comments</span><span class="o">&lt;</span><span class="err">/h1&gt;</span>
</span><span class="hll">        <span class="o">&lt;</span><span class="nx">CommentList</span> <span class="o">/&gt;</span>
</span><span class="hll">        <span class="o">&lt;</span><span class="nx">CommentForm</span> <span class="o">/&gt;</span>
</span>      <span class="o">&lt;</span><span class="err">/div&gt;</span>
    <span class="p">);</span>
  <span class="p">}</span>
<span class="p">});</span>
</code></pre></div><span>
</span><p>Notice how we&apos;re mixing HTML tags and components we&apos;ve built. HTML components are regular React components, just like the ones you define, with one difference. The JSX compiler will automatically rewrite HTML tags to <code>React.createElement(tagName)</code> expressions and leave everything else alone. This is to prevent the pollution of the global namespace.</p><span>
</span><h3><a class="anchor" name="using-props"></a>Using props </h3><span>
</span><p>Let&apos;s create the <code>Comment</code> component, which will depend on data passed in from its parent. Data passed in from a parent component is available as a &apos;property&apos; on the child component. These &apos;properties&apos; are accessed through <code>this.props</code>. Using props, we will be able to read the data passed to the <code>Comment</code> from the <code>CommentList</code>, and render some markup:</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// tutorial4.js</span>
<span class="kd">var</span> <span class="nx">Comment</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createClass</span><span class="p">({</span>
  <span class="nx">render</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span>
      <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="s2">&quot;comment&quot;</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nx">h2</span> <span class="nx">className</span><span class="o">=</span><span class="s2">&quot;commentAuthor&quot;</span><span class="o">&gt;</span>
          <span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">author</span><span class="p">}</span>
        <span class="o">&lt;</span><span class="err">/h2&gt;</span>
        <span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">children</span><span class="p">}</span>
      <span class="o">&lt;</span><span class="err">/div&gt;</span>
    <span class="p">);</span>
  <span class="p">}</span>
<span class="p">});</span>
</code></pre></div><span>
</span><p>By surrounding a JavaScript expression in braces inside JSX (as either an attribute or child), you can drop text or React components into the tree. We access named attributes passed to the component as keys on <code>this.props</code> and any nested elements as <code>this.props.children</code>.</p><span>
</span><h3><a class="anchor" name="component-properties"></a>Component Properties </h3><span>
</span><p>Now that we have defined the <code>Comment</code> component, we will want to pass it the author name and comment text. This allows us to reuse the same code for each unique comment. Now let&apos;s add some comments within our <code>CommentList</code>:</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// tutorial5.js</span>
<span class="kd">var</span> <span class="nx">CommentList</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createClass</span><span class="p">({</span>
  <span class="nx">render</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span>
      <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="s2">&quot;commentList&quot;</span><span class="o">&gt;</span>
<span class="hll">        <span class="o">&lt;</span><span class="nx">Comment</span> <span class="nx">author</span><span class="o">=</span><span class="s2">&quot;Pete Hunt&quot;</span><span class="o">&gt;</span><span class="nx">This</span> <span class="nx">is</span> <span class="nx">one</span> <span class="nx">comment</span><span class="o">&lt;</span><span class="err">/Comment&gt;</span>
</span><span class="hll">        <span class="o">&lt;</span><span class="nx">Comment</span> <span class="nx">author</span><span class="o">=</span><span class="s2">&quot;Jordan Walke&quot;</span><span class="o">&gt;</span><span class="nx">This</span> <span class="nx">is</span> <span class="o">*</span><span class="nx">another</span><span class="o">*</span> <span class="nx">comment</span><span class="o">&lt;</span><span class="err">/Comment&gt;</span>
</span>      <span class="o">&lt;</span><span class="err">/div&gt;</span>
    <span class="p">);</span>
  <span class="p">}</span>
<span class="p">});</span>
</code></pre></div><span>
</span><p>Note that we have passed some data from the parent <code>CommentList</code> component to the child <code>Comment</code> components. For example, we passed <em>Pete Hunt</em> (via an attribute) and <em>This is one comment</em> (via an XML-like child node) to the first <code>Comment</code>. As noted above, the <code>Comment</code> component will access these &apos;properties&apos; through <code>this.props.author</code>, and <code>this.props.children</code>.</p><span>
</span><h3><a class="anchor" name="adding-markdown"></a>Adding Markdown </h3><span>
</span><p>Markdown is a simple way to format your text inline. For example, surrounding text with asterisks will make it emphasized.</p><span>

</span><p>In this tutorial we use a third-party library <strong>remarkable</strong> which takes Markdown text and converts it to raw HTML. We already included this library with the original markup for the page, so we can just start using it. Let&apos;s convert the comment text to Markdown and output it:</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// tutorial6.js</span>
<span class="kd">var</span> <span class="nx">Comment</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createClass</span><span class="p">({</span>
  <span class="nx">render</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
<span class="hll">    <span class="kd">var</span> <span class="nx">md</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Remarkable</span><span class="p">();</span>
</span>    <span class="k">return</span> <span class="p">(</span>
      <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="s2">&quot;comment&quot;</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nx">h2</span> <span class="nx">className</span><span class="o">=</span><span class="s2">&quot;commentAuthor&quot;</span><span class="o">&gt;</span>
          <span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">author</span><span class="p">}</span>
        <span class="o">&lt;</span><span class="err">/h2&gt;</span>
<span class="hll">        <span class="p">{</span><span class="nx">md</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">children</span><span class="p">.</span><span class="nx">toString</span><span class="p">())}</span>
</span>      <span class="o">&lt;</span><span class="err">/div&gt;</span>
    <span class="p">);</span>
  <span class="p">}</span>
<span class="p">});</span>
</code></pre></div><span>
</span><p>All we&apos;re doing here is calling the remarkable library. We need to convert <code>this.props.children</code> from React&apos;s wrapped text to a raw string that remarkable will understand so we explicitly call <code>toString()</code>.</p><span>

</span><p>But there&apos;s a problem! Our rendered comments look like this in the browser: &quot;<code>&lt;p&gt;</code>This is <code>&lt;em&gt;</code>another<code>&lt;/em&gt;</code> comment<code>&lt;/p&gt;</code>&quot;. We want those tags to actually render as HTML.</p><span>

</span><p>That&apos;s React protecting you from an <a href="https://en.wikipedia.org/wiki/Cross-site_scripting">XSS attack</a>. There&apos;s a way to get around it but the framework warns you not to use it:</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// tutorial7.js</span>
<span class="kd">var</span> <span class="nx">Comment</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createClass</span><span class="p">({</span>
<span class="hll">  <span class="nx">rawMarkup</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span><span class="hll">    <span class="kd">var</span> <span class="nx">md</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Remarkable</span><span class="p">();</span>
</span><span class="hll">    <span class="kd">var</span> <span class="nx">rawMarkup</span> <span class="o">=</span> <span class="nx">md</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">children</span><span class="p">.</span><span class="nx">toString</span><span class="p">());</span>
</span><span class="hll">    <span class="k">return</span> <span class="p">{</span> <span class="nx">__html</span><span class="o">:</span> <span class="nx">rawMarkup</span> <span class="p">};</span>
</span><span class="hll">  <span class="p">},</span>
</span>
  <span class="nx">render</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span>
      <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="s2">&quot;comment&quot;</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nx">h2</span> <span class="nx">className</span><span class="o">=</span><span class="s2">&quot;commentAuthor&quot;</span><span class="o">&gt;</span>
          <span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">author</span><span class="p">}</span>
        <span class="o">&lt;</span><span class="err">/h2&gt;</span>
<span class="hll">        <span class="o">&lt;</span><span class="nx">span</span> <span class="nx">dangerouslySetInnerHTML</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">rawMarkup</span><span class="p">()}</span> <span class="o">/&gt;</span>
</span>      <span class="o">&lt;</span><span class="err">/div&gt;</span>
    <span class="p">);</span>
  <span class="p">}</span>
<span class="p">});</span>
</code></pre></div><span>
</span><p>This is a special API that intentionally makes it difficult to insert raw HTML, but for remarkable we&apos;ll take advantage of this backdoor.</p><span>

</span><p><strong>Remember:</strong> by using this feature you&apos;re relying on remarkable to be secure. In this case, remarkable automatically strips HTML markup and insecure links from the output.</p><span>
</span><h3><a class="anchor" name="hook-up-the-data-model"></a>Hook up the data model </h3><span>
</span><p>So far we&apos;ve been inserting the comments directly in the source code. Instead, let&apos;s render a blob of JSON data into the comment list. Eventually this will come from the server, but for now, write it in your source:</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// tutorial8.js</span>
<span class="kd">var</span> <span class="nx">data</span> <span class="o">=</span> <span class="p">[</span>
  <span class="p">{</span><span class="nx">id</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">author</span><span class="o">:</span> <span class="s2">&quot;Pete Hunt&quot;</span><span class="p">,</span> <span class="nx">text</span><span class="o">:</span> <span class="s2">&quot;This is one comment&quot;</span><span class="p">},</span>
  <span class="p">{</span><span class="nx">id</span><span class="o">:</span> <span class="mi">2</span><span class="p">,</span> <span class="nx">author</span><span class="o">:</span> <span class="s2">&quot;Jordan Walke&quot;</span><span class="p">,</span> <span class="nx">text</span><span class="o">:</span> <span class="s2">&quot;This is *another* comment&quot;</span><span class="p">}</span>
<span class="p">];</span>
</code></pre></div><span>
</span><p>We need to get this data into <code>CommentList</code> in a modular way. Modify <code>CommentBox</code> and the <code>ReactDOM.render()</code> call to pass this data into the <code>CommentList</code> via props:</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// tutorial9.js</span>
<span class="kd">var</span> <span class="nx">CommentBox</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createClass</span><span class="p">({</span>
  <span class="nx">render</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span>
      <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="s2">&quot;commentBox&quot;</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nx">h1</span><span class="o">&gt;</span><span class="nx">Comments</span><span class="o">&lt;</span><span class="err">/h1&gt;</span>
<span class="hll">        <span class="o">&lt;</span><span class="nx">CommentList</span> <span class="nx">data</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">data</span><span class="p">}</span> <span class="o">/&gt;</span>
</span>        <span class="o">&lt;</span><span class="nx">CommentForm</span> <span class="o">/&gt;</span>
      <span class="o">&lt;</span><span class="err">/div&gt;</span>
    <span class="p">);</span>
  <span class="p">}</span>
<span class="p">});</span>

<span class="nx">ReactDOM</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span>
<span class="hll">  <span class="o">&lt;</span><span class="nx">CommentBox</span> <span class="nx">data</span><span class="o">=</span><span class="p">{</span><span class="nx">data</span><span class="p">}</span> <span class="o">/&gt;</span><span class="p">,</span>
</span>  <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&apos;content&apos;</span><span class="p">)</span>
<span class="p">);</span>
</code></pre></div><span>
</span><p>Now that the data is available in the <code>CommentList</code>, let&apos;s render the comments dynamically:</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// tutorial10.js</span>
<span class="kd">var</span> <span class="nx">CommentList</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createClass</span><span class="p">({</span>
  <span class="nx">render</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
<span class="hll">    <span class="kd">var</span> <span class="nx">commentNodes</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">comment</span><span class="p">)</span> <span class="p">{</span>
</span><span class="hll">      <span class="k">return</span> <span class="p">(</span>
</span><span class="hll">        <span class="o">&lt;</span><span class="nx">Comment</span> <span class="nx">author</span><span class="o">=</span><span class="p">{</span><span class="nx">comment</span><span class="p">.</span><span class="nx">author</span><span class="p">}</span> <span class="nx">key</span><span class="o">=</span><span class="p">{</span><span class="nx">comment</span><span class="p">.</span><span class="nx">id</span><span class="p">}</span><span class="o">&gt;</span>
</span><span class="hll">          <span class="p">{</span><span class="nx">comment</span><span class="p">.</span><span class="nx">text</span><span class="p">}</span>
</span><span class="hll">        <span class="o">&lt;</span><span class="err">/Comment&gt;</span>
</span><span class="hll">      <span class="p">);</span>
</span><span class="hll">    <span class="p">});</span>
</span>    <span class="k">return</span> <span class="p">(</span>
      <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="s2">&quot;commentList&quot;</span><span class="o">&gt;</span>
<span class="hll">        <span class="p">{</span><span class="nx">commentNodes</span><span class="p">}</span>
</span>      <span class="o">&lt;</span><span class="err">/div&gt;</span>
    <span class="p">);</span>
  <span class="p">}</span>
<span class="p">});</span>
</code></pre></div><span>
</span><p>That&apos;s it!</p><span>
</span><h3><a class="anchor" name="fetching-from-the-server"></a>Fetching from the server </h3><span>
</span><p>Let&apos;s replace the hard-coded data with some dynamic data from the server. We will remove the data prop and replace it with a URL to fetch:</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// tutorial11.js</span>
<span class="nx">ReactDOM</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span>
<span class="hll">  <span class="o">&lt;</span><span class="nx">CommentBox</span> <span class="nx">url</span><span class="o">=</span><span class="s2">&quot;/api/comments&quot;</span> <span class="o">/&gt;</span><span class="p">,</span>
</span>  <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&apos;content&apos;</span><span class="p">)</span>
<span class="p">);</span>
</code></pre></div><span>
</span><p>This component is different from the prior components because it will have to re-render itself. The component won&apos;t have any data until the request from the server comes back, at which point the component may need to render some new comments.</p><span>

</span><p>Note: the code will not be working at this step.</p><span>
</span><h3><a class="anchor" name="reactive-state"></a>Reactive state </h3><span>
</span><p>So far, based on its props, each component has rendered itself once. <code>props</code> are immutable: they are passed from the parent and are &quot;owned&quot; by the parent. To implement interactions, we introduce mutable <strong>state</strong> to the component. <code>this.state</code> is private to the component and can be changed by calling <code>this.setState()</code>. When the state updates, the component re-renders itself.</p><span>

</span><p><code>render()</code> methods are written declaratively as functions of <code>this.props</code> and <code>this.state</code>. The framework guarantees the UI is always consistent with the inputs.</p><span>

</span><p>When the server fetches data, we will be changing the comment data we have. Let&apos;s add an array of comment data to the <code>CommentBox</code> component as its state:</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// tutorial12.js</span>
<span class="kd">var</span> <span class="nx">CommentBox</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createClass</span><span class="p">({</span>
<span class="hll">  <span class="nx">getInitialState</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span><span class="hll">    <span class="k">return</span> <span class="p">{</span><span class="nx">data</span><span class="o">:</span> <span class="p">[]};</span>
</span><span class="hll">  <span class="p">},</span>
</span>  <span class="nx">render</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span>
      <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="s2">&quot;commentBox&quot;</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nx">h1</span><span class="o">&gt;</span><span class="nx">Comments</span><span class="o">&lt;</span><span class="err">/h1&gt;</span>
<span class="hll">        <span class="o">&lt;</span><span class="nx">CommentList</span> <span class="nx">data</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">data</span><span class="p">}</span> <span class="o">/&gt;</span>
</span>        <span class="o">&lt;</span><span class="nx">CommentForm</span> <span class="o">/&gt;</span>
      <span class="o">&lt;</span><span class="err">/div&gt;</span>
    <span class="p">);</span>
  <span class="p">}</span>
<span class="p">});</span>
</code></pre></div><span>
</span><p><code>getInitialState()</code> executes exactly once during the lifecycle of the component and sets up the initial state of the component.</p><span>
</span><h4><a class="anchor" name="updating-state"></a>Updating state </h4><span>
</span><p>When the component is first created, we want to GET some JSON from the server and update the state to reflect the latest data. We&apos;re going to use jQuery to make an asynchronous request to the server we started earlier to fetch the data we need. The data is already included in the server you started (based on the <code>comments.json</code> file), so once it&apos;s fetched, <code>this.state.data</code> will look something like this:</p><span>
</span><div class="highlight"><pre><code class="language-json" data-lang="json"><span class="p">[</span>
  <span class="p">{</span><span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;1&quot;</span><span class="p">,</span> <span class="nt">&quot;author&quot;</span><span class="p">:</span> <span class="s2">&quot;Pete Hunt&quot;</span><span class="p">,</span> <span class="nt">&quot;text&quot;</span><span class="p">:</span> <span class="s2">&quot;This is one comment&quot;</span><span class="p">},</span>
  <span class="p">{</span><span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;2&quot;</span><span class="p">,</span> <span class="nt">&quot;author&quot;</span><span class="p">:</span> <span class="s2">&quot;Jordan Walke&quot;</span><span class="p">,</span> <span class="nt">&quot;text&quot;</span><span class="p">:</span> <span class="s2">&quot;This is *another* comment&quot;</span><span class="p">}</span>
<span class="p">]</span>
</code></pre></div><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// tutorial13.js</span>
<span class="kd">var</span> <span class="nx">CommentBox</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createClass</span><span class="p">({</span>
  <span class="nx">getInitialState</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">{</span><span class="nx">data</span><span class="o">:</span> <span class="p">[]};</span>
  <span class="p">},</span>
<span class="hll">  <span class="nx">componentDidMount</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span><span class="hll">    <span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">({</span>
</span><span class="hll">      <span class="nx">url</span><span class="o">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">url</span><span class="p">,</span>
</span><span class="hll">      <span class="nx">dataType</span><span class="o">:</span> <span class="s1">&apos;json&apos;</span><span class="p">,</span>
</span><span class="hll">      <span class="nx">cache</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
</span><span class="hll">      <span class="nx">success</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
</span><span class="hll">        <span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">({</span><span class="nx">data</span><span class="o">:</span> <span class="nx">data</span><span class="p">});</span>
</span><span class="hll">      <span class="p">}.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">),</span>
</span><span class="hll">      <span class="nx">error</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">xhr</span><span class="p">,</span> <span class="nx">status</span><span class="p">,</span> <span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
</span><span class="hll">        <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">url</span><span class="p">,</span> <span class="nx">status</span><span class="p">,</span> <span class="nx">err</span><span class="p">.</span><span class="nx">toString</span><span class="p">());</span>
</span><span class="hll">      <span class="p">}.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">)</span>
</span><span class="hll">    <span class="p">});</span>
</span><span class="hll">  <span class="p">},</span>
</span>  <span class="nx">render</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span>
      <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="s2">&quot;commentBox&quot;</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nx">h1</span><span class="o">&gt;</span><span class="nx">Comments</span><span class="o">&lt;</span><span class="err">/h1&gt;</span>
        <span class="o">&lt;</span><span class="nx">CommentList</span> <span class="nx">data</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">data</span><span class="p">}</span> <span class="o">/&gt;</span>
        <span class="o">&lt;</span><span class="nx">CommentForm</span> <span class="o">/&gt;</span>
      <span class="o">&lt;</span><span class="err">/div&gt;</span>
    <span class="p">);</span>
  <span class="p">}</span>
<span class="p">});</span>
</code></pre></div><span>
</span><p>Here, <code>componentDidMount</code> is a method called automatically by React after a component is rendered for the first time. The key to dynamic updates is the call to <code>this.setState()</code>. We replace the old array of comments with the new one from the server and the UI automatically updates itself. Because of this reactivity, it is only a minor change to add live updates. We will use simple polling here but you could easily use WebSockets or other technologies.</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// tutorial14.js</span>
<span class="kd">var</span> <span class="nx">CommentBox</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createClass</span><span class="p">({</span>
<span class="hll">  <span class="nx">loadCommentsFromServer</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span>    <span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">({</span>
      <span class="nx">url</span><span class="o">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">url</span><span class="p">,</span>
      <span class="nx">dataType</span><span class="o">:</span> <span class="s1">&apos;json&apos;</span><span class="p">,</span>
      <span class="nx">cache</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
      <span class="nx">success</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">({</span><span class="nx">data</span><span class="o">:</span> <span class="nx">data</span><span class="p">});</span>
      <span class="p">}.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">),</span>
      <span class="nx">error</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">xhr</span><span class="p">,</span> <span class="nx">status</span><span class="p">,</span> <span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">url</span><span class="p">,</span> <span class="nx">status</span><span class="p">,</span> <span class="nx">err</span><span class="p">.</span><span class="nx">toString</span><span class="p">());</span>
      <span class="p">}.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">)</span>
    <span class="p">});</span>
<span class="hll">  <span class="p">},</span>
</span>  <span class="nx">getInitialState</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">{</span><span class="nx">data</span><span class="o">:</span> <span class="p">[]};</span>
  <span class="p">},</span>
  <span class="nx">componentDidMount</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
<span class="hll">    <span class="k">this</span><span class="p">.</span><span class="nx">loadCommentsFromServer</span><span class="p">();</span>
</span><span class="hll">    <span class="nx">setInterval</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">loadCommentsFromServer</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">pollInterval</span><span class="p">);</span>
</span>  <span class="p">},</span>
  <span class="nx">render</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span>
      <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="s2">&quot;commentBox&quot;</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nx">h1</span><span class="o">&gt;</span><span class="nx">Comments</span><span class="o">&lt;</span><span class="err">/h1&gt;</span>
        <span class="o">&lt;</span><span class="nx">CommentList</span> <span class="nx">data</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">data</span><span class="p">}</span> <span class="o">/&gt;</span>
        <span class="o">&lt;</span><span class="nx">CommentForm</span> <span class="o">/&gt;</span>
      <span class="o">&lt;</span><span class="err">/div&gt;</span>
    <span class="p">);</span>
  <span class="p">}</span>
<span class="p">});</span>

<span class="nx">ReactDOM</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span>
<span class="hll">  <span class="o">&lt;</span><span class="nx">CommentBox</span> <span class="nx">url</span><span class="o">=</span><span class="s2">&quot;/api/comments&quot;</span> <span class="nx">pollInterval</span><span class="o">=</span><span class="p">{</span><span class="mi">2000</span><span class="p">}</span> <span class="o">/&gt;</span><span class="p">,</span>
</span>  <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&apos;content&apos;</span><span class="p">)</span>
<span class="p">);</span>
</code></pre></div><span>
</span><p>All we have done here is move the AJAX call to a separate method and call it when the component is first loaded and every 2 seconds after that. Try running this in your browser and changing the <code>comments.json</code> file (in the same directory as your server); within 2 seconds, the changes will show!</p><span>
</span><h3><a class="anchor" name="adding-new-comments"></a>Adding new comments </h3><span>
</span><p>Now it&apos;s time to build the form. Our <code>CommentForm</code> component should ask the user for their name and comment text and send a request to the server to save the comment.</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// tutorial15.js</span>
<span class="kd">var</span> <span class="nx">CommentForm</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createClass</span><span class="p">({</span>
  <span class="nx">render</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span>
<span class="hll">      <span class="o">&lt;</span><span class="nx">form</span> <span class="nx">className</span><span class="o">=</span><span class="s2">&quot;commentForm&quot;</span><span class="o">&gt;</span>
</span><span class="hll">        <span class="o">&lt;</span><span class="nx">input</span> <span class="nx">type</span><span class="o">=</span><span class="s2">&quot;text&quot;</span> <span class="nx">placeholder</span><span class="o">=</span><span class="s2">&quot;Your name&quot;</span> <span class="o">/&gt;</span>
</span><span class="hll">        <span class="o">&lt;</span><span class="nx">input</span> <span class="nx">type</span><span class="o">=</span><span class="s2">&quot;text&quot;</span> <span class="nx">placeholder</span><span class="o">=</span><span class="s2">&quot;Say something...&quot;</span> <span class="o">/&gt;</span>
</span><span class="hll">        <span class="o">&lt;</span><span class="nx">input</span> <span class="nx">type</span><span class="o">=</span><span class="s2">&quot;submit&quot;</span> <span class="nx">value</span><span class="o">=</span><span class="s2">&quot;Post&quot;</span> <span class="o">/&gt;</span>
</span><span class="hll">      <span class="o">&lt;</span><span class="err">/form&gt;</span>
</span>    <span class="p">);</span>
  <span class="p">}</span>
<span class="p">});</span>
</code></pre></div><h4><a class="anchor" name="controlled-components"></a>Controlled components </h4><span>
</span><p>With the traditional DOM, <code>input</code> elements are rendered and the browser manages the state (its rendered value). As a result, the state of the actual DOM will differ from that of the component. This is not ideal as the state of the view will differ from that of the component. In React, components should always represent the state of the view and not only at the point of initialization.</p><span>

</span><p>Hence, we will be using <code>this.state</code> to save the user&apos;s input as it is entered. We define an initial <code>state</code> with two properties <code>author</code> and <code>text</code> and set them to be empty strings. In our <code>&lt;input&gt;</code> elements, we set the <code>value</code> prop to reflect the <code>state</code> of the component and attach <code>onChange</code> handlers to them. These <code>&lt;input&gt;</code> elements with a <code>value</code> set are called controlled components. Read more about controlled components on the <a href="https://facebook.github.io/react/docs/forms.html#controlled-components">Forms article</a>.</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// tutorial16.js</span>
<span class="kd">var</span> <span class="nx">CommentForm</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createClass</span><span class="p">({</span>
<span class="hll">  <span class="nx">getInitialState</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span><span class="hll">    <span class="k">return</span> <span class="p">{</span><span class="nx">author</span><span class="o">:</span> <span class="s1">&apos;&apos;</span><span class="p">,</span> <span class="nx">text</span><span class="o">:</span> <span class="s1">&apos;&apos;</span><span class="p">};</span>
</span><span class="hll">  <span class="p">},</span>
</span><span class="hll">  <span class="nx">handleAuthorChange</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
</span><span class="hll">    <span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">({</span><span class="nx">author</span><span class="o">:</span> <span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">value</span><span class="p">});</span>
</span><span class="hll">  <span class="p">},</span>
</span><span class="hll">  <span class="nx">handleTextChange</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
</span><span class="hll">    <span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">({</span><span class="nx">text</span><span class="o">:</span> <span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">value</span><span class="p">});</span>
</span><span class="hll">  <span class="p">},</span>
</span>  <span class="nx">render</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span>
      <span class="o">&lt;</span><span class="nx">form</span> <span class="nx">className</span><span class="o">=</span><span class="s2">&quot;commentForm&quot;</span><span class="o">&gt;</span>
<span class="hll">        <span class="o">&lt;</span><span class="nx">input</span>
</span><span class="hll">          <span class="nx">type</span><span class="o">=</span><span class="s2">&quot;text&quot;</span>
</span><span class="hll">          <span class="nx">placeholder</span><span class="o">=</span><span class="s2">&quot;Your name&quot;</span>
</span><span class="hll">          <span class="nx">value</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">author</span><span class="p">}</span>
</span><span class="hll">          <span class="nx">onChange</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">handleAuthorChange</span><span class="p">}</span>
</span><span class="hll">        <span class="o">/&gt;</span>
</span><span class="hll">        <span class="o">&lt;</span><span class="nx">input</span>
</span><span class="hll">          <span class="nx">type</span><span class="o">=</span><span class="s2">&quot;text&quot;</span>
</span><span class="hll">          <span class="nx">placeholder</span><span class="o">=</span><span class="s2">&quot;Say something...&quot;</span>
</span><span class="hll">          <span class="nx">value</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">text</span><span class="p">}</span>
</span><span class="hll">          <span class="nx">onChange</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">handleTextChange</span><span class="p">}</span>
</span><span class="hll">        <span class="o">/&gt;</span>
</span>        <span class="o">&lt;</span><span class="nx">input</span> <span class="nx">type</span><span class="o">=</span><span class="s2">&quot;submit&quot;</span> <span class="nx">value</span><span class="o">=</span><span class="s2">&quot;Post&quot;</span> <span class="o">/&gt;</span>
      <span class="o">&lt;</span><span class="err">/form&gt;</span>
    <span class="p">);</span>
  <span class="p">}</span>
<span class="p">});</span>
</code></pre></div><h4><a class="anchor" name="events"></a>Events </h4><span>
</span><p>React attaches event handlers to components using a camelCase naming convention. We attach <code>onChange</code> handlers to the two <code>&lt;input&gt;</code> elements. Now, as the user enters text into the <code>&lt;input&gt;</code> fields, the attached <code>onChange</code> callbacks are fired and the <code>state</code> of the component is modified. Subsequently, the rendered value of the <code>input</code> element will be updated to reflect the current component <code>state</code>.</p><span>

</span><p>(The astute reader may be surprised that these event handlers work as described, given that the method references are not explicitly bound to <code>this</code>. <code>React.createClass(...)</code> <a href="https://facebook.github.io/react/docs/interactivity-and-dynamic-uis.html#under-the-hood-autobinding-and-event-delegation">automatically binds</a> each method to its component instance, obviating the need for explicit binding.)</p><span>
</span><h4><a class="anchor" name="submitting-the-form"></a>Submitting the form </h4><span>
</span><p>Let&apos;s make the form interactive. When the user submits the form, we should clear it, submit a request to the server, and refresh the list of comments. To start, let&apos;s listen for the form&apos;s submit event and clear it.</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// tutorial17.js</span>
<span class="kd">var</span> <span class="nx">CommentForm</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createClass</span><span class="p">({</span>
  <span class="nx">getInitialState</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">{</span><span class="nx">author</span><span class="o">:</span> <span class="s1">&apos;&apos;</span><span class="p">,</span> <span class="nx">text</span><span class="o">:</span> <span class="s1">&apos;&apos;</span><span class="p">};</span>
  <span class="p">},</span>
  <span class="nx">handleAuthorChange</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">({</span><span class="nx">author</span><span class="o">:</span> <span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">value</span><span class="p">});</span>
  <span class="p">},</span>
  <span class="nx">handleTextChange</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">({</span><span class="nx">text</span><span class="o">:</span> <span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">value</span><span class="p">});</span>
  <span class="p">},</span>
<span class="hll">  <span class="nx">handleSubmit</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
</span><span class="hll">    <span class="nx">e</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">();</span>
</span><span class="hll">    <span class="kd">var</span> <span class="nx">author</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">author</span><span class="p">.</span><span class="nx">trim</span><span class="p">();</span>
</span><span class="hll">    <span class="kd">var</span> <span class="nx">text</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">text</span><span class="p">.</span><span class="nx">trim</span><span class="p">();</span>
</span><span class="hll">    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">text</span> <span class="o">||</span> <span class="o">!</span><span class="nx">author</span><span class="p">)</span> <span class="p">{</span>
</span><span class="hll">      <span class="k">return</span><span class="p">;</span>
</span><span class="hll">    <span class="p">}</span>
</span><span class="hll">    <span class="c1">// TODO: send request to the server</span>
</span><span class="hll">    <span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">({</span><span class="nx">author</span><span class="o">:</span> <span class="s1">&apos;&apos;</span><span class="p">,</span> <span class="nx">text</span><span class="o">:</span> <span class="s1">&apos;&apos;</span><span class="p">});</span>
</span><span class="hll">  <span class="p">},</span>
</span>  <span class="nx">render</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span>
<span class="hll">      <span class="o">&lt;</span><span class="nx">form</span> <span class="nx">className</span><span class="o">=</span><span class="s2">&quot;commentForm&quot;</span> <span class="nx">onSubmit</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">handleSubmit</span><span class="p">}</span><span class="o">&gt;</span>
</span>        <span class="o">&lt;</span><span class="nx">input</span>
          <span class="nx">type</span><span class="o">=</span><span class="s2">&quot;text&quot;</span>
          <span class="nx">placeholder</span><span class="o">=</span><span class="s2">&quot;Your name&quot;</span>
          <span class="nx">value</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">author</span><span class="p">}</span>
          <span class="nx">onChange</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">handleAuthorChange</span><span class="p">}</span>
        <span class="o">/&gt;</span>
        <span class="o">&lt;</span><span class="nx">input</span>
          <span class="nx">type</span><span class="o">=</span><span class="s2">&quot;text&quot;</span>
          <span class="nx">placeholder</span><span class="o">=</span><span class="s2">&quot;Say something...&quot;</span>
          <span class="nx">value</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">text</span><span class="p">}</span>
          <span class="nx">onChange</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">handleTextChange</span><span class="p">}</span>
        <span class="o">/&gt;</span>
        <span class="o">&lt;</span><span class="nx">input</span> <span class="nx">type</span><span class="o">=</span><span class="s2">&quot;submit&quot;</span> <span class="nx">value</span><span class="o">=</span><span class="s2">&quot;Post&quot;</span> <span class="o">/&gt;</span>
      <span class="o">&lt;</span><span class="err">/form&gt;</span>
    <span class="p">);</span>
  <span class="p">}</span>
<span class="p">});</span>
</code></pre></div><span>
</span><p>We attach an <code>onSubmit</code> handler to the form that clears the form fields when the form is submitted with valid input.</p><span>

</span><p>Call <code>preventDefault()</code> on the event to prevent the browser&apos;s default action of submitting the form.</p><span>
</span><h4><a class="anchor" name="callbacks-as-props"></a>Callbacks as props </h4><span>
</span><p>When a user submits a comment, we will need to refresh the list of comments to include the new one. It makes sense to do all of this logic in <code>CommentBox</code> since <code>CommentBox</code> owns the state that represents the list of comments.</p><span>

</span><p>We need to pass data from the child component back up to its parent. We do this in our parent&apos;s <code>render</code> method by passing a new callback (<code>handleCommentSubmit</code>) into the child, binding it to the child&apos;s <code>onCommentSubmit</code> event. Whenever the event is triggered, the callback will be invoked:</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// tutorial18.js</span>
<span class="kd">var</span> <span class="nx">CommentBox</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createClass</span><span class="p">({</span>
  <span class="nx">loadCommentsFromServer</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">({</span>
      <span class="nx">url</span><span class="o">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">url</span><span class="p">,</span>
      <span class="nx">dataType</span><span class="o">:</span> <span class="s1">&apos;json&apos;</span><span class="p">,</span>
      <span class="nx">cache</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
      <span class="nx">success</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">({</span><span class="nx">data</span><span class="o">:</span> <span class="nx">data</span><span class="p">});</span>
      <span class="p">}.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">),</span>
      <span class="nx">error</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">xhr</span><span class="p">,</span> <span class="nx">status</span><span class="p">,</span> <span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">url</span><span class="p">,</span> <span class="nx">status</span><span class="p">,</span> <span class="nx">err</span><span class="p">.</span><span class="nx">toString</span><span class="p">());</span>
      <span class="p">}.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">)</span>
    <span class="p">});</span>
  <span class="p">},</span>
<span class="hll">  <span class="nx">handleCommentSubmit</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">comment</span><span class="p">)</span> <span class="p">{</span>
</span><span class="hll">    <span class="c1">// TODO: submit to the server and refresh the list</span>
</span><span class="hll">  <span class="p">},</span>
</span>  <span class="nx">getInitialState</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">{</span><span class="nx">data</span><span class="o">:</span> <span class="p">[]};</span>
  <span class="p">},</span>
  <span class="nx">componentDidMount</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">loadCommentsFromServer</span><span class="p">();</span>
    <span class="nx">setInterval</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">loadCommentsFromServer</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">pollInterval</span><span class="p">);</span>
  <span class="p">},</span>
  <span class="nx">render</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span>
      <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="s2">&quot;commentBox&quot;</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nx">h1</span><span class="o">&gt;</span><span class="nx">Comments</span><span class="o">&lt;</span><span class="err">/h1&gt;</span>
        <span class="o">&lt;</span><span class="nx">CommentList</span> <span class="nx">data</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">data</span><span class="p">}</span> <span class="o">/&gt;</span>
<span class="hll">        <span class="o">&lt;</span><span class="nx">CommentForm</span> <span class="nx">onCommentSubmit</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">handleCommentSubmit</span><span class="p">}</span> <span class="o">/&gt;</span>
</span>      <span class="o">&lt;</span><span class="err">/div&gt;</span>
    <span class="p">);</span>
  <span class="p">}</span>
<span class="p">});</span>
</code></pre></div><span>
</span><p>Now that <code>CommentBox</code> has made the callback available to <code>CommentForm</code> via the <code>onCommentSubmit</code> prop, the <code>CommentForm</code> can call the callback when the user submits the form:</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// tutorial19.js</span>
<span class="kd">var</span> <span class="nx">CommentForm</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createClass</span><span class="p">({</span>
  <span class="nx">getInitialState</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">{</span><span class="nx">author</span><span class="o">:</span> <span class="s1">&apos;&apos;</span><span class="p">,</span> <span class="nx">text</span><span class="o">:</span> <span class="s1">&apos;&apos;</span><span class="p">};</span>
  <span class="p">},</span>
  <span class="nx">handleAuthorChange</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">({</span><span class="nx">author</span><span class="o">:</span> <span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">value</span><span class="p">});</span>
  <span class="p">},</span>
  <span class="nx">handleTextChange</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">({</span><span class="nx">text</span><span class="o">:</span> <span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">value</span><span class="p">});</span>
  <span class="p">},</span>
  <span class="nx">handleSubmit</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">e</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">();</span>
    <span class="kd">var</span> <span class="nx">author</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">author</span><span class="p">.</span><span class="nx">trim</span><span class="p">();</span>
    <span class="kd">var</span> <span class="nx">text</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">text</span><span class="p">.</span><span class="nx">trim</span><span class="p">();</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">text</span> <span class="o">||</span> <span class="o">!</span><span class="nx">author</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">return</span><span class="p">;</span>
    <span class="p">}</span>
<span class="hll">    <span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">onCommentSubmit</span><span class="p">({</span><span class="nx">author</span><span class="o">:</span> <span class="nx">author</span><span class="p">,</span> <span class="nx">text</span><span class="o">:</span> <span class="nx">text</span><span class="p">});</span>
</span>    <span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">({</span><span class="nx">author</span><span class="o">:</span> <span class="s1">&apos;&apos;</span><span class="p">,</span> <span class="nx">text</span><span class="o">:</span> <span class="s1">&apos;&apos;</span><span class="p">});</span>
  <span class="p">},</span>
  <span class="nx">render</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span>
      <span class="o">&lt;</span><span class="nx">form</span> <span class="nx">className</span><span class="o">=</span><span class="s2">&quot;commentForm&quot;</span> <span class="nx">onSubmit</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">handleSubmit</span><span class="p">}</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nx">input</span>
          <span class="nx">type</span><span class="o">=</span><span class="s2">&quot;text&quot;</span>
          <span class="nx">placeholder</span><span class="o">=</span><span class="s2">&quot;Your name&quot;</span>
          <span class="nx">value</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">author</span><span class="p">}</span>
          <span class="nx">onChange</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">handleAuthorChange</span><span class="p">}</span>
        <span class="o">/&gt;</span>
        <span class="o">&lt;</span><span class="nx">input</span>
          <span class="nx">type</span><span class="o">=</span><span class="s2">&quot;text&quot;</span>
          <span class="nx">placeholder</span><span class="o">=</span><span class="s2">&quot;Say something...&quot;</span>
          <span class="nx">value</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">text</span><span class="p">}</span>
          <span class="nx">onChange</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">handleTextChange</span><span class="p">}</span>
        <span class="o">/&gt;</span>
        <span class="o">&lt;</span><span class="nx">input</span> <span class="nx">type</span><span class="o">=</span><span class="s2">&quot;submit&quot;</span> <span class="nx">value</span><span class="o">=</span><span class="s2">&quot;Post&quot;</span> <span class="o">/&gt;</span>
      <span class="o">&lt;</span><span class="err">/form&gt;</span>
    <span class="p">);</span>
  <span class="p">}</span>
<span class="p">});</span>
</code></pre></div><span>
</span><p>Now that the callbacks are in place, all we have to do is submit to the server and refresh the list:</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// tutorial20.js</span>
<span class="kd">var</span> <span class="nx">CommentBox</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createClass</span><span class="p">({</span>
  <span class="nx">loadCommentsFromServer</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">({</span>
      <span class="nx">url</span><span class="o">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">url</span><span class="p">,</span>
      <span class="nx">dataType</span><span class="o">:</span> <span class="s1">&apos;json&apos;</span><span class="p">,</span>
      <span class="nx">cache</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
      <span class="nx">success</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">({</span><span class="nx">data</span><span class="o">:</span> <span class="nx">data</span><span class="p">});</span>
      <span class="p">}.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">),</span>
      <span class="nx">error</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">xhr</span><span class="p">,</span> <span class="nx">status</span><span class="p">,</span> <span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">url</span><span class="p">,</span> <span class="nx">status</span><span class="p">,</span> <span class="nx">err</span><span class="p">.</span><span class="nx">toString</span><span class="p">());</span>
      <span class="p">}.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">)</span>
    <span class="p">});</span>
  <span class="p">},</span>
  <span class="nx">handleCommentSubmit</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">comment</span><span class="p">)</span> <span class="p">{</span>
<span class="hll">    <span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">({</span>
</span><span class="hll">      <span class="nx">url</span><span class="o">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">url</span><span class="p">,</span>
</span><span class="hll">      <span class="nx">dataType</span><span class="o">:</span> <span class="s1">&apos;json&apos;</span><span class="p">,</span>
</span><span class="hll">      <span class="nx">type</span><span class="o">:</span> <span class="s1">&apos;POST&apos;</span><span class="p">,</span>
</span><span class="hll">      <span class="nx">data</span><span class="o">:</span> <span class="nx">comment</span><span class="p">,</span>
</span><span class="hll">      <span class="nx">success</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
</span><span class="hll">        <span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">({</span><span class="nx">data</span><span class="o">:</span> <span class="nx">data</span><span class="p">});</span>
</span><span class="hll">      <span class="p">}.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">),</span>
</span><span class="hll">      <span class="nx">error</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">xhr</span><span class="p">,</span> <span class="nx">status</span><span class="p">,</span> <span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
</span><span class="hll">        <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">url</span><span class="p">,</span> <span class="nx">status</span><span class="p">,</span> <span class="nx">err</span><span class="p">.</span><span class="nx">toString</span><span class="p">());</span>
</span><span class="hll">      <span class="p">}.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">)</span>
</span><span class="hll">    <span class="p">});</span>
</span>  <span class="p">},</span>
  <span class="nx">getInitialState</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">{</span><span class="nx">data</span><span class="o">:</span> <span class="p">[]};</span>
  <span class="p">},</span>
  <span class="nx">componentDidMount</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">loadCommentsFromServer</span><span class="p">();</span>
    <span class="nx">setInterval</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">loadCommentsFromServer</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">pollInterval</span><span class="p">);</span>
  <span class="p">},</span>
  <span class="nx">render</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span>
      <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="s2">&quot;commentBox&quot;</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nx">h1</span><span class="o">&gt;</span><span class="nx">Comments</span><span class="o">&lt;</span><span class="err">/h1&gt;</span>
        <span class="o">&lt;</span><span class="nx">CommentList</span> <span class="nx">data</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">data</span><span class="p">}</span> <span class="o">/&gt;</span>
        <span class="o">&lt;</span><span class="nx">CommentForm</span> <span class="nx">onCommentSubmit</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">handleCommentSubmit</span><span class="p">}</span> <span class="o">/&gt;</span>
      <span class="o">&lt;</span><span class="err">/div&gt;</span>
    <span class="p">);</span>
  <span class="p">}</span>
<span class="p">});</span>
</code></pre></div><h3><a class="anchor" name="optimization-optimistic-updates"></a>Optimization: optimistic updates </h3><span>
</span><p>Our application is now feature complete but it feels slow to have to wait for the request to complete before your comment appears in the list. We can optimistically add this comment to the list to make the app feel faster.</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// tutorial21.js</span>
<span class="kd">var</span> <span class="nx">CommentBox</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createClass</span><span class="p">({</span>
  <span class="nx">loadCommentsFromServer</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">({</span>
      <span class="nx">url</span><span class="o">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">url</span><span class="p">,</span>
      <span class="nx">dataType</span><span class="o">:</span> <span class="s1">&apos;json&apos;</span><span class="p">,</span>
      <span class="nx">cache</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
      <span class="nx">success</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">({</span><span class="nx">data</span><span class="o">:</span> <span class="nx">data</span><span class="p">});</span>
      <span class="p">}.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">),</span>
      <span class="nx">error</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">xhr</span><span class="p">,</span> <span class="nx">status</span><span class="p">,</span> <span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">url</span><span class="p">,</span> <span class="nx">status</span><span class="p">,</span> <span class="nx">err</span><span class="p">.</span><span class="nx">toString</span><span class="p">());</span>
      <span class="p">}.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">)</span>
    <span class="p">});</span>
  <span class="p">},</span>
  <span class="nx">handleCommentSubmit</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">comment</span><span class="p">)</span> <span class="p">{</span>
<span class="hll">    <span class="kd">var</span> <span class="nx">comments</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">data</span><span class="p">;</span>
</span><span class="hll">    <span class="c1">// Optimistically set an id on the new comment. It will be replaced by an</span>
</span><span class="hll">    <span class="c1">// id generated by the server. In a production application you would likely</span>
</span><span class="hll">    <span class="c1">// not use Date.now() for this and would have a more robust system in place.</span>
</span><span class="hll">    <span class="nx">comment</span><span class="p">.</span><span class="nx">id</span> <span class="o">=</span> <span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">();</span>
</span><span class="hll">    <span class="kd">var</span> <span class="nx">newComments</span> <span class="o">=</span> <span class="nx">comments</span><span class="p">.</span><span class="nx">concat</span><span class="p">([</span><span class="nx">comment</span><span class="p">]);</span>
</span><span class="hll">    <span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">({</span><span class="nx">data</span><span class="o">:</span> <span class="nx">newComments</span><span class="p">});</span>
</span>    <span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">({</span>
      <span class="nx">url</span><span class="o">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">url</span><span class="p">,</span>
      <span class="nx">dataType</span><span class="o">:</span> <span class="s1">&apos;json&apos;</span><span class="p">,</span>
      <span class="nx">type</span><span class="o">:</span> <span class="s1">&apos;POST&apos;</span><span class="p">,</span>
      <span class="nx">data</span><span class="o">:</span> <span class="nx">comment</span><span class="p">,</span>
      <span class="nx">success</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">({</span><span class="nx">data</span><span class="o">:</span> <span class="nx">data</span><span class="p">});</span>
      <span class="p">}.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">),</span>
      <span class="nx">error</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">xhr</span><span class="p">,</span> <span class="nx">status</span><span class="p">,</span> <span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
<span class="hll">        <span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">({</span><span class="nx">data</span><span class="o">:</span> <span class="nx">comments</span><span class="p">});</span>
</span>        <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">url</span><span class="p">,</span> <span class="nx">status</span><span class="p">,</span> <span class="nx">err</span><span class="p">.</span><span class="nx">toString</span><span class="p">());</span>
      <span class="p">}.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">)</span>
    <span class="p">});</span>
  <span class="p">},</span>
  <span class="nx">getInitialState</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">{</span><span class="nx">data</span><span class="o">:</span> <span class="p">[]};</span>
  <span class="p">},</span>
  <span class="nx">componentDidMount</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">loadCommentsFromServer</span><span class="p">();</span>
    <span class="nx">setInterval</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">loadCommentsFromServer</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">pollInterval</span><span class="p">);</span>
  <span class="p">},</span>
  <span class="nx">render</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span>
      <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="s2">&quot;commentBox&quot;</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nx">h1</span><span class="o">&gt;</span><span class="nx">Comments</span><span class="o">&lt;</span><span class="err">/h1&gt;</span>
        <span class="o">&lt;</span><span class="nx">CommentList</span> <span class="nx">data</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">data</span><span class="p">}</span> <span class="o">/&gt;</span>
        <span class="o">&lt;</span><span class="nx">CommentForm</span> <span class="nx">onCommentSubmit</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">handleCommentSubmit</span><span class="p">}</span> <span class="o">/&gt;</span>
      <span class="o">&lt;</span><span class="err">/div&gt;</span>
    <span class="p">);</span>
  <span class="p">}</span>
<span class="p">});</span>
</code></pre></div><h3><a class="anchor" name="congrats"></a>Congrats! </h3><span>
</span><p>You have just built a comment box in a few simple steps. Learn more about <a href="https://facebook.github.io/react/docs/why-react.html">why to use React</a>, or dive into the <a href="https://facebook.github.io/react/docs/top-level-api.html">API reference</a> and start hacking! Good luck!</p><span>


    </span><span>
  </span></div></div>
        </article>
      
        <article>
          <h3>Thinking in React</h3>
          <div><div class="inner-content"><span>
    </span><span>
    </span><span>
    </span><span>

    </span><p>by Pete Hunt</p><span>

</span><p>React is, in my opinion, the premier way to build big, fast Web apps with JavaScript. It has scaled very well for us at Facebook and Instagram.</p><span>

</span><p>One of the many great parts of React is how it makes you think about apps as you build them. In this post, I&apos;ll walk you through the thought process of building a searchable product data table using React.</p><span>
</span><h2><a class="anchor" name="start-with-a-mock"></a>Start with a mock </h2><span>
</span><p>Imagine that we already have a JSON API and a mock from our designer. Our designer apparently isn&apos;t very good because the mock looks like this:</p><span>

</span><p><img src="https://facebook.github.io/react/img/blog/thinking-in-react-mock.png" alt="Mockup"></p><span>

</span><p>Our JSON API returns some data that looks like this:</p><span>
</span><div class="highlight"><pre><code class="language-text" data-lang="text">[
  {category: &quot;Sporting Goods&quot;, price: &quot;$49.99&quot;, stocked: true, name: &quot;Football&quot;},
  {category: &quot;Sporting Goods&quot;, price: &quot;$9.99&quot;, stocked: true, name: &quot;Baseball&quot;},
  {category: &quot;Sporting Goods&quot;, price: &quot;$29.99&quot;, stocked: false, name: &quot;Basketball&quot;},
  {category: &quot;Electronics&quot;, price: &quot;$99.99&quot;, stocked: true, name: &quot;iPod Touch&quot;},
  {category: &quot;Electronics&quot;, price: &quot;$399.99&quot;, stocked: false, name: &quot;iPhone 5&quot;},
  {category: &quot;Electronics&quot;, price: &quot;$199.99&quot;, stocked: true, name: &quot;Nexus 7&quot;}
];
</code></pre></div><h2><a class="anchor" name="step-1-break-the-ui-into-a-component-hierarchy"></a>Step 1: Break the UI into a component hierarchy </h2><span>
</span><p>The first thing you&apos;ll want to do is to draw boxes around every component (and subcomponent) in the mock and give them all names. If you&apos;re working with a designer, they may have already done this, so go talk to them! Their Photoshop layer names may end up being the names of your React components!</p><span>

</span><p>But how do you know what should be its own component? Just use the same techniques for deciding if you should create a new function or object. One such technique is the <a href="https://en.wikipedia.org/wiki/Single_responsibility_principle">single responsibility principle</a>, that is, a component should ideally only do one thing. If it ends up growing, it should be decomposed into smaller subcomponents.</p><span>

</span><p>Since you&apos;re often displaying a JSON data model to a user, you&apos;ll find that if your model was built correctly, your UI (and therefore your component structure) will map nicely. That&apos;s because UI and data models tend to adhere to the same <em>information architecture</em>, which means the work of separating your UI into components is often trivial. Just break it up into components that represent exactly one piece of your data model.</p><span>

</span><p><img src="https://facebook.github.io/react/img/blog/thinking-in-react-components.png" alt="Component diagram"></p><span>

</span><p>You&apos;ll see here that we have five components in our simple app. I&apos;ve italicized the data each component represents.</p><span>

</span><ol>
<li><strong><code>FilterableProductTable</code> (orange):</strong> contains the entirety of the example</li>
<li><strong><code>SearchBar</code> (blue):</strong> receives all <em>user input</em></li>
<li><strong><code>ProductTable</code> (green):</strong> displays and filters the <em>data collection</em> based on <em>user input</em></li>
<li><strong><code>ProductCategoryRow</code> (turquoise):</strong> displays a heading for each <em>category</em></li>
<li><strong><code>ProductRow</code> (red):</strong> displays a row for each <em>product</em></li>
</ol><span>

</span><p>If you look at <code>ProductTable</code>, you&apos;ll see that the table header (containing the &quot;Name&quot; and &quot;Price&quot; labels) isn&apos;t its own component. This is a matter of preference, and there&apos;s an argument to be made either way. For this example, I left it as part of <code>ProductTable</code> because it is part of rendering the <em>data collection</em> which is <code>ProductTable</code>&apos;s responsibility. However, if this header grows to be complex (i.e. if we were to add affordances for sorting), it would certainly make sense to make this its own <code>ProductTableHeader</code> component.</p><span>

</span><p>Now that we&apos;ve identified the components in our mock, let&apos;s arrange them into a hierarchy. This is easy. Components that appear within another component in the mock should appear as a child in the hierarchy:</p><span>

</span><ul>
<li><code>FilterableProductTable</code>

<ul>
<li><code>SearchBar</code></li>
<li><code>ProductTable</code>

<ul>
<li><code>ProductCategoryRow</code></li>
<li><code>ProductRow</code></li>
</ul></li>
</ul></li>
</ul><span>
</span><h2><a class="anchor" name="step-2-build-a-static-version-in-react"></a>Step 2: Build a static version in React </h2><span>
</span><span>

</span><p>Now that you have your component hierarchy, it&apos;s time to implement your app. The easiest way is to build a version that takes your data model and renders the UI but has no interactivity. It&apos;s best to decouple these processes because building a static version requires a lot of typing and no thinking, and adding interactivity requires a lot of thinking and not a lot of typing. We&apos;ll see why.</p><span>

</span><p>To build a static version of your app that renders your data model, you&apos;ll want to build components that reuse other components and pass data using <em>props</em>. <em>props</em> are a way of passing data from parent to child. If you&apos;re familiar with the concept of <em>state</em>, <strong>don&apos;t use state at all</strong> to build this static version. State is reserved only for interactivity, that is, data that changes over time. Since this is a static version of the app, you don&apos;t need it.</p><span>

</span><p>You can build top-down or bottom-up. That is, you can either start with building the components higher up in the hierarchy (i.e. starting with <code>FilterableProductTable</code>) or with the ones lower in it (<code>ProductRow</code>). In simpler examples, it&apos;s usually easier to go top-down, and on larger projects, it&apos;s easier to go bottom-up and write tests as you build.</p><span>

</span><p>At the end of this step, you&apos;ll have a library of reusable components that render your data model. The components will only have <code>render()</code> methods since this is a static version of your app. The component at the top of the hierarchy (<code>FilterableProductTable</code>) will take your data model as a prop. If you make a change to your underlying data model and call <code>ReactDOM.render()</code> again, the UI will be updated. It&apos;s easy to see how your UI is updated and where to make changes since there&apos;s nothing complicated going on. React&apos;s <strong>one-way data flow</strong> (also called <em>one-way binding</em>) keeps everything modular and fast.</p><span>

</span><p>Simply refer to the <a href="https://facebook.github.io/react/docs/">React docs</a> if you need help executing this step.</p><span>
</span><h3><a class="anchor" name="a-brief-interlude-props-vs-state"></a>A brief interlude: props vs state </h3><span>
</span><p>There are two types of &quot;model&quot; data in React: props and state. It&apos;s important to understand the distinction between the two; skim <a href="https://facebook.github.io/react/docs/interactivity-and-dynamic-uis.html">the official React docs</a> if you aren&apos;t sure what the difference is.</p><span>
</span><h2><a class="anchor" name="step-3-identify-the-minimal-but-complete-representation-of-ui-state"></a>Step 3: Identify the minimal (but complete) representation of UI state </h2><span>
</span><p>To make your UI interactive, you need to be able to trigger changes to your underlying data model. React makes this easy with <strong>state</strong>.</p><span>

</span><p>To build your app correctly, you first need to think of the minimal set of mutable state that your app needs. The key here is DRY: <em>Don&apos;t Repeat Yourself</em>. Figure out the absolute minimal representation of the state your application needs and compute everything else you need on-demand. For example, if you&apos;re building a TODO list, just keep an array of the TODO items around; don&apos;t keep a separate state variable for the count. Instead, when you want to render the TODO count, simply take the length of the TODO items array.</p><span>

</span><p>Think of all of the pieces of data in our example application. We have:</p><span>

</span><ul>
<li>The original list of products</li>
<li>The search text the user has entered</li>
<li>The value of the checkbox</li>
<li>The filtered list of products</li>
</ul><span>

</span><p>Let&apos;s go through each one and figure out which one is state. Simply ask three questions about each piece of data:</p><span>

</span><ol>
<li>Is it passed in from a parent via props? If so, it probably isn&apos;t state.</li>
<li>Does it remain unchanged over time? If so, it probably isn&apos;t state.</li>
<li>Can you compute it based on any other state or props in your component? If so, it isn&apos;t state.</li>
</ol><span>

</span><p>The original list of products is passed in as props, so that&apos;s not state. The search text and the checkbox seem to be state since they change over time and can&apos;t be computed from anything. And finally, the filtered list of products isn&apos;t state because it can be computed by combining the original list of products with the search text and value of the checkbox.</p><span>

</span><p>So finally, our state is:</p><span>

</span><ul>
<li>The search text the user has entered</li>
<li>The value of the checkbox</li>
</ul><span>
</span><h2><a class="anchor" name="step-4-identify-where-your-state-should-live"></a>Step 4: Identify where your state should live </h2><span>
</span><span>

</span><p>OK, so we&apos;ve identified what the minimal set of app state is. Next, we need to identify which component mutates, or <em>owns</em>, this state.</p><span>

</span><p>Remember: React is all about one-way data flow down the component hierarchy. It may not be immediately clear which component should own what state. <strong>This is often the most challenging part for newcomers to understand,</strong> so follow these steps to figure it out:</p><span>

</span><p>For each piece of state in your application:</p><span>

</span><ul>
<li>Identify every component that renders something based on that state.</li>
<li>Find a common owner component (a single component above all the components that need the state in the hierarchy).</li>
<li>Either the common owner or another component higher up in the hierarchy should own the state.</li>
<li>If you can&apos;t find a component where it makes sense to own the state, create a new component simply for holding the state and add it somewhere in the hierarchy above the common owner component.</li>
</ul><span>

</span><p>Let&apos;s run through this strategy for our application:</p><span>

</span><ul>
<li><code>ProductTable</code> needs to filter the product list based on state and <code>SearchBar</code> needs to display the search text and checked state.</li>
<li>The common owner component is <code>FilterableProductTable</code>.</li>
<li>It conceptually makes sense for the filter text and checked value to live in <code>FilterableProductTable</code></li>
</ul><span>

</span><p>Cool, so we&apos;ve decided that our state lives in <code>FilterableProductTable</code>. First, add a <code>getInitialState()</code> method to <code>FilterableProductTable</code> that returns <code>{filterText: &apos;&apos;, inStockOnly: false}</code> to reflect the initial state of your application. Then, pass <code>filterText</code> and <code>inStockOnly</code> to <code>ProductTable</code> and <code>SearchBar</code> as a prop. Finally, use these props to filter the rows in <code>ProductTable</code> and set the values of the form fields in <code>SearchBar</code>.</p><span>

</span><p>You can start seeing how your application will behave: set <code>filterText</code> to <code>&quot;ball&quot;</code> and refresh your app. You&apos;ll see that the data table is updated correctly.</p><span>
</span><h2><a class="anchor" name="step-5-add-inverse-data-flow"></a>Step 5: Add inverse data flow </h2><span>
</span><span>

</span><p>So far, we&apos;ve built an app that renders correctly as a function of props and state flowing down the hierarchy. Now it&apos;s time to support data flowing the other way: the form components deep in the hierarchy need to update the state in <code>FilterableProductTable</code>.</p><span>

</span><p>React makes this data flow explicit to make it easy to understand how your program works, but it does require a little more typing than traditional two-way data binding.</p><span>

</span><p>If you try to type or check the box in the current version of the example, you&apos;ll see that React ignores your input. This is intentional, as we&apos;ve set the <code>value</code> prop of the <code>input</code> to always be equal to the <code>state</code> passed in from <code>FilterableProductTable</code>.</p><span>

</span><p>Let&apos;s think about what we want to happen. We want to make sure that whenever the user changes the form, we update the state to reflect the user input. Since components should only update their own state, <code>FilterableProductTable</code> will pass a callback to <code>SearchBar</code> that will fire whenever the state should be updated. We can use the <code>onChange</code> event on the inputs to be notified of it. And the callback passed by <code>FilterableProductTable</code> will call <code>setState()</code>, and the app will be updated.</p><span>

</span><p>Though this sounds complex, it&apos;s really just a few lines of code. And it&apos;s really explicit how your data is flowing throughout the app.</p><span>
</span><h2><a class="anchor" name="and-thats-it"></a>And that&apos;s it </h2><span>
</span><p>Hopefully, this gives you an idea of how to think about building components and applications with React. While it may be a little more typing than you&apos;re used to, remember that code is read far more than it&apos;s written, and it&apos;s extremely easy to read this modular, explicit code. As you start to build large libraries of components, you&apos;ll appreciate this explicitness and modularity, and with code reuse, your lines of code will start to shrink. :)</p><span>


    </span><span>
  </span></div></div>
        </article>
      <h2>Guides</h2>
        <article>
          <h3>Why React? | React</h3>
          <div><div class="inner-content"><span>
    </span><span>
    </span><span>
    </span><span>

    </span><p>React is a JavaScript library for creating user interfaces by Facebook and Instagram. Many people choose to think of React as the <strong>V</strong> in <strong><a href="https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller">MVC</a></strong>.</p><span>

</span><p>We built React to solve one problem: <strong>building large applications with data that changes over time</strong>.</p><span>
</span><h2><a class="anchor" name="simple"></a>Simple </h2><span>
</span><p>Simply express how your app should look at any given point in time, and React will automatically manage all UI updates when your underlying data changes.</p><span>
</span><h2><a class="anchor" name="declarative"></a>Declarative </h2><span>
</span><p>When the data changes, React conceptually hits the &quot;refresh&quot; button, and knows to only update the changed parts.</p><span>
</span><h2><a class="anchor" name="build-composable-components"></a>Build Composable Components </h2><span>
</span><p>React is all about building reusable components. In fact, with React the <em>only</em> thing you do is build components. Since they&apos;re so encapsulated, components make code reuse, testing, and separation of concerns easy.</p><span>
</span><h2><a class="anchor" name="give-it-five-minutes"></a>Give It Five Minutes </h2><span>
</span><p>React challenges a lot of conventional wisdom, and at first glance some of the ideas may seem crazy. <a href="https://signalvnoise.com/posts/3124-give-it-five-minutes">Give it five minutes</a> while reading this guide; those crazy ideas have worked for building thousands of components both inside and outside of Facebook and Instagram.</p><span>
</span><h2><a class="anchor" name="learn-more"></a>Learn More </h2><span>
</span><p>You can learn more about our motivations behind building React in <a href="https://facebook.github.io/react/blog/2013/06/05/why-react.html">this blog post</a>.</p><span>


    </span><span>
  </span></div></div>
        </article>
      
        <article>
          <h3>Displaying Data</h3>
          <div><div class="inner-content"><span>
    </span><span>
    </span><span>
    </span><span>

    </span><p>The most basic thing you can do with a UI is display some data. React makes it easy to display data and automatically keeps the interface up-to-date when the data changes.</p><span>
</span><h2><a class="anchor" name="getting-started"></a>Getting Started </h2><span>
</span><p>Let&apos;s look at a really simple example. Create a <code>hello-react.html</code> file with the following code:</p><span>
</span><div class="highlight"><pre><code class="language-html" data-lang="html"><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html&gt;</span>
  <span class="nt">&lt;head&gt;</span>
    <span class="nt">&lt;meta</span> <span class="na">charset=</span><span class="s">&quot;UTF-8&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;title&gt;</span>Hello React<span class="nt">&lt;/title&gt;</span>
    <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;https://npmcdn.com/react@15.3.1/dist/react.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
    <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;https://npmcdn.com/react-dom@15.3.1/dist/react-dom.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
    <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;https://npmcdn.com/babel-core@5.8.38/browser.min.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
  <span class="nt">&lt;/head&gt;</span>
  <span class="nt">&lt;body&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;example&quot;</span><span class="nt">&gt;&lt;/div&gt;</span>
    <span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;text/babel&quot;</span><span class="nt">&gt;</span>

      <span class="c1">// ** Your code goes here! **</span>

    <span class="nt">&lt;/script&gt;</span>
  <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre></div><span>
</span><p>For the rest of the documentation, we&apos;ll just focus on the JavaScript code and assume it&apos;s inserted into a template like the one above. Replace the placeholder comment above with the following JSX:</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">HelloWorld</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createClass</span><span class="p">({</span>
  <span class="nx">render</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span>
      <span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span>
        <span class="nx">Hello</span><span class="p">,</span> <span class="o">&lt;</span><span class="nx">input</span> <span class="nx">type</span><span class="o">=</span><span class="s2">&quot;text&quot;</span> <span class="nx">placeholder</span><span class="o">=</span><span class="s2">&quot;Your name here&quot;</span> <span class="o">/&gt;!</span>
        <span class="nx">It</span> <span class="nx">is</span> <span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">date</span><span class="p">.</span><span class="nx">toTimeString</span><span class="p">()}</span>
      <span class="o">&lt;</span><span class="err">/p&gt;</span>
    <span class="p">);</span>
  <span class="p">}</span>
<span class="p">});</span>

<span class="nx">setInterval</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">ReactDOM</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">HelloWorld</span> <span class="nx">date</span><span class="o">=</span><span class="p">{</span><span class="k">new</span> <span class="nb">Date</span><span class="p">()}</span> <span class="o">/&gt;</span><span class="p">,</span>
    <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&apos;example&apos;</span><span class="p">)</span>
  <span class="p">);</span>
<span class="p">},</span> <span class="mi">500</span><span class="p">);</span>
</code></pre></div><h2><a class="anchor" name="reactive-updates"></a>Reactive Updates </h2><span>
</span><p>Open <code>hello-react.html</code> in a web browser and type your name into the text field. Notice that React is only changing the time string in the UI &#x2014; any input you put in the text field remains, even though you haven&apos;t written any code to manage this behavior. React figures it out for you and does the right thing.</p><span>

</span><p>The way we are able to figure this out is that React does not manipulate the DOM unless it needs to. <strong>It uses a fast, internal mock DOM to perform diffs and computes the most efficient DOM mutation for you.</strong></p><span>

</span><p>The inputs to this component are called <code>props</code> &#x2014; short for &quot;properties&quot;. They&apos;re passed as attributes in JSX syntax. You should think of these as immutable within the component, that is, <strong>never write to <code>this.props</code></strong>.</p><span>
</span><h2><a class="anchor" name="components-are-just-like-functions"></a>Components are Just Like Functions </h2><span>
</span><p>React components are very simple. You can think of them as simple functions that take in <code>props</code> and <code>state</code> (discussed later) and render HTML. With this in mind, components are easy to reason about.</p><span>

</span><blockquote>
<p>Note:</p>

<p><strong>One limitation</strong>: React components can only render a single root node. If you want to return multiple nodes they <em>must</em> be wrapped in a single root.</p>
</blockquote><span>
</span><h2><a class="anchor" name="jsx-syntax"></a>JSX Syntax </h2><span>
</span><p>We strongly believe that components are the right way to separate concerns rather than &quot;templates&quot; and &quot;display logic.&quot; We think that markup and the code that generates it are intimately tied together. Additionally, display logic is often very complex and using template languages to express it becomes cumbersome.</p><span>

</span><p>We&apos;ve found that the best solution for this problem is to generate HTML and component trees directly from the JavaScript code such that you can use all of the expressive power of a real programming language to build UIs.</p><span>

</span><p>In order to make this easier, we&apos;ve added a very simple, <strong>optional</strong> HTML-like syntax to create these React tree nodes.</p><span>

</span><p><strong>JSX lets you create JavaScript objects using HTML syntax.</strong> To generate a link in React using pure JavaScript you&apos;d write:</p><span>

</span><p><code>React.createElement(&apos;a&apos;, {href: &apos;https://facebook.github.io/react/&apos;}, &apos;Hello!&apos;)</code></p><span>

</span><p>With JSX this becomes:</p><span>

</span><p><code>&lt;a href=&quot;https://facebook.github.io/react/&quot;&gt;Hello!&lt;/a&gt;</code></p><span>

</span><p>We&apos;ve found this has made building React apps easier and designers tend to prefer the syntax, but everyone has their own workflow, so <strong>JSX is not required to use React.</strong></p><span>

</span><p>JSX is very small. To learn more about it, see <a href="https://facebook.github.io/react/docs/jsx-in-depth.html">JSX in depth</a>. Or see the transform in action in <a href="https://babeljs.io/repl/">the Babel REPL</a>.</p><span>

</span><p>JSX is similar to HTML, but not exactly the same. See <a href="https://facebook.github.io/react/docs/jsx-gotchas.html">JSX gotchas</a> for some key differences.</p><span>

</span><p><a href="http://babeljs.io/docs/setup/">Babel exposes a number of ways to get started using JSX</a>, ranging from command line tools to Ruby on Rails integrations. Choose the tool that works best for you.</p><span>
</span><h2><a class="anchor" name="react-without-jsx"></a>React without JSX </h2><span>
</span><p>JSX is completely optional; you don&apos;t have to use JSX with React. You can create React elements in plain JavaScript using <code>React.createElement</code>, which takes a tag name or component, a properties object, and variable number of optional child arguments.</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">child1</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">&apos;li&apos;</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span> <span class="s1">&apos;First Text Content&apos;</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">child2</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">&apos;li&apos;</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span> <span class="s1">&apos;Second Text Content&apos;</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">root</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">&apos;ul&apos;</span><span class="p">,</span> <span class="p">{</span> <span class="nx">className</span><span class="o">:</span> <span class="s1">&apos;my-list&apos;</span> <span class="p">},</span> <span class="nx">child1</span><span class="p">,</span> <span class="nx">child2</span><span class="p">);</span>
<span class="nx">ReactDOM</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="nx">root</span><span class="p">,</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&apos;example&apos;</span><span class="p">));</span>
</code></pre></div><span>
</span><p>For convenience, you can create short-hand factory functions to create elements from custom components.</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">Factory</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createFactory</span><span class="p">(</span><span class="nx">ComponentClass</span><span class="p">);</span>
<span class="p">...</span>
<span class="kd">var</span> <span class="nx">root</span> <span class="o">=</span> <span class="nx">Factory</span><span class="p">({</span> <span class="nx">custom</span><span class="o">:</span> <span class="s1">&apos;prop&apos;</span> <span class="p">});</span>
<span class="nx">ReactDOM</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="nx">root</span><span class="p">,</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&apos;example&apos;</span><span class="p">));</span>
</code></pre></div><span>
</span><p>React already has built-in factories for common HTML tags:</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">root</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">DOM</span><span class="p">.</span><span class="nx">ul</span><span class="p">({</span> <span class="nx">className</span><span class="o">:</span> <span class="s1">&apos;my-list&apos;</span> <span class="p">},</span>
             <span class="nx">React</span><span class="p">.</span><span class="nx">DOM</span><span class="p">.</span><span class="nx">li</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span> <span class="s1">&apos;Text Content&apos;</span><span class="p">)</span>
           <span class="p">);</span>
</code></pre></div><span>

    </span><span>
  </span></div></div>
        </article>
      
        <article>
          <h3>JSX in Depth</h3>
          <div><div class="inner-content"><span>
    </span><span>
    </span><span>
    </span><span>

    </span><p><a href="https://facebook.github.io/jsx/">JSX</a> is a JavaScript syntax extension that looks similar to XML. You can use a simple JSX syntactic transform with React.</p><span>
</span><h2><a class="anchor" name="why-jsx"></a>Why JSX? </h2><span>
</span><p>You don&apos;t have to use JSX with React. You can just use plain JS. However, we recommend using JSX because it is a concise and familiar syntax for defining tree structures with attributes.</p><span>

</span><p>It&apos;s more familiar for casual developers such as designers.</p><span>

</span><p>XML has the benefit of balanced opening and closing tags. This helps make large trees easier to read than function calls or object literals.</p><span>

</span><p>It doesn&apos;t alter the semantics of JavaScript.</p><span>
</span><h2><a class="anchor" name="html-tags-vs.-react-components"></a>HTML Tags vs. React Components </h2><span>
</span><p>React can either render HTML tags (strings) or React components (classes).</p><span>

</span><p>To render an HTML tag, just use lower-case tag names in JSX:</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">myDivElement</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="s2">&quot;foo&quot;</span> <span class="o">/&gt;</span><span class="p">;</span>
<span class="nx">ReactDOM</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="nx">myDivElement</span><span class="p">,</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&apos;example&apos;</span><span class="p">));</span>
</code></pre></div><span>
</span><p>To render a React Component, just create a local variable that starts with an upper-case letter:</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">MyComponent</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createClass</span><span class="p">({</span><span class="cm">/*...*/</span><span class="p">});</span>
<span class="kd">var</span> <span class="nx">myElement</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nx">MyComponent</span> <span class="nx">someProperty</span><span class="o">=</span><span class="p">{</span><span class="kc">true</span><span class="p">}</span> <span class="o">/&gt;</span><span class="p">;</span>
<span class="nx">ReactDOM</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="nx">myElement</span><span class="p">,</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&apos;example&apos;</span><span class="p">));</span>
</code></pre></div><span>
</span><p>React&apos;s JSX uses the upper vs. lower case convention to distinguish between local component classes and HTML tags.</p><span>

</span><blockquote>
<p>Note:</p>

<p>Since JSX is JavaScript, identifiers such as <code>class</code> and <code>for</code> are discouraged
as XML attribute names. Instead, React DOM components expect DOM property
names like <code>className</code> and <code>htmlFor</code>, respectively.</p>
</blockquote><span>
</span><h2><a class="anchor" name="the-transform"></a>The Transform </h2><span>
</span><p>React JSX transforms from an XML-like syntax into native JavaScript. XML elements, attributes and children are transformed into arguments that are passed to <code>React.createElement</code>.</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">Nav</span><span class="p">;</span>
<span class="c1">// Input (JSX):</span>
<span class="kd">var</span> <span class="nx">app</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nx">Nav</span> <span class="nx">color</span><span class="o">=</span><span class="s2">&quot;blue&quot;</span> <span class="o">/&gt;</span><span class="p">;</span>
<span class="c1">// Output (JS):</span>
<span class="kd">var</span> <span class="nx">app</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="nx">Nav</span><span class="p">,</span> <span class="p">{</span><span class="nx">color</span><span class="o">:</span><span class="s2">&quot;blue&quot;</span><span class="p">});</span>
</code></pre></div><span>
</span><p>Notice that in order to use <code>&lt;Nav /&gt;</code>, the <code>Nav</code> variable must be in scope.</p><span>

</span><p>JSX also allows specifying children using XML syntax:</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">Nav</span><span class="p">,</span> <span class="nx">Profile</span><span class="p">;</span>
<span class="c1">// Input (JSX):</span>
<span class="kd">var</span> <span class="nx">app</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nx">Nav</span> <span class="nx">color</span><span class="o">=</span><span class="s2">&quot;blue&quot;</span><span class="o">&gt;&lt;</span><span class="nx">Profile</span><span class="o">&gt;</span><span class="nx">click</span><span class="o">&lt;</span><span class="err">/Profile&gt;&lt;/Nav&gt;;</span>
<span class="c1">// Output (JS):</span>
<span class="kd">var</span> <span class="nx">app</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span>
  <span class="nx">Nav</span><span class="p">,</span>
  <span class="p">{</span><span class="nx">color</span><span class="o">:</span><span class="s2">&quot;blue&quot;</span><span class="p">},</span>
  <span class="nx">React</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="nx">Profile</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span> <span class="s2">&quot;click&quot;</span><span class="p">)</span>
<span class="p">);</span>
</code></pre></div><span>
</span><p>JSX will infer the class&apos;s <a href="https://facebook.github.io/react/docs/component-specs.html#displayname">displayName</a> from the variable assignment when the displayName is undefined:</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// Input (JSX):</span>
<span class="kd">var</span> <span class="nx">Nav</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createClass</span><span class="p">({</span> <span class="p">});</span>
<span class="c1">// Output (JS):</span>
<span class="kd">var</span> <span class="nx">Nav</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createClass</span><span class="p">({</span><span class="nx">displayName</span><span class="o">:</span> <span class="s2">&quot;Nav&quot;</span><span class="p">,</span> <span class="p">});</span>
</code></pre></div><span>
</span><p>Use the <a href="https://babeljs.io/repl/">Babel REPL</a> to try out JSX and see how it desugars into native JavaScript, and the <a href="http://magic.reactjs.net/htmltojsx.htm">HTML to JSX converter</a> to convert your existing HTML to JSX.</p><span>

</span><p>If you want to use JSX, the <a href="https://facebook.github.io/react/docs/getting-started.html">Getting Started</a> guide shows how to set up compilation.</p><span>

</span><blockquote>
<p>Note:</p>

<p>The JSX expression always evaluates to a ReactElement. The actual
implementation details may vary. An optimized mode could inline the
ReactElement as an object literal to bypass the validation code in
<code>React.createElement</code>.</p>
</blockquote><span>
</span><h2><a class="anchor" name="namespaced-components"></a>Namespaced Components </h2><span>
</span><p>If you are building a component that has many children, like a form, you might end up with something with a lot of variable declarations:</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// Awkward block of variable declarations</span>
<span class="kd">var</span> <span class="nx">Form</span> <span class="o">=</span> <span class="nx">MyFormComponent</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">FormRow</span> <span class="o">=</span> <span class="nx">Form</span><span class="p">.</span><span class="nx">Row</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">FormLabel</span> <span class="o">=</span> <span class="nx">Form</span><span class="p">.</span><span class="nx">Label</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">FormInput</span> <span class="o">=</span> <span class="nx">Form</span><span class="p">.</span><span class="nx">Input</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">App</span> <span class="o">=</span> <span class="p">(</span>
  <span class="o">&lt;</span><span class="nx">Form</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="nx">FormRow</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="nx">FormLabel</span> <span class="o">/&gt;</span>
      <span class="o">&lt;</span><span class="nx">FormInput</span> <span class="o">/&gt;</span>
    <span class="o">&lt;</span><span class="err">/FormRow&gt;</span>
  <span class="o">&lt;</span><span class="err">/Form&gt;</span>
<span class="p">);</span>
</code></pre></div><span>
</span><p>To make it simpler and easier, <em>namespaced components</em> let you use one component that has other components as attributes:</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">Form</span> <span class="o">=</span> <span class="nx">MyFormComponent</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">App</span> <span class="o">=</span> <span class="p">(</span>
  <span class="o">&lt;</span><span class="nx">Form</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="nx">Form</span><span class="p">.</span><span class="nx">Row</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="nx">Form</span><span class="p">.</span><span class="nx">Label</span> <span class="o">/&gt;</span>
      <span class="o">&lt;</span><span class="nx">Form</span><span class="p">.</span><span class="nx">Input</span> <span class="o">/&gt;</span>
    <span class="o">&lt;</span><span class="err">/Form.Row&gt;</span>
  <span class="o">&lt;</span><span class="err">/Form&gt;</span>
<span class="p">);</span>
</code></pre></div><span>
</span><p>To do this, you just need to create your <em>&quot;sub-components&quot;</em> as attributes of the main component:</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">MyFormComponent</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createClass</span><span class="p">({</span> <span class="p">...</span> <span class="p">});</span>

<span class="nx">MyFormComponent</span><span class="p">.</span><span class="nx">Row</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createClass</span><span class="p">({</span> <span class="p">...</span> <span class="p">});</span>
<span class="nx">MyFormComponent</span><span class="p">.</span><span class="nx">Label</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createClass</span><span class="p">({</span> <span class="p">...</span> <span class="p">});</span>
<span class="nx">MyFormComponent</span><span class="p">.</span><span class="nx">Input</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createClass</span><span class="p">({</span> <span class="p">...</span> <span class="p">});</span>
</code></pre></div><span>
</span><p>JSX will handle this properly when compiling your code.</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">App</span> <span class="o">=</span> <span class="p">(</span>
  <span class="nx">React</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="nx">Form</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span>
    <span class="nx">React</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="nx">Form</span><span class="p">.</span><span class="nx">Row</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span>
      <span class="nx">React</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="nx">Form</span><span class="p">.</span><span class="nx">Label</span><span class="p">,</span> <span class="kc">null</span><span class="p">),</span>
      <span class="nx">React</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="nx">Form</span><span class="p">.</span><span class="nx">Input</span><span class="p">,</span> <span class="kc">null</span><span class="p">)</span>
    <span class="p">)</span>
  <span class="p">)</span>
<span class="p">);</span>
</code></pre></div><span>
</span><blockquote>
<p>Note:</p>

<p>This feature is available in <a href="https://facebook.github.io/react/blog/2014/07/17/react-v0.11.html#jsx">v0.11</a> and above.</p>
</blockquote><span>
</span><h2><a class="anchor" name="javascript-expressions"></a>JavaScript Expressions </h2><h3><a class="anchor" name="attribute-expressions"></a>Attribute Expressions </h3><span>
</span><p>To use a JavaScript expression as an attribute value, wrap the expression in a pair of curly braces (<code>{}</code>) instead of quotes (<code>&quot;&quot;</code>).</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// Input (JSX):</span>
<span class="kd">var</span> <span class="nx">person</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nx">Person</span> <span class="nx">name</span><span class="o">=</span><span class="p">{</span><span class="nb">window</span><span class="p">.</span><span class="nx">isLoggedIn</span> <span class="o">?</span> <span class="nb">window</span><span class="p">.</span><span class="nx">name</span> <span class="o">:</span> <span class="s1">&apos;&apos;</span><span class="p">}</span> <span class="o">/&gt;</span><span class="p">;</span>
<span class="c1">// Output (JS):</span>
<span class="kd">var</span> <span class="nx">person</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span>
  <span class="nx">Person</span><span class="p">,</span>
  <span class="p">{</span><span class="nx">name</span><span class="o">:</span> <span class="nb">window</span><span class="p">.</span><span class="nx">isLoggedIn</span> <span class="o">?</span> <span class="nb">window</span><span class="p">.</span><span class="nx">name</span> <span class="o">:</span> <span class="s1">&apos;&apos;</span><span class="p">}</span>
<span class="p">);</span>
</code></pre></div><h3><a class="anchor" name="boolean-attributes"></a>Boolean Attributes </h3><span>
</span><p>Omitting the value of an attribute causes JSX to treat it as <code>true</code>. To pass <code>false</code> an attribute expression must be used. This often comes up when using HTML form elements, with attributes like <code>disabled</code>, <code>required</code>, <code>checked</code> and <code>readOnly</code>.</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// These two are equivalent in JSX for disabling a button</span>
<span class="o">&lt;</span><span class="nx">input</span> <span class="nx">type</span><span class="o">=</span><span class="s2">&quot;button&quot;</span> <span class="nx">disabled</span> <span class="o">/&gt;</span><span class="p">;</span>
<span class="o">&lt;</span><span class="nx">input</span> <span class="nx">type</span><span class="o">=</span><span class="s2">&quot;button&quot;</span> <span class="nx">disabled</span><span class="o">=</span><span class="p">{</span><span class="kc">true</span><span class="p">}</span> <span class="o">/&gt;</span><span class="p">;</span>

<span class="c1">// And these two are equivalent in JSX for not disabling a button</span>
<span class="o">&lt;</span><span class="nx">input</span> <span class="nx">type</span><span class="o">=</span><span class="s2">&quot;button&quot;</span> <span class="o">/&gt;</span><span class="p">;</span>
<span class="o">&lt;</span><span class="nx">input</span> <span class="nx">type</span><span class="o">=</span><span class="s2">&quot;button&quot;</span> <span class="nx">disabled</span><span class="o">=</span><span class="p">{</span><span class="kc">false</span><span class="p">}</span> <span class="o">/&gt;</span><span class="p">;</span>
</code></pre></div><h3><a class="anchor" name="child-expressions"></a>Child Expressions </h3><span>
</span><p>Likewise, JavaScript expressions may be used to express children:</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// Input (JSX):</span>
<span class="kd">var</span> <span class="nx">content</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nx">Container</span><span class="o">&gt;</span><span class="p">{</span><span class="nb">window</span><span class="p">.</span><span class="nx">isLoggedIn</span> <span class="o">?</span> <span class="o">&lt;</span><span class="nx">Nav</span> <span class="o">/&gt;</span> <span class="o">:</span> <span class="o">&lt;</span><span class="nx">Login</span> <span class="o">/&gt;</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/Container&gt;;</span>
<span class="c1">// Output (JS):</span>
<span class="kd">var</span> <span class="nx">content</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span>
  <span class="nx">Container</span><span class="p">,</span>
  <span class="kc">null</span><span class="p">,</span>
  <span class="nb">window</span><span class="p">.</span><span class="nx">isLoggedIn</span> <span class="o">?</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="nx">Nav</span><span class="p">)</span> <span class="o">:</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="nx">Login</span><span class="p">)</span>
<span class="p">);</span>
</code></pre></div><h3><a class="anchor" name="comments"></a>Comments </h3><span>
</span><p>It&apos;s easy to add comments within your JSX; they&apos;re just JS expressions. You just need to be careful to put <code>{}</code> around the comments when you are within the children section of a tag.</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">content</span> <span class="o">=</span> <span class="p">(</span>
  <span class="o">&lt;</span><span class="nx">Nav</span><span class="o">&gt;</span>
    <span class="p">{</span><span class="cm">/* child comment, put {} around */</span><span class="p">}</span>
    <span class="o">&lt;</span><span class="nx">Person</span>
      <span class="cm">/* multi</span>
<span class="cm">         line</span>
<span class="cm">         comment */</span>
      <span class="nx">name</span><span class="o">=</span><span class="p">{</span><span class="nb">window</span><span class="p">.</span><span class="nx">isLoggedIn</span> <span class="o">?</span> <span class="nb">window</span><span class="p">.</span><span class="nx">name</span> <span class="o">:</span> <span class="s1">&apos;&apos;</span><span class="p">}</span> <span class="c1">// end of line comment</span>
    <span class="o">/&gt;</span>
  <span class="o">&lt;</span><span class="err">/Nav&gt;</span>
<span class="p">);</span>
</code></pre></div><span>
</span><blockquote>
<p>NOTE:</p>

<p>JSX is similar to HTML, but not exactly the same. See <a href="https://facebook.github.io/react/docs/jsx-gotchas.html">JSX gotchas</a> for some key differences.</p>
</blockquote><span>


    </span><span>
  </span></div></div>
        </article>
      
        <article>
          <h3>JSX Spread Attributes</h3>
          <div><div class="inner-content"><span>
    </span><span>
    </span><span>
    </span><span>

    </span><p>If you know all the properties that you want to place on a component ahead of time, it is easy to use JSX:</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript">  <span class="kd">var</span> <span class="nx">component</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nx">Component</span> <span class="nx">foo</span><span class="o">=</span><span class="p">{</span><span class="nx">x</span><span class="p">}</span> <span class="nx">bar</span><span class="o">=</span><span class="p">{</span><span class="nx">y</span><span class="p">}</span> <span class="o">/&gt;</span><span class="p">;</span>
</code></pre></div><h2><a class="anchor" name="mutating-props-is-bad"></a>Mutating Props is Bad </h2><span>
</span><p>If you don&apos;t know which properties you want to set, you might be tempted to add them onto the object later:</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript">  <span class="kd">var</span> <span class="nx">component</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nx">Component</span> <span class="o">/&gt;</span><span class="p">;</span>
  <span class="nx">component</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">foo</span> <span class="o">=</span> <span class="nx">x</span><span class="p">;</span> <span class="c1">// bad</span>
  <span class="nx">component</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">bar</span> <span class="o">=</span> <span class="nx">y</span><span class="p">;</span> <span class="c1">// also bad</span>
</code></pre></div><span>
</span><p>This is an anti-pattern because it means that we can&apos;t help you check the right propTypes until way later. This means that your propTypes errors end up with a cryptic stack trace.</p><span>

</span><p>The props should be considered immutable. Mutating the props object somewhere else could cause unexpected consequences so ideally it would be a frozen object at this point.</p><span>
</span><h2><a class="anchor" name="spread-attributes"></a>Spread Attributes </h2><span>
</span><p>Now you can use a new feature of JSX called spread attributes:</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript">  <span class="kd">var</span> <span class="nx">props</span> <span class="o">=</span> <span class="p">{};</span>
  <span class="nx">props</span><span class="p">.</span><span class="nx">foo</span> <span class="o">=</span> <span class="nx">x</span><span class="p">;</span>
  <span class="nx">props</span><span class="p">.</span><span class="nx">bar</span> <span class="o">=</span> <span class="nx">y</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">component</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nx">Component</span> <span class="p">{...</span><span class="nx">props</span><span class="p">}</span> <span class="o">/&gt;</span><span class="p">;</span>
</code></pre></div><span>
</span><p>The properties of the object that you pass in are copied onto the component&apos;s props.</p><span>

</span><p>You can use this multiple times or combine it with other attributes. The specification order is important. Later attributes override previous ones.</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript">  <span class="kd">var</span> <span class="nx">props</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">foo</span><span class="o">:</span> <span class="s1">&apos;default&apos;</span> <span class="p">};</span>
  <span class="kd">var</span> <span class="nx">component</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nx">Component</span> <span class="p">{...</span><span class="nx">props</span><span class="p">}</span> <span class="nx">foo</span><span class="o">=</span><span class="p">{</span><span class="s1">&apos;override&apos;</span><span class="p">}</span> <span class="o">/&gt;</span><span class="p">;</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">component</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">foo</span><span class="p">);</span> <span class="c1">// &apos;override&apos;</span>
</code></pre></div><h2><a class="anchor" name="whats-with-the-weird-...-notation"></a>What&apos;s with the weird <code>...</code> notation? </h2><span>
</span><p>The <code>...</code> operator (or spread operator) is already supported for <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_operator">arrays in ES6</a>. There is also an ECMAScript proposal for <a href="https://github.com/sebmarkbage/ecmascript-rest-spread">Object Rest and Spread Properties</a>. We&apos;re taking advantage of these supported and developing standards in order to provide a cleaner syntax in JSX.</p><span>


    </span><span>
  </span></div></div>
        </article>
      
        <article>
          <h3>JSX Gotchas</h3>
          <div><div class="inner-content"><span>
    </span><span>
    </span><span>
    </span><span>

    </span><p>JSX looks like HTML but there are some important differences you may run into.</p><span>

</span><blockquote>
<p>Note:</p>

<p>For DOM differences, such as the inline <code>style</code> attribute, check <a href="https://facebook.github.io/react/docs/dom-differences.html">here</a>.</p>
</blockquote><span>
</span><h2><a class="anchor" name="html-entities"></a>HTML Entities </h2><span>
</span><p>You can insert HTML entities within literal text in JSX:</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span><span class="nx">First</span> <span class="o">&amp;</span><span class="nx">middot</span><span class="p">;</span> <span class="nx">Second</span><span class="o">&lt;</span><span class="err">/div&gt;</span>
</code></pre></div><span>
</span><p>If you want to display an HTML entity within dynamic content, you will run into double escaping issues as React escapes all the strings you are displaying in order to prevent a wide range of XSS attacks by default.</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// Bad: It displays &quot;First &amp;middot; Second&quot;</span>
<span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span><span class="p">{</span><span class="s1">&apos;First &amp;middot; Second&apos;</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/div&gt;</span>
</code></pre></div><span>
</span><p>There are various ways to work-around this issue. The easiest one is to write Unicode characters directly in JavaScript. You need to make sure that the file is saved as UTF-8 and that the proper UTF-8 directives are set so the browser will display it correctly.</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span><span class="p">{</span><span class="s1">&apos;First &#xB7; Second&apos;</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/div&gt;</span>
</code></pre></div><span>
</span><p>A safer alternative is to find the <a href="http://www.fileformat.info/info/unicode/char/b7/index.htm">unicode number corresponding to the entity</a> and use it inside of a JavaScript string.</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span><span class="p">{</span><span class="s1">&apos;First \u00b7 Second&apos;</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/div&gt;</span>
<span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span><span class="p">{</span><span class="s1">&apos;First &apos;</span> <span class="o">+</span> <span class="nb">String</span><span class="p">.</span><span class="nx">fromCharCode</span><span class="p">(</span><span class="mi">183</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&apos; Second&apos;</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/div&gt;</span>
</code></pre></div><span>
</span><p>You can use mixed arrays with strings and JSX elements. Each JSX element in the array needs a unique key.</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span><span class="p">{[</span><span class="s1">&apos;First &apos;</span><span class="p">,</span> <span class="o">&lt;</span><span class="nx">span</span> <span class="nx">key</span><span class="o">=</span><span class="s2">&quot;middot&quot;</span><span class="o">&gt;&amp;</span><span class="nx">middot</span><span class="p">;</span><span class="o">&lt;</span><span class="err">/span&gt;, &apos; Second&apos;]}&lt;/div&gt;</span>
</code></pre></div><span>
</span><p>As a last resort, you always have the ability to <a href="https://facebook.github.io/react/tips/dangerously-set-inner-html.html">insert raw HTML</a>.</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="o">&lt;</span><span class="nx">div</span> <span class="nx">dangerouslySetInnerHTML</span><span class="o">=</span><span class="p">{{</span><span class="nx">__html</span><span class="o">:</span> <span class="s1">&apos;First &amp;middot; Second&apos;</span><span class="p">}}</span> <span class="o">/&gt;</span>
</code></pre></div><h2><a class="anchor" name="custom-html-attributes"></a>Custom HTML Attributes </h2><span>
</span><p>If you pass properties to native HTML elements that do not exist in the HTML specification, React will not render them. If you want to use a custom attribute, you should prefix it with <code>data-</code>.</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="o">&lt;</span><span class="nx">div</span> <span class="nx">data</span><span class="o">-</span><span class="nx">custom</span><span class="o">-</span><span class="nx">attribute</span><span class="o">=</span><span class="s2">&quot;foo&quot;</span> <span class="o">/&gt;</span>
</code></pre></div><span>
</span><p>However, arbitrary attributes are supported on custom elements (those with a hyphen in the tag name or an <code>is=&quot;...&quot;</code> attribute).</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="o">&lt;</span><span class="nx">x</span><span class="o">-</span><span class="nx">my</span><span class="o">-</span><span class="nx">component</span> <span class="nx">custom</span><span class="o">-</span><span class="nx">attribute</span><span class="o">=</span><span class="s2">&quot;foo&quot;</span> <span class="o">/&gt;</span>
</code></pre></div><span>
</span><p><a href="http://www.w3.org/WAI/intro/aria">Web Accessibility</a> attributes starting with <code>aria-</code> will be rendered properly.</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="o">&lt;</span><span class="nx">div</span> <span class="nx">aria</span><span class="o">-</span><span class="nx">hidden</span><span class="o">=</span><span class="p">{</span><span class="kc">true</span><span class="p">}</span> <span class="o">/&gt;</span>
</code></pre></div><span>

    </span><span>
  </span></div></div>
        </article>
      
        <article>
          <h3>Interactivity and Dynamic UIs</h3>
          <div><div class="inner-content"><span>
    </span><span>
    </span><span>
    </span><span>

    </span><p>You&apos;ve already <a href="https://facebook.github.io/react/docs/displaying-data.html">learned how to display data</a> with React. Now let&apos;s look at how to make our UIs interactive.</p><span>
</span><h2><a class="anchor" name="a-simple-example"></a>A Simple Example </h2><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kr">class</span> <span class="nx">LikeButton</span> <span class="kr">extends</span> <span class="nx">React</span><span class="p">.</span><span class="nx">Component</span> <span class="p">{</span>
  <span class="nx">constructor</span><span class="p">()</span> <span class="p">{</span>
    <span class="kr">super</span><span class="p">();</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">state</span> <span class="o">=</span> <span class="p">{</span>
      <span class="nx">liked</span><span class="o">:</span> <span class="kc">false</span>
    <span class="p">};</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">handleClick</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">handleClick</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="nx">handleClick</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">({</span><span class="nx">liked</span><span class="o">:</span> <span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">liked</span><span class="p">});</span>
  <span class="p">}</span>
  <span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
    <span class="kr">const</span> <span class="nx">text</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">liked</span> <span class="o">?</span> <span class="s1">&apos;liked&apos;</span> <span class="o">:</span> <span class="s1">&apos;haven\&apos;t liked&apos;</span><span class="p">;</span>
    <span class="k">return</span> <span class="p">(</span>
      <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">onClick</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">handleClick</span><span class="p">}</span><span class="o">&gt;</span>
        <span class="nx">You</span> <span class="p">{</span><span class="nx">text</span><span class="p">}</span> <span class="k">this</span><span class="p">.</span> <span class="nx">Click</span> <span class="nx">to</span> <span class="nx">toggle</span><span class="p">.</span>
      <span class="o">&lt;</span><span class="err">/div&gt;</span>
    <span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="nx">ReactDOM</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span>
  <span class="o">&lt;</span><span class="nx">LikeButton</span> <span class="o">/&gt;</span><span class="p">,</span>
  <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&apos;example&apos;</span><span class="p">)</span>
<span class="p">);</span>
</code></pre></div><h2><a class="anchor" name="event-handling-and-synthetic-events"></a>Event Handling and Synthetic Events </h2><span>
</span><p>With React you simply pass your event handler as a camelCased prop similar to how you&apos;d do it in normal HTML. React ensures that all events behave similarly in all browsers by implementing a synthetic event system. That is, React knows how to bubble and capture events according to the spec, and the events passed to your event handler are guaranteed to be consistent with <a href="http://www.w3.org/TR/DOM-Level-3-Events/">the W3C spec</a>, regardless of which browser you&apos;re using.</p><span>
</span><h2><a class="anchor" name="under-the-hood-autobinding-and-event-delegation"></a>Under the Hood: Autobinding and Event Delegation </h2><span>
</span><p>Under the hood, React does a few things to keep your code performant and easy to understand.</p><span>

</span><p><strong>Autobinding:</strong> When creating callbacks in JavaScript, you usually need to explicitly bind a method to its instance such that the value of <code>this</code> is correct. With React, every method is automatically bound to its component instance (<a href="https://facebook.github.io/react/docs/reusable-components.html#no-autobinding">except when using ES6 class syntax</a>). React caches the bound method such that it&apos;s extremely CPU and memory efficient. It&apos;s also less typing!</p><span>

</span><p><strong>Event delegation:</strong> React doesn&apos;t actually attach event handlers to the nodes themselves. When React starts up, it starts listening for all events at the top level using a single event listener. When a component is mounted or unmounted, the event handlers are simply added or removed from an internal mapping. When an event occurs, React knows how to dispatch it using this mapping. When there are no event handlers left in the mapping, React&apos;s event handlers are simple no-ops. To learn more about why this is fast, see <a href="http://davidwalsh.name/event-delegate">David Walsh&apos;s excellent blog post</a>.</p><span>
</span><h2><a class="anchor" name="components-are-just-state-machines"></a>Components are Just State Machines </h2><span>
</span><p>React thinks of UIs as simple state machines. By thinking of a UI as being in various states and rendering those states, it&apos;s easy to keep your UI consistent.</p><span>

</span><p>In React, you simply update a component&apos;s state, and then render a new UI based on this new state. React takes care of updating the DOM for you in the most efficient way.</p><span>
</span><h2><a class="anchor" name="how-state-works"></a>How State Works </h2><span>
</span><p>A common way to inform React of a data change is by calling <code>setState(data, callback)</code>. This method merges <code>data</code> into <code>this.state</code> and re-renders the component. When the component finishes re-rendering, the optional <code>callback</code> is called. Most of the time you&apos;ll never need to provide a <code>callback</code> since React will take care of keeping your UI up-to-date for you.</p><span>
</span><h2><a class="anchor" name="what-components-should-have-state"></a>What Components Should Have State? </h2><span>
</span><p>Most of your components should simply take some data from <code>props</code> and render it. However, sometimes you need to respond to user input, a server request or the passage of time. For this you use state.</p><span>

</span><p><strong>Try to keep as many of your components as possible stateless.</strong> By doing this you&apos;ll isolate the state to its most logical place and minimize redundancy, making it easier to reason about your application.</p><span>

</span><p>A common pattern is to create several stateless components that just render data, and have a stateful component above them in the hierarchy that passes its state to its children via <code>props</code>. The stateful component encapsulates all of the interaction logic, while the stateless components take care of rendering data in a declarative way.</p><span>
</span><h2><a class="anchor" name="what-should-go-in-state"></a>What <em>Should</em> Go in State? </h2><span>
</span><p><strong>State should contain data that a component&apos;s event handlers may change to trigger a UI update.</strong> In real apps this data tends to be very small and JSON-serializable. When building a stateful component, think about the minimal possible representation of its state, and only store those properties in <code>this.state</code>. Inside of <code>render()</code> simply compute any other information you need based on this state. You&apos;ll find that thinking about and writing applications in this way tends to lead to the most correct application, since adding redundant or computed values to state means that you need to explicitly keep them in sync rather than rely on React computing them for you.</p><span>
</span><h2><a class="anchor" name="what-shouldnt-go-in-state"></a>What <em>Shouldn&apos;t</em> Go in State? </h2><span>
</span><p><code>this.state</code> should only contain the minimal amount of data needed to represent your UI&apos;s state. As such, it should not contain:</p><span>

</span><ul>
<li><strong>Computed data:</strong> Don&apos;t worry about precomputing values based on state &#x2014; it&apos;s easier to ensure that your UI is consistent if you do all computation within <code>render()</code>. For example, if you have an array of list items in state and you want to render the count as a string, simply render <code>this.state.listItems.length + &apos; list items&apos;</code> in your <code>render()</code> method rather than storing it on state.</li>
<li><strong>React components:</strong> Build them in <code>render()</code> based on underlying props and state.</li>
<li><strong>Duplicated data from props:</strong> Try to use props as the source of truth where possible. One valid use to store props in state is to be able to know its previous values, because props may change as the result of a parent component re-rendering.</li>
</ul><span>


    </span><span>
  </span></div></div>
        </article>
      
        <article>
          <h3>Multiple Components</h3>
          <div><div class="inner-content"><span>
    </span><span>
    </span><span>
    </span><span>

    </span><p>So far, we&apos;ve looked at how to write a single component to display data and handle user input. Next let&apos;s examine one of React&apos;s finest features: composability.</p><span>
</span><h2><a class="anchor" name="motivation-separation-of-concerns"></a>Motivation: Separation of Concerns </h2><span>
</span><p>By building modular components that reuse other components with well-defined interfaces, you get much of the same benefits that you get by using functions or classes. Specifically you can <em>separate the different concerns</em> of your app however you please simply by building new components. By building a custom component library for your application, you are expressing your UI in a way that best fits your domain.</p><span>
</span><h2><a class="anchor" name="composition-example"></a>Composition Example </h2><span>
</span><p>Let&apos;s create a simple Avatar component which shows a Facebook page picture and name using the Facebook Graph API.</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">Avatar</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createClass</span><span class="p">({</span>
  <span class="nx">render</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span>
      <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nx">PagePic</span> <span class="nx">pagename</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">pagename</span><span class="p">}</span> <span class="o">/&gt;</span>
        <span class="o">&lt;</span><span class="nx">PageLink</span> <span class="nx">pagename</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">pagename</span><span class="p">}</span> <span class="o">/&gt;</span>
      <span class="o">&lt;</span><span class="err">/div&gt;</span>
    <span class="p">);</span>
  <span class="p">}</span>
<span class="p">});</span>

<span class="kd">var</span> <span class="nx">PagePic</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createClass</span><span class="p">({</span>
  <span class="nx">render</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span>
      <span class="o">&lt;</span><span class="nx">img</span> <span class="nx">src</span><span class="o">=</span><span class="p">{</span><span class="s1">&apos;https://graph.facebook.com/&apos;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">pagename</span> <span class="o">+</span> <span class="s1">&apos;/picture&apos;</span><span class="p">}</span> <span class="o">/&gt;</span>
    <span class="p">);</span>
  <span class="p">}</span>
<span class="p">});</span>

<span class="kd">var</span> <span class="nx">PageLink</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createClass</span><span class="p">({</span>
  <span class="nx">render</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span>
      <span class="o">&lt;</span><span class="nx">a</span> <span class="nx">href</span><span class="o">=</span><span class="p">{</span><span class="s1">&apos;https://www.facebook.com/&apos;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">pagename</span><span class="p">}</span><span class="o">&gt;</span>
        <span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">pagename</span><span class="p">}</span>
      <span class="o">&lt;</span><span class="err">/a&gt;</span>
    <span class="p">);</span>
  <span class="p">}</span>
<span class="p">});</span>

<span class="nx">ReactDOM</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span>
  <span class="o">&lt;</span><span class="nx">Avatar</span> <span class="nx">pagename</span><span class="o">=</span><span class="s2">&quot;Engineering&quot;</span> <span class="o">/&gt;</span><span class="p">,</span>
  <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&apos;example&apos;</span><span class="p">)</span>
<span class="p">);</span>
</code></pre></div><h2><a class="anchor" name="ownership"></a>Ownership </h2><span>
</span><p>In the above example, instances of <code>Avatar</code> <em>own</em> instances of <code>PagePic</code> and <code>PageLink</code>. In React, <strong>an owner is the component that sets the <code>props</code> of other components</strong>. More formally, if a component <code>X</code> is created in component <code>Y</code>&apos;s <code>render()</code> method, it is said that <code>X</code> is <em>owned by</em> <code>Y</code>. As discussed earlier, a component cannot mutate its <code>props</code> &#x2014; they are always consistent with what its owner sets them to. This fundamental invariant leads to UIs that are guaranteed to be consistent.</p><span>

</span><p>It&apos;s important to draw a distinction between the owner-ownee relationship and the parent-child relationship. The owner-ownee relationship is specific to React, while the parent-child relationship is simply the one you know and love from the DOM. In the example above, <code>Avatar</code> owns the <code>div</code>, <code>PagePic</code> and <code>PageLink</code> instances, and <code>div</code> is the <strong>parent</strong> (but not owner) of the <code>PagePic</code> and <code>PageLink</code> instances.</p><span>
</span><h2><a class="anchor" name="children"></a>Children </h2><span>
</span><p>When you create a React component instance, you can include additional React components or JavaScript expressions between the opening and closing tags like this:</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="o">&lt;</span><span class="nx">Parent</span><span class="o">&gt;&lt;</span><span class="nx">Child</span> <span class="o">/&gt;&lt;</span><span class="err">/Parent&gt;</span>
</code></pre></div><span>
</span><p><code>Parent</code> can read its children by accessing the special <code>this.props.children</code> prop. <strong><code>this.props.children</code> is an opaque data structure:</strong> use the <a href="https://facebook.github.io/react/docs/top-level-api.html#react.children">React.Children utilities</a> to manipulate them.</p><span>
</span><h3><a class="anchor" name="child-reconciliation"></a>Child Reconciliation </h3><span>
</span><p><strong>Reconciliation is the process by which React updates the DOM with each new render pass.</strong> In general, children are reconciled according to the order in which they are rendered. For example, suppose two render passes generate the following respective markup:</p><span>
</span><div class="highlight"><pre><code class="language-html" data-lang="html">// Render Pass 1
<span class="nt">&lt;Card&gt;</span>
  <span class="nt">&lt;p&gt;</span>Paragraph 1<span class="nt">&lt;/p&gt;</span>
  <span class="nt">&lt;p&gt;</span>Paragraph 2<span class="nt">&lt;/p&gt;</span>
<span class="nt">&lt;/Card&gt;</span>
// Render Pass 2
<span class="nt">&lt;Card&gt;</span>
  <span class="nt">&lt;p&gt;</span>Paragraph 2<span class="nt">&lt;/p&gt;</span>
<span class="nt">&lt;/Card&gt;</span>
</code></pre></div><span>
</span><p>Intuitively, <code>&lt;p&gt;Paragraph 1&lt;/p&gt;</code> was removed. Instead, React will reconcile the DOM by changing the text content of the first child and destroying the last child. React reconciles according to the <em>order</em> of the children.</p><span>
</span><h3><a class="anchor" name="stateful-children"></a>Stateful Children </h3><span>
</span><p>For most components, this is not a big deal. However, for stateful components that maintain data in <code>this.state</code> across render passes, this can be very problematic.</p><span>

</span><p>In most cases, this can be sidestepped by hiding elements instead of destroying them:</p><span>
</span><div class="highlight"><pre><code class="language-html" data-lang="html">// Render Pass 1
<span class="nt">&lt;Card&gt;</span>
  <span class="nt">&lt;p&gt;</span>Paragraph 1<span class="nt">&lt;/p&gt;</span>
  <span class="nt">&lt;p&gt;</span>Paragraph 2<span class="nt">&lt;/p&gt;</span>
<span class="nt">&lt;/Card&gt;</span>
// Render Pass 2
<span class="nt">&lt;Card&gt;</span>
  <span class="nt">&lt;p</span> <span class="na">style=</span><span class="s">{{display:</span> <span class="err">&apos;</span><span class="na">none</span><span class="err">&apos;}}</span><span class="nt">&gt;</span>Paragraph 1<span class="nt">&lt;/p&gt;</span>
  <span class="nt">&lt;p&gt;</span>Paragraph 2<span class="nt">&lt;/p&gt;</span>
<span class="nt">&lt;/Card&gt;</span>
</code></pre></div><h3><a class="anchor" name="dynamic-children"></a>Dynamic Children </h3><span>
</span><p>The situation gets more complicated when the children are shuffled around (as in search results) or if new components are added onto the front of the list (as in streams). In these cases where the identity and state of each child must be maintained across render passes, you can uniquely identify each child by assigning it a <code>key</code>:</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript">  <span class="nx">render</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">results</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">results</span><span class="p">;</span>
    <span class="k">return</span> <span class="p">(</span>
      <span class="o">&lt;</span><span class="nx">ol</span><span class="o">&gt;</span>
        <span class="p">{</span><span class="nx">results</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
          <span class="k">return</span> <span class="o">&lt;</span><span class="nx">li</span> <span class="nx">key</span><span class="o">=</span><span class="p">{</span><span class="nx">result</span><span class="p">.</span><span class="nx">id</span><span class="p">}</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">result</span><span class="p">.</span><span class="nx">text</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/li&gt;;</span>
        <span class="p">})}</span>
      <span class="o">&lt;</span><span class="err">/ol&gt;</span>
    <span class="p">);</span>
  <span class="p">}</span>
</code></pre></div><span>
</span><p>When React reconciles the keyed children, it will ensure that any child with <code>key</code> will be reordered (instead of clobbered) or destroyed (instead of reused).</p><span>

</span><p>The <code>key</code> should <em>always</em> be supplied directly to the components in the array, not to the container HTML child of each component in the array:</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// WRONG!</span>
<span class="kd">var</span> <span class="nx">ListItemWrapper</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createClass</span><span class="p">({</span>
  <span class="nx">render</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="o">&lt;</span><span class="nx">li</span> <span class="nx">key</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">id</span><span class="p">}</span><span class="o">&gt;</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">text</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/li&gt;;</span>
  <span class="p">}</span>
<span class="p">});</span>
<span class="kd">var</span> <span class="nx">MyComponent</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createClass</span><span class="p">({</span>
  <span class="nx">render</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span>
      <span class="o">&lt;</span><span class="nx">ul</span><span class="o">&gt;</span>
        <span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">results</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
          <span class="k">return</span> <span class="o">&lt;</span><span class="nx">ListItemWrapper</span> <span class="nx">data</span><span class="o">=</span><span class="p">{</span><span class="nx">result</span><span class="p">}</span><span class="o">/&gt;</span><span class="p">;</span>
        <span class="p">})}</span>
      <span class="o">&lt;</span><span class="err">/ul&gt;</span>
    <span class="p">);</span>
  <span class="p">}</span>
<span class="p">});</span>
</code></pre></div><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// Correct :)</span>
<span class="kd">var</span> <span class="nx">ListItemWrapper</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createClass</span><span class="p">({</span>
  <span class="nx">render</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="o">&lt;</span><span class="nx">li</span><span class="o">&gt;</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">text</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/li&gt;;</span>
  <span class="p">}</span>
<span class="p">});</span>
<span class="kd">var</span> <span class="nx">MyComponent</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createClass</span><span class="p">({</span>
  <span class="nx">render</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span>
      <span class="o">&lt;</span><span class="nx">ul</span><span class="o">&gt;</span>
        <span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">results</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
           <span class="k">return</span> <span class="o">&lt;</span><span class="nx">ListItemWrapper</span> <span class="nx">key</span><span class="o">=</span><span class="p">{</span><span class="nx">result</span><span class="p">.</span><span class="nx">id</span><span class="p">}</span> <span class="nx">data</span><span class="o">=</span><span class="p">{</span><span class="nx">result</span><span class="p">}</span><span class="o">/&gt;</span><span class="p">;</span>
        <span class="p">})}</span>
      <span class="o">&lt;</span><span class="err">/ul&gt;</span>
    <span class="p">);</span>
  <span class="p">}</span>
<span class="p">});</span>
</code></pre></div><span>
</span><p>You can also key children by passing a ReactFragment object. See <a href="https://facebook.github.io/react/docs/create-fragment.html">Keyed Fragments</a> for more details.</p><span>
</span><h2><a class="anchor" name="data-flow"></a>Data Flow </h2><span>
</span><p>In React, data flows from owner to owned component through <code>props</code> as discussed above. This is effectively one-way data binding: owners bind their owned component&apos;s props to some value the owner has computed based on its <code>props</code> or <code>state</code>. Since this process happens recursively, data changes are automatically reflected everywhere they are used.</p><span>
</span><h2><a class="anchor" name="a-note-on-performance"></a>A Note on Performance </h2><span>
</span><p>You may be thinking that it&apos;s expensive to change data if there are a large number of nodes under an owner. The good news is that JavaScript is fast and <code>render()</code> methods tend to be quite simple, so in most applications this is extremely fast. Additionally, the bottleneck is almost always the DOM mutation and not JS execution. React will optimize this for you by using batching and change detection.</p><span>

</span><p>However, sometimes you really want to have fine-grained control over your performance. In that case, simply override <code>shouldComponentUpdate()</code> to return false when you want React to skip processing of a subtree. See <a href="https://facebook.github.io/react/docs/component-specs.html">the React reference docs</a> for more information.</p><span>

</span><blockquote>
<p>Note:</p>

<p>If <code>shouldComponentUpdate()</code> returns false when data has actually changed, React can&apos;t keep your UI in sync. Be sure you know what you&apos;re doing while using it, and only use this function when you have a noticeable performance problem. Don&apos;t underestimate how fast JavaScript is relative to the DOM.</p>
</blockquote><span>


    </span><span>
  </span></div></div>
        </article>
      
        <article>
          <h3>Reusable Components</h3>
          <div><div class="inner-content"><span>
    </span><span>
    </span><span>
    </span><span>

    </span><p>When designing interfaces, break down the common design elements (buttons, form fields, layout components, etc.) into reusable components with well-defined interfaces. That way, the next time you need to build some UI, you can write much less code. This means faster development time, fewer bugs, and fewer bytes down the wire.</p><span>
</span><h2><a class="anchor" name="prop-validation"></a>Prop Validation </h2><span>
</span><p>As your app grows it&apos;s helpful to ensure that your components are used correctly. We do this by allowing you to specify <code>propTypes</code>. <code>React.PropTypes</code> exports a range of validators that can be used to make sure the data you receive is valid. When an invalid value is provided for a prop, a warning will be shown in the JavaScript console. Note that for performance reasons <code>propTypes</code> is only checked in development mode. Here is an example documenting the different validators provided:</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">React</span><span class="p">.</span><span class="nx">createClass</span><span class="p">({</span>
  <span class="nx">propTypes</span><span class="o">:</span> <span class="p">{</span>
    <span class="c1">// You can declare that a prop is a specific JS primitive. By default, these</span>
    <span class="c1">// are all optional.</span>
    <span class="nx">optionalArray</span><span class="o">:</span> <span class="nx">React</span><span class="p">.</span><span class="nx">PropTypes</span><span class="p">.</span><span class="nx">array</span><span class="p">,</span>
    <span class="nx">optionalBool</span><span class="o">:</span> <span class="nx">React</span><span class="p">.</span><span class="nx">PropTypes</span><span class="p">.</span><span class="nx">bool</span><span class="p">,</span>
    <span class="nx">optionalFunc</span><span class="o">:</span> <span class="nx">React</span><span class="p">.</span><span class="nx">PropTypes</span><span class="p">.</span><span class="nx">func</span><span class="p">,</span>
    <span class="nx">optionalNumber</span><span class="o">:</span> <span class="nx">React</span><span class="p">.</span><span class="nx">PropTypes</span><span class="p">.</span><span class="nx">number</span><span class="p">,</span>
    <span class="nx">optionalObject</span><span class="o">:</span> <span class="nx">React</span><span class="p">.</span><span class="nx">PropTypes</span><span class="p">.</span><span class="nx">object</span><span class="p">,</span>
    <span class="nx">optionalString</span><span class="o">:</span> <span class="nx">React</span><span class="p">.</span><span class="nx">PropTypes</span><span class="p">.</span><span class="nx">string</span><span class="p">,</span>
    <span class="nx">optionalSymbol</span><span class="o">:</span> <span class="nx">React</span><span class="p">.</span><span class="nx">PropTypes</span><span class="p">.</span><span class="nx">symbol</span><span class="p">,</span>

    <span class="c1">// Anything that can be rendered: numbers, strings, elements or an array</span>
    <span class="c1">// (or fragment) containing these types.</span>
    <span class="nx">optionalNode</span><span class="o">:</span> <span class="nx">React</span><span class="p">.</span><span class="nx">PropTypes</span><span class="p">.</span><span class="nx">node</span><span class="p">,</span>

    <span class="c1">// A React element.</span>
    <span class="nx">optionalElement</span><span class="o">:</span> <span class="nx">React</span><span class="p">.</span><span class="nx">PropTypes</span><span class="p">.</span><span class="nx">element</span><span class="p">,</span>

    <span class="c1">// You can also declare that a prop is an instance of a class. This uses</span>
    <span class="c1">// JS&apos;s instanceof operator.</span>
    <span class="nx">optionalMessage</span><span class="o">:</span> <span class="nx">React</span><span class="p">.</span><span class="nx">PropTypes</span><span class="p">.</span><span class="nx">instanceOf</span><span class="p">(</span><span class="nx">Message</span><span class="p">),</span>

    <span class="c1">// You can ensure that your prop is limited to specific values by treating</span>
    <span class="c1">// it as an enum.</span>
    <span class="nx">optionalEnum</span><span class="o">:</span> <span class="nx">React</span><span class="p">.</span><span class="nx">PropTypes</span><span class="p">.</span><span class="nx">oneOf</span><span class="p">([</span><span class="s1">&apos;News&apos;</span><span class="p">,</span> <span class="s1">&apos;Photos&apos;</span><span class="p">]),</span>

    <span class="c1">// An object that could be one of many types</span>
    <span class="nx">optionalUnion</span><span class="o">:</span> <span class="nx">React</span><span class="p">.</span><span class="nx">PropTypes</span><span class="p">.</span><span class="nx">oneOfType</span><span class="p">([</span>
      <span class="nx">React</span><span class="p">.</span><span class="nx">PropTypes</span><span class="p">.</span><span class="nx">string</span><span class="p">,</span>
      <span class="nx">React</span><span class="p">.</span><span class="nx">PropTypes</span><span class="p">.</span><span class="nx">number</span><span class="p">,</span>
      <span class="nx">React</span><span class="p">.</span><span class="nx">PropTypes</span><span class="p">.</span><span class="nx">instanceOf</span><span class="p">(</span><span class="nx">Message</span><span class="p">)</span>
    <span class="p">]),</span>

    <span class="c1">// An array of a certain type</span>
    <span class="nx">optionalArrayOf</span><span class="o">:</span> <span class="nx">React</span><span class="p">.</span><span class="nx">PropTypes</span><span class="p">.</span><span class="nx">arrayOf</span><span class="p">(</span><span class="nx">React</span><span class="p">.</span><span class="nx">PropTypes</span><span class="p">.</span><span class="nx">number</span><span class="p">),</span>

    <span class="c1">// An object with property values of a certain type</span>
    <span class="nx">optionalObjectOf</span><span class="o">:</span> <span class="nx">React</span><span class="p">.</span><span class="nx">PropTypes</span><span class="p">.</span><span class="nx">objectOf</span><span class="p">(</span><span class="nx">React</span><span class="p">.</span><span class="nx">PropTypes</span><span class="p">.</span><span class="nx">number</span><span class="p">),</span>

    <span class="c1">// An object taking on a particular shape</span>
    <span class="nx">optionalObjectWithShape</span><span class="o">:</span> <span class="nx">React</span><span class="p">.</span><span class="nx">PropTypes</span><span class="p">.</span><span class="nx">shape</span><span class="p">({</span>
      <span class="nx">color</span><span class="o">:</span> <span class="nx">React</span><span class="p">.</span><span class="nx">PropTypes</span><span class="p">.</span><span class="nx">string</span><span class="p">,</span>
      <span class="nx">fontSize</span><span class="o">:</span> <span class="nx">React</span><span class="p">.</span><span class="nx">PropTypes</span><span class="p">.</span><span class="nx">number</span>
    <span class="p">}),</span>

    <span class="c1">// You can chain any of the above with `isRequired` to make sure a warning</span>
    <span class="c1">// is shown if the prop isn&apos;t provided.</span>
    <span class="nx">requiredFunc</span><span class="o">:</span> <span class="nx">React</span><span class="p">.</span><span class="nx">PropTypes</span><span class="p">.</span><span class="nx">func</span><span class="p">.</span><span class="nx">isRequired</span><span class="p">,</span>

    <span class="c1">// A value of any data type</span>
    <span class="nx">requiredAny</span><span class="o">:</span> <span class="nx">React</span><span class="p">.</span><span class="nx">PropTypes</span><span class="p">.</span><span class="nx">any</span><span class="p">.</span><span class="nx">isRequired</span><span class="p">,</span>

    <span class="c1">// You can also specify a custom validator. It should return an Error</span>
    <span class="c1">// object if the validation fails. Don&apos;t `console.warn` or throw, as this</span>
    <span class="c1">// won&apos;t work inside `oneOfType`.</span>
    <span class="nx">customProp</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">props</span><span class="p">,</span> <span class="nx">propName</span><span class="p">,</span> <span class="nx">componentName</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="sr">/matchme/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">props</span><span class="p">[</span><span class="nx">propName</span><span class="p">]))</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span>
          <span class="s1">&apos;Invalid prop `&apos;</span> <span class="o">+</span> <span class="nx">propName</span> <span class="o">+</span> <span class="s1">&apos;` supplied to&apos;</span> <span class="o">+</span>
          <span class="s1">&apos; `&apos;</span> <span class="o">+</span> <span class="nx">componentName</span> <span class="o">+</span> <span class="s1">&apos;`. Validation failed.&apos;</span>
        <span class="p">);</span>
      <span class="p">}</span>
    <span class="p">},</span>

    <span class="c1">// You can also supply a custom validator to `arrayOf` and `objectOf`.</span>
    <span class="c1">// It should return an Error object if the validation fails. The validator</span>
    <span class="c1">// will be called for each key in the array or object. The first two</span>
    <span class="c1">// arguments of the validator are the array or object itself, and the</span>
    <span class="c1">// current item&apos;s key.</span>
    <span class="nx">customArrayProp</span><span class="o">:</span> <span class="nx">React</span><span class="p">.</span><span class="nx">PropTypes</span><span class="p">.</span><span class="nx">arrayOf</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">propValue</span><span class="p">,</span> <span class="nx">key</span><span class="p">,</span> <span class="nx">componentName</span><span class="p">,</span> <span class="nx">location</span><span class="p">,</span> <span class="nx">propFullName</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="sr">/matchme/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">propValue</span><span class="p">[</span><span class="nx">key</span><span class="p">]))</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span>
          <span class="s1">&apos;Invalid prop `&apos;</span> <span class="o">+</span> <span class="nx">propFullName</span> <span class="o">+</span> <span class="s1">&apos;` supplied to&apos;</span> <span class="o">+</span>
          <span class="s1">&apos; `&apos;</span> <span class="o">+</span> <span class="nx">componentName</span> <span class="o">+</span> <span class="s1">&apos;`. Validation failed.&apos;</span>
        <span class="p">);</span>
      <span class="p">}</span>
    <span class="p">})</span>
  <span class="p">},</span>
  <span class="cm">/* ... */</span>
<span class="p">});</span>
</code></pre></div><h3><a class="anchor" name="single-child"></a>Single Child </h3><span>
</span><p>With <code>React.PropTypes.element</code> you can specify that only a single child can be passed to a component as children.</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">MyComponent</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createClass</span><span class="p">({</span>
  <span class="nx">propTypes</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">children</span><span class="o">:</span> <span class="nx">React</span><span class="p">.</span><span class="nx">PropTypes</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">isRequired</span>
  <span class="p">},</span>

  <span class="nx">render</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span>
      <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span>
        <span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">children</span><span class="p">}</span> <span class="c1">// This must be exactly one element or it will warn.</span>
      <span class="o">&lt;</span><span class="err">/div&gt;</span>
    <span class="p">);</span>
  <span class="p">}</span>

<span class="p">});</span>
</code></pre></div><h2><a class="anchor" name="default-prop-values"></a>Default Prop Values </h2><span>
</span><p>React lets you define default values for your <code>props</code> in a very declarative way:</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">ComponentWithDefaultProps</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createClass</span><span class="p">({</span>
  <span class="nx">getDefaultProps</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">{</span>
      <span class="nx">value</span><span class="o">:</span> <span class="s1">&apos;default value&apos;</span>
    <span class="p">};</span>
  <span class="p">}</span>
  <span class="cm">/* ... */</span>
<span class="p">});</span>
</code></pre></div><span>
</span><p>The result of <code>getDefaultProps()</code> will be cached and used to ensure that <code>this.props.value</code> will have a value if it was not specified by the owner component. This allows you to safely just use your props without having to write repetitive and fragile code to handle that yourself.</p><span>
</span><h2><a class="anchor" name="transferring-props-a-shortcut"></a>Transferring Props: A Shortcut </h2><span>
</span><p>A common type of React component is one that extends a basic HTML element in a simple way. Often you&apos;ll want to copy any HTML attributes passed to your component to the underlying HTML element. To save typing, you can use the JSX <em>spread</em> syntax to achieve this:</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">CheckLink</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createClass</span><span class="p">({</span>
  <span class="nx">render</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// This takes any props passed to CheckLink and copies them to &lt;a&gt;</span>
    <span class="k">return</span> <span class="o">&lt;</span><span class="nx">a</span> <span class="p">{...</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">}</span><span class="o">&gt;</span><span class="p">{</span><span class="s1">&apos;&#x221A; &apos;</span><span class="p">}{</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">children</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/a&gt;;</span>
  <span class="p">}</span>
<span class="p">});</span>

<span class="nx">ReactDOM</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span>
  <span class="o">&lt;</span><span class="nx">CheckLink</span> <span class="nx">href</span><span class="o">=</span><span class="s2">&quot;/checked.html&quot;</span><span class="o">&gt;</span>
    <span class="nx">Click</span> <span class="nx">here</span><span class="o">!</span>
  <span class="o">&lt;</span><span class="err">/CheckLink&gt;,</span>
  <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&apos;example&apos;</span><span class="p">)</span>
<span class="p">);</span>
</code></pre></div><h2><a class="anchor" name="mixins"></a>Mixins </h2><span>
</span><p>Components are the best way to reuse code in React, but sometimes very different components may share some common functionality. These are sometimes called <a href="https://en.wikipedia.org/wiki/Cross-cutting_concern">cross-cutting concerns</a>. React provides <code>mixins</code> to solve this problem.</p><span>

</span><p>One common use case is a component wanting to update itself on a time interval. It&apos;s easy to use <code>setInterval()</code>, but it&apos;s important to cancel your interval when you don&apos;t need it anymore to save memory. React provides <a href="https://facebook.github.io/react/docs/working-with-the-browser.html#component-lifecycle">lifecycle methods</a> that let you know when a component is about to be created or destroyed. Let&apos;s create a simple mixin that uses these methods to provide an easy <code>setInterval()</code> function that will automatically get cleaned up when your component is destroyed.</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">SetIntervalMixin</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">componentWillMount</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">intervals</span> <span class="o">=</span> <span class="p">[];</span>
  <span class="p">},</span>
  <span class="nx">setInterval</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">intervals</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">setInterval</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span> <span class="nx">arguments</span><span class="p">));</span>
  <span class="p">},</span>
  <span class="nx">componentWillUnmount</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">intervals</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="nx">clearInterval</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">TickTock</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createClass</span><span class="p">({</span>
  <span class="nx">mixins</span><span class="o">:</span> <span class="p">[</span><span class="nx">SetIntervalMixin</span><span class="p">],</span> <span class="c1">// Use the mixin</span>
  <span class="nx">getInitialState</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">{</span><span class="nx">seconds</span><span class="o">:</span> <span class="mi">0</span><span class="p">};</span>
  <span class="p">},</span>
  <span class="nx">componentDidMount</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">setInterval</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">tick</span><span class="p">,</span> <span class="mi">1000</span><span class="p">);</span> <span class="c1">// Call a method on the mixin</span>
  <span class="p">},</span>
  <span class="nx">tick</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">({</span><span class="nx">seconds</span><span class="o">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">seconds</span> <span class="o">+</span> <span class="mi">1</span><span class="p">});</span>
  <span class="p">},</span>
  <span class="nx">render</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span>
      <span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span>
        <span class="nx">React</span> <span class="nx">has</span> <span class="nx">been</span> <span class="nx">running</span> <span class="k">for</span> <span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">seconds</span><span class="p">}</span> <span class="nx">seconds</span><span class="p">.</span>
      <span class="o">&lt;</span><span class="err">/p&gt;</span>
    <span class="p">);</span>
  <span class="p">}</span>
<span class="p">});</span>

<span class="nx">ReactDOM</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span>
  <span class="o">&lt;</span><span class="nx">TickTock</span> <span class="o">/&gt;</span><span class="p">,</span>
  <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&apos;example&apos;</span><span class="p">)</span>
<span class="p">);</span>
</code></pre></div><span>
</span><p>A nice feature of mixins is that if a component is using multiple mixins and several mixins define the same lifecycle method (i.e. several mixins want to do some cleanup when the component is destroyed), all of the lifecycle methods are guaranteed to be called. Methods defined on mixins run in the order mixins were listed, followed by a method call on the component.</p><span>
</span><h2><a class="anchor" name="es6-classes"></a>ES6 Classes </h2><span>
</span><p>You may also define your React classes as a plain JavaScript class. For example using ES6 class syntax:</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kr">class</span> <span class="nx">HelloMessage</span> <span class="kr">extends</span> <span class="nx">React</span><span class="p">.</span><span class="nx">Component</span> <span class="p">{</span>
  <span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span><span class="nx">Hello</span> <span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">name</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/div&gt;;</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="nx">ReactDOM</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">HelloMessage</span> <span class="nx">name</span><span class="o">=</span><span class="s2">&quot;Sebastian&quot;</span> <span class="o">/&gt;</span><span class="p">,</span> <span class="nx">mountNode</span><span class="p">);</span>
</code></pre></div><span>
</span><p>The API is similar to <code>React.createClass</code> with the exception of <code>getInitialState</code>. Instead of providing a separate <code>getInitialState</code> method, you set up your own <code>state</code> property in the constructor. Just like the return value of <code>getInitialState</code>, the value you assign to <code>this.state</code> will be used as the initial state for your component.</p><span>

</span><p>Another difference is that <code>propTypes</code> and <code>defaultProps</code> are defined as properties on the constructor instead of in the class body.</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kr">export</span> <span class="kr">class</span> <span class="nx">Counter</span> <span class="kr">extends</span> <span class="nx">React</span><span class="p">.</span><span class="nx">Component</span> <span class="p">{</span>
  <span class="nx">constructor</span><span class="p">(</span><span class="nx">props</span><span class="p">)</span> <span class="p">{</span>
    <span class="kr">super</span><span class="p">(</span><span class="nx">props</span><span class="p">);</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">state</span> <span class="o">=</span> <span class="p">{</span><span class="nx">count</span><span class="o">:</span> <span class="nx">props</span><span class="p">.</span><span class="nx">initialCount</span><span class="p">};</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">tick</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">tick</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="nx">tick</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">({</span><span class="nx">count</span><span class="o">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">count</span> <span class="o">+</span> <span class="mi">1</span><span class="p">});</span>
  <span class="p">}</span>
  <span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span>
      <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">onClick</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">tick</span><span class="p">}</span><span class="o">&gt;</span>
        <span class="nx">Clicks</span><span class="o">:</span> <span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">count</span><span class="p">}</span>
      <span class="o">&lt;</span><span class="err">/div&gt;</span>
    <span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="nx">Counter</span><span class="p">.</span><span class="nx">propTypes</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">initialCount</span><span class="o">:</span> <span class="nx">React</span><span class="p">.</span><span class="nx">PropTypes</span><span class="p">.</span><span class="nx">number</span> <span class="p">};</span>
<span class="nx">Counter</span><span class="p">.</span><span class="nx">defaultProps</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">initialCount</span><span class="o">:</span> <span class="mi">0</span> <span class="p">};</span>
</code></pre></div><h3><a class="anchor" name="no-autobinding"></a>No Autobinding </h3><span>
</span><p>Methods follow the same semantics as regular ES6 classes, meaning that they don&apos;t automatically bind <code>this</code> to the instance. You&apos;ll have to explicitly use <code>.bind(this)</code> or <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Arrow_functions">arrow functions</a> <code>=&gt;</code>:</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// You can use bind() to preserve `this`</span>
<span class="o">&lt;</span><span class="nx">div</span> <span class="nx">onClick</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">tick</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">)}</span><span class="o">&gt;</span>

<span class="c1">// Or you can use arrow functions</span>
<span class="o">&lt;</span><span class="nx">div</span> <span class="nx">onClick</span><span class="o">=</span><span class="p">{()</span> <span class="o">=&gt;</span> <span class="k">this</span><span class="p">.</span><span class="nx">tick</span><span class="p">()}</span><span class="o">&gt;</span>
</code></pre></div><span>
</span><p>We recommend that you bind your event handlers in the constructor so they are only bound once for every instance:</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">constructor</span><span class="p">(</span><span class="nx">props</span><span class="p">)</span> <span class="p">{</span>
  <span class="kr">super</span><span class="p">(</span><span class="nx">props</span><span class="p">);</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">state</span> <span class="o">=</span> <span class="p">{</span><span class="nx">count</span><span class="o">:</span> <span class="nx">props</span><span class="p">.</span><span class="nx">initialCount</span><span class="p">};</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">tick</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">tick</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div><span>
</span><p>Now you can use <code>this.tick</code> directly as it was bound once in the constructor:</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// It is already bound in the constructor</span>
<span class="o">&lt;</span><span class="nx">div</span> <span class="nx">onClick</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">tick</span><span class="p">}</span><span class="o">&gt;</span>
</code></pre></div><span>
</span><p>This is better for performance of your application, especially if you implement <a href="https://facebook.github.io/react/docs/component-specs.html#updating-shouldcomponentupdate">shouldComponentUpdate()</a> with a <a href="https://facebook.github.io/react/docs/shallow-compare.html">shallow comparison</a> in the child components.</p><span>
</span><h3><a class="anchor" name="no-mixins"></a>No Mixins </h3><span>
</span><p>Unfortunately ES6 launched without any mixin support. Therefore, there is no support for mixins when you use React with ES6 classes. Instead, we&apos;re working on making it easier to support such use cases without resorting to mixins.</p><span>
</span><h2><a class="anchor" name="stateless-functions"></a>Stateless Functions </h2><span>
</span><p>You may also define your React classes as a plain JavaScript function. For example using the stateless function syntax:</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">function</span> <span class="nx">HelloMessage</span><span class="p">(</span><span class="nx">props</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span><span class="nx">Hello</span> <span class="p">{</span><span class="nx">props</span><span class="p">.</span><span class="nx">name</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/div&gt;;</span>
<span class="p">}</span>
<span class="nx">ReactDOM</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">HelloMessage</span> <span class="nx">name</span><span class="o">=</span><span class="s2">&quot;Sebastian&quot;</span> <span class="o">/&gt;</span><span class="p">,</span> <span class="nx">mountNode</span><span class="p">);</span>
</code></pre></div><span>
</span><p>Or using the new ES6 arrow syntax:</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kr">const</span> <span class="nx">HelloMessage</span> <span class="o">=</span> <span class="p">(</span><span class="nx">props</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span><span class="nx">Hello</span> <span class="p">{</span><span class="nx">props</span><span class="p">.</span><span class="nx">name</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/div&gt;;</span>
<span class="nx">ReactDOM</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">HelloMessage</span> <span class="nx">name</span><span class="o">=</span><span class="s2">&quot;Sebastian&quot;</span> <span class="o">/&gt;</span><span class="p">,</span> <span class="nx">mountNode</span><span class="p">);</span>
</code></pre></div><span>
</span><p>This simplified component API is intended for components that are pure functions of their props. These components must not retain internal state, do not have backing instances, and do not have the component lifecycle methods. They are pure functional transforms of their input, with zero boilerplate.</p><span>

</span><p>However, you may still specify <code>.propTypes</code> and <code>.defaultProps</code> by setting them as properties on the function, just as you would set them on an ES6 class:</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kr">const</span> <span class="nx">HelloMessage</span> <span class="o">=</span> <span class="p">(</span><span class="nx">props</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span><span class="nx">Hello</span><span class="p">,</span> <span class="p">{</span><span class="nx">props</span><span class="p">.</span><span class="nx">name</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/div&gt;;</span>
<span class="nx">HelloMessage</span><span class="p">.</span><span class="nx">propTypes</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">name</span><span class="o">:</span> <span class="nx">React</span><span class="p">.</span><span class="nx">PropTypes</span><span class="p">.</span><span class="nx">string</span>
<span class="p">}</span>
<span class="nx">HelloMessage</span><span class="p">.</span><span class="nx">defaultProps</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">name</span><span class="o">:</span> <span class="s1">&apos;John Doe&apos;</span>
<span class="p">}</span>
<span class="nx">ReactDOM</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">HelloMessage</span> <span class="nx">name</span><span class="o">=</span><span class="s2">&quot;M&#x103;d&#x103;lina&quot;</span><span class="o">/&gt;</span><span class="p">,</span> <span class="nx">mountNode</span><span class="p">);</span>
</code></pre></div><span>
</span><blockquote>
<p>NOTE:</p>

<p>Because stateless functions don&apos;t have a backing instance, you can&apos;t attach a ref to a stateless function component. Normally this isn&apos;t an issue, since stateless functions do not provide an imperative API. Without an imperative API, there isn&apos;t much you could do with an instance anyway. However, if a user wants to find the DOM node of a stateless function component, they must wrap the component in a stateful component (eg. ES6 class component) and attach the ref to the stateful wrapper component.</p>

<p>NOTE:</p>

<p>In React v0.14, stateless functional components were not permitted to return <code>null</code> or <code>false</code> (a workaround is to return a <code>&lt;noscript /&gt;</code> instead). This was fixed in React v15, and stateless functional components are now permitted to return <code>null</code>.</p>
</blockquote><span>

</span><p>In an ideal world, most of your components would be stateless functions because in the future we&#x2019;ll also be able to make performance optimizations specific to these components by avoiding unnecessary checks and memory allocations. This is the recommended pattern, when possible.</p><span>


    </span><span>
  </span></div></div>
        </article>
      
        <article>
          <h3>Transferring Props</h3>
          <div><div class="inner-content"><span>
    </span><span>
    </span><span>
    </span><span>

    </span><p>It&apos;s a common pattern in React to wrap a component in an abstraction. The outer component exposes a simple property to do something that might have more complex implementation details.</p><span>

</span><p>You can use <a href="https://facebook.github.io/react/docs/jsx-spread.html">JSX spread attributes</a> to merge the old props with additional values:</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="o">&lt;</span><span class="nx">Component</span> <span class="p">{...</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">}</span> <span class="nx">more</span><span class="o">=</span><span class="s2">&quot;values&quot;</span> <span class="o">/&gt;</span>
</code></pre></div><span>
</span><p>If you don&apos;t use JSX, you can use any object helper such as ES6 <code>Object.assign</code> or Underscore <code>_.extend</code>:</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">React</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="nx">Component</span><span class="p">,</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">assign</span><span class="p">({},</span> <span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">,</span> <span class="p">{</span> <span class="nx">more</span><span class="o">:</span> <span class="s1">&apos;values&apos;</span> <span class="p">}));</span>
</code></pre></div><span>
</span><p>The rest of this tutorial explains best practices. It uses JSX and experimental ECMAScript syntax.</p><span>
</span><h2><a class="anchor" name="manual-transfer"></a>Manual Transfer </h2><span>
</span><p>Most of the time you should explicitly pass the properties down. This ensures that you only expose a subset of the inner API, one that you know will work.</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">function</span> <span class="nx">FancyCheckbox</span><span class="p">(</span><span class="nx">props</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">fancyClass</span> <span class="o">=</span> <span class="nx">props</span><span class="p">.</span><span class="nx">checked</span> <span class="o">?</span> <span class="s1">&apos;FancyChecked&apos;</span> <span class="o">:</span> <span class="s1">&apos;FancyUnchecked&apos;</span><span class="p">;</span>
  <span class="k">return</span> <span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="p">{</span><span class="nx">fancyClass</span><span class="p">}</span> <span class="nx">onClick</span><span class="o">=</span><span class="p">{</span><span class="nx">props</span><span class="p">.</span><span class="nx">onClick</span><span class="p">}</span><span class="o">&gt;</span>
      <span class="p">{</span><span class="nx">props</span><span class="p">.</span><span class="nx">children</span><span class="p">}</span>
    <span class="o">&lt;</span><span class="err">/div&gt;</span>
  <span class="p">);</span>
<span class="p">}</span>
<span class="nx">ReactDOM</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span>
  <span class="o">&lt;</span><span class="nx">FancyCheckbox</span> <span class="nx">checked</span><span class="o">=</span><span class="p">{</span><span class="kc">true</span><span class="p">}</span> <span class="nx">onClick</span><span class="o">=</span><span class="p">{</span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="nx">console</span><span class="p">)}</span><span class="o">&gt;</span>
    <span class="nx">Hello</span> <span class="nx">world</span><span class="o">!</span>
  <span class="o">&lt;</span><span class="err">/FancyCheckbox&gt;,</span>
  <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&apos;example&apos;</span><span class="p">)</span>
<span class="p">);</span>
</code></pre></div><span>
</span><p>But what about the <code>name</code> prop? Or the <code>title</code> prop? Or <code>onMouseOver</code>?</p><span>
</span><h2><a class="anchor" name="transferring-with-...-in-jsx"></a>Transferring with <code>...</code> in JSX </h2><span>
</span><blockquote>
<p>NOTE:</p>

<p>The <code>...</code> syntax is part of the Object Rest Spread proposal. This proposal is on track to become a standard. See the <a href="https://facebook.github.io/react/docs/transferring-props.html#rest-and-spread-properties-...">Rest and Spread Properties ...</a> section below for more details.</p>
</blockquote><span>

</span><p>Sometimes it&apos;s fragile and tedious to pass every property along. In that case you can use <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment">destructuring assignment</a> with rest properties to extract a set of unknown properties.</p><span>

</span><p>List out all the properties that you would like to consume, followed by <code>...other</code>.</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="p">{</span> <span class="nx">checked</span><span class="p">,</span> <span class="p">...</span><span class="nx">other</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">props</span><span class="p">;</span>
</code></pre></div><span>
</span><p>This ensures that you pass down all the props EXCEPT the ones you&apos;re consuming yourself.</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">function</span> <span class="nx">FancyCheckbox</span><span class="p">(</span><span class="nx">props</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="p">{</span> <span class="nx">checked</span><span class="p">,</span> <span class="p">...</span><span class="nx">other</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">props</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">fancyClass</span> <span class="o">=</span> <span class="nx">checked</span> <span class="o">?</span> <span class="s1">&apos;FancyChecked&apos;</span> <span class="o">:</span> <span class="s1">&apos;FancyUnchecked&apos;</span><span class="p">;</span>
  <span class="c1">// `other` contains { onClick: console.log } but not the checked property</span>
  <span class="k">return</span> <span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">div</span> <span class="p">{...</span><span class="nx">other</span><span class="p">}</span> <span class="nx">className</span><span class="o">=</span><span class="p">{</span><span class="nx">fancyClass</span><span class="p">}</span> <span class="o">/&gt;</span>
  <span class="p">);</span>
<span class="p">}</span>
<span class="nx">ReactDOM</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span>
  <span class="o">&lt;</span><span class="nx">FancyCheckbox</span> <span class="nx">checked</span><span class="o">=</span><span class="p">{</span><span class="kc">true</span><span class="p">}</span> <span class="nx">onClick</span><span class="o">=</span><span class="p">{</span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="nx">console</span><span class="p">)}</span><span class="o">&gt;</span>
    <span class="nx">Hello</span> <span class="nx">world</span><span class="o">!</span>
  <span class="o">&lt;</span><span class="err">/FancyCheckbox&gt;,</span>
  <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&apos;example&apos;</span><span class="p">)</span>
<span class="p">);</span>
</code></pre></div><span>
</span><blockquote>
<p>NOTE:</p>

<p>In the example above, the <code>checked</code> prop is also a valid DOM attribute. If you didn&apos;t use destructuring in this way you might inadvertently pass it along.</p>
</blockquote><span>

</span><p>Always use the destructuring pattern when transferring unknown <code>other</code> props.</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">function</span> <span class="nx">FancyCheckbox</span><span class="p">(</span><span class="nx">props</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">fancyClass</span> <span class="o">=</span> <span class="nx">props</span><span class="p">.</span><span class="nx">checked</span> <span class="o">?</span> <span class="s1">&apos;FancyChecked&apos;</span> <span class="o">:</span> <span class="s1">&apos;FancyUnchecked&apos;</span><span class="p">;</span>
  <span class="c1">// ANTI-PATTERN: `checked` would be passed down to the inner component</span>
  <span class="k">return</span> <span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">div</span> <span class="p">{...</span><span class="nx">props</span><span class="p">}</span> <span class="nx">className</span><span class="o">=</span><span class="p">{</span><span class="nx">fancyClass</span><span class="p">}</span> <span class="o">/&gt;</span>
  <span class="p">);</span>
<span class="p">}</span>
</code></pre></div><h2><a class="anchor" name="consuming-and-transferring-the-same-prop"></a>Consuming and Transferring the Same Prop </h2><span>
</span><p>If your component wants to consume a property but also wants to pass it along, you can repass it explicitly with <code>checked={checked}</code>. This is preferable to passing the full <code>props</code> object since it&apos;s easier to refactor and lint.</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">function</span> <span class="nx">FancyCheckbox</span><span class="p">(</span><span class="nx">props</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="p">{</span> <span class="nx">checked</span><span class="p">,</span> <span class="nx">title</span><span class="p">,</span> <span class="p">...</span><span class="nx">other</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">props</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">fancyClass</span> <span class="o">=</span> <span class="nx">checked</span> <span class="o">?</span> <span class="s1">&apos;FancyChecked&apos;</span> <span class="o">:</span> <span class="s1">&apos;FancyUnchecked&apos;</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">fancyTitle</span> <span class="o">=</span> <span class="nx">checked</span> <span class="o">?</span> <span class="s1">&apos;X &apos;</span> <span class="o">+</span> <span class="nx">title</span> <span class="o">:</span> <span class="s1">&apos;O &apos;</span> <span class="o">+</span> <span class="nx">title</span><span class="p">;</span>
  <span class="k">return</span> <span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">label</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="nx">input</span> <span class="p">{...</span><span class="nx">other</span><span class="p">}</span>
        <span class="nx">checked</span><span class="o">=</span><span class="p">{</span><span class="nx">checked</span><span class="p">}</span>
        <span class="nx">className</span><span class="o">=</span><span class="p">{</span><span class="nx">fancyClass</span><span class="p">}</span>
        <span class="nx">type</span><span class="o">=</span><span class="s2">&quot;checkbox&quot;</span>
      <span class="o">/&gt;</span>
      <span class="p">{</span><span class="nx">fancyTitle</span><span class="p">}</span>
    <span class="o">&lt;</span><span class="err">/label&gt;</span>
  <span class="p">);</span>
<span class="p">}</span>
</code></pre></div><span>
</span><blockquote>
<p>NOTE:</p>

<p>Order matters. By putting the <code>{...other}</code> before your JSX props you ensure that the consumer of your component can&apos;t override them. In the example above we have guaranteed that the input will be of type <code>&quot;checkbox&quot;</code>.</p>
</blockquote><span>
</span><h2><a class="anchor" name="rest-and-spread-properties-..."></a>Rest and Spread Properties <code>...</code> </h2><span>
</span><p>Rest properties allow you to extract the remaining properties from an object into a new object. It excludes every other property listed in the destructuring pattern.</p><span>

</span><p>This is an experimental implementation of an <a href="https://github.com/sebmarkbage/ecmascript-rest-spread">ECMAScript proposal</a>.</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="p">{</span> <span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">,</span> <span class="p">...</span><span class="nx">z</span> <span class="p">}</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">x</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">y</span><span class="o">:</span> <span class="mi">2</span><span class="p">,</span> <span class="nx">a</span><span class="o">:</span> <span class="mi">3</span><span class="p">,</span> <span class="nx">b</span><span class="o">:</span> <span class="mi">4</span> <span class="p">};</span>
<span class="nx">x</span><span class="p">;</span> <span class="c1">// 1</span>
<span class="nx">y</span><span class="p">;</span> <span class="c1">// 2</span>
<span class="nx">z</span><span class="p">;</span> <span class="c1">// { a: 3, b: 4 }</span>
</code></pre></div><span>
</span><blockquote>
<p>Note:</p>

<p>To transform rest and spread properties using Babel 6, you need to install the <a href="https://babeljs.io/docs/plugins/preset-es2015/"><code>es2015</code></a> preset, the <a href="https://babeljs.io/docs/plugins/transform-object-rest-spread/"><code>transform-object-rest-spread</code></a> plugin and configure them in the <code>.babelrc</code> file.</p>
</blockquote><span>
</span><h2><a class="anchor" name="transferring-with-underscore"></a>Transferring with Underscore </h2><span>
</span><p>If you don&apos;t use JSX, you can use a library to achieve the same pattern. Underscore supports <code>_.omit</code> to filter out properties and <code>_.extend</code> to copy properties onto a new object.</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">function</span> <span class="nx">FancyCheckbox</span><span class="p">(</span><span class="nx">props</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">checked</span> <span class="o">=</span> <span class="nx">props</span><span class="p">.</span><span class="nx">checked</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">other</span> <span class="o">=</span> <span class="nx">_</span><span class="p">.</span><span class="nx">omit</span><span class="p">(</span><span class="nx">props</span><span class="p">,</span> <span class="s1">&apos;checked&apos;</span><span class="p">);</span>
  <span class="kd">var</span> <span class="nx">fancyClass</span> <span class="o">=</span> <span class="nx">checked</span> <span class="o">?</span> <span class="s1">&apos;FancyChecked&apos;</span> <span class="o">:</span> <span class="s1">&apos;FancyUnchecked&apos;</span><span class="p">;</span>
  <span class="k">return</span> <span class="p">(</span>
    <span class="nx">React</span><span class="p">.</span><span class="nx">DOM</span><span class="p">.</span><span class="nx">div</span><span class="p">(</span><span class="nx">_</span><span class="p">.</span><span class="nx">extend</span><span class="p">({},</span> <span class="nx">other</span><span class="p">,</span> <span class="p">{</span> <span class="nx">className</span><span class="o">:</span> <span class="nx">fancyClass</span> <span class="p">}))</span>
  <span class="p">);</span>
<span class="p">}</span>
</code></pre></div><span>

    </span><span>
  </span></div></div>
        </article>
      
        <article>
          <h3>Forms | React</h3>
          <div><div class="inner-content"><span>
    </span><span>
    </span><span>
    </span><span>

    </span><p>Form components such as <code>&lt;input&gt;</code>, <code>&lt;textarea&gt;</code>, and <code>&lt;option&gt;</code> differ from other native components because they can be mutated via user interactions. These components provide interfaces that make it easier to manage forms in response to user interactions.</p><span>

</span><p>For information on events on <code>&lt;form&gt;</code> see <a href="https://facebook.github.io/react/docs/events.html#form-events">Form Events</a>.</p><span>
</span><h2><a class="anchor" name="interactive-props"></a>Interactive Props </h2><span>
</span><p>Form components support a few props that are affected via user interactions:</p><span>

</span><ul>
<li><code>value</code>, supported by <code>&lt;input&gt;</code> and <code>&lt;textarea&gt;</code> components.</li>
<li><code>checked</code>, supported by <code>&lt;input&gt;</code> components of type <code>checkbox</code> or <code>radio</code>.</li>
<li><code>selected</code>, supported by <code>&lt;option&gt;</code> components.</li>
</ul><span>

</span><p>In HTML, the value of <code>&lt;textarea&gt;</code> is set via children. In React, you should use <code>value</code> instead.</p><span>

</span><p>Form components allow listening for changes by setting a callback to the <code>onChange</code> prop. The <code>onChange</code> prop works across browsers to fire in response to user interactions when:</p><span>

</span><ul>
<li>The <code>value</code> of <code>&lt;input&gt;</code> or <code>&lt;textarea&gt;</code> changes.</li>
<li>The <code>checked</code> state of <code>&lt;input&gt;</code> changes.</li>
<li>The <code>selected</code> state of <code>&lt;option&gt;</code> changes.</li>
</ul><span>

</span><p>Like all DOM events, the <code>onChange</code> prop is supported on all native components and can be used to listen to bubbled change events.</p><span>

</span><blockquote>
<p>Note:</p>

<p>For <code>&lt;input&gt;</code> and <code>&lt;textarea&gt;</code>, <code>onChange</code> supersedes &#x2014; and should generally be used instead of &#x2014; the DOM&apos;s built-in <a href="https://developer.mozilla.org/en-US/docs/Web/API/GlobalEventHandlers/oninput"><code>oninput</code></a> event handler.</p>
</blockquote><span>
</span><h2><a class="anchor" name="controlled-components"></a>Controlled Components </h2><span>
</span><p>A <strong>controlled</strong> <code>&lt;input&gt;</code> has a <code>value</code> prop. Rendering a controlled <code>&lt;input&gt;</code> will reflect the value of the <code>value</code> prop.</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript">  <span class="nx">render</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="o">&lt;</span><span class="nx">input</span> <span class="nx">type</span><span class="o">=</span><span class="s2">&quot;text&quot;</span> <span class="nx">value</span><span class="o">=</span><span class="s2">&quot;Hello!&quot;</span> <span class="o">/&gt;</span><span class="p">;</span>
  <span class="p">}</span>
</code></pre></div><span>
</span><p>User input will have no effect on the rendered element because React has declared the value to be <code>Hello!</code>. To update the value in response to user input, you could use the <code>onChange</code> event:</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript">  <span class="nx">getInitialState</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">{</span><span class="nx">value</span><span class="o">:</span> <span class="s1">&apos;Hello!&apos;</span><span class="p">};</span>
  <span class="p">},</span>
  <span class="nx">handleChange</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">({</span><span class="nx">value</span><span class="o">:</span> <span class="nx">event</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">value</span><span class="p">});</span>
  <span class="p">},</span>
  <span class="nx">render</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span>
      <span class="o">&lt;</span><span class="nx">input</span>
        <span class="nx">type</span><span class="o">=</span><span class="s2">&quot;text&quot;</span>
        <span class="nx">value</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">value</span><span class="p">}</span>
        <span class="nx">onChange</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">handleChange</span><span class="p">}</span>
      <span class="o">/&gt;</span>
    <span class="p">);</span>
  <span class="p">}</span>
</code></pre></div><span>
</span><p>In this example, we are accepting the value provided by the user and updating the <code>value</code> prop of the <code>&lt;input&gt;</code> component. This pattern makes it easy to implement interfaces that respond to or validate user interactions. For example:</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript">  <span class="nx">handleChange</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">({</span><span class="nx">value</span><span class="o">:</span> <span class="nx">event</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">value</span><span class="p">.</span><span class="nx">substr</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">140</span><span class="p">)});</span>
  <span class="p">}</span>
</code></pre></div><span>
</span><p>This would accept user input and truncate the value to the first 140 characters.</p><span>

</span><p>A <strong>Controlled</strong> component does not maintain its own internal state; the component renders purely based on props.</p><span>
</span><h3><a class="anchor" name="potential-issues-with-checkboxes-and-radio-buttons"></a>Potential Issues With Checkboxes and Radio Buttons </h3><span>
</span><p>Be aware that, in an attempt to normalize change handling for checkbox and radio inputs, React uses a <code>click</code> event in place of a <code>change</code> event. For the most part this behaves as expected, except when calling <code>preventDefault</code> in a <code>change</code> handler. <code>preventDefault</code> stops the browser from visually updating the input, even if <code>checked</code> gets toggled. This can be worked around either by removing the call to <code>preventDefault</code>, or putting the toggle of <code>checked</code> in a <code>setTimeout</code>.</p><span>
</span><h2><a class="anchor" name="uncontrolled-components"></a>Uncontrolled Components </h2><span>
</span><p>An <code>&lt;input&gt;</code> without a <code>value</code> property is an <em>uncontrolled</em> component:</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript">  <span class="nx">render</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="o">&lt;</span><span class="nx">input</span> <span class="nx">type</span><span class="o">=</span><span class="s2">&quot;text&quot;</span> <span class="o">/&gt;</span><span class="p">;</span>
  <span class="p">}</span>
</code></pre></div><span>
</span><p>This will render an input that starts off with an empty value. Any user input will be immediately reflected by the rendered element. If you wanted to listen to updates to the value, you could use the <code>onChange</code> event just like you can with controlled components.</p><span>

</span><p>An <strong>uncontrolled</strong> component maintains its own internal state.</p><span>
</span><h3><a class="anchor" name="default-value"></a>Default Value </h3><span>
</span><p>If you want to initialize the component with a non-empty value, you can supply a <code>defaultValue</code> prop. For example:</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript">  <span class="nx">render</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="o">&lt;</span><span class="nx">input</span> <span class="nx">type</span><span class="o">=</span><span class="s2">&quot;text&quot;</span> <span class="nx">defaultValue</span><span class="o">=</span><span class="s2">&quot;Hello!&quot;</span> <span class="o">/&gt;</span><span class="p">;</span>
  <span class="p">}</span>
</code></pre></div><span>
</span><p>This example will function much like the <strong>Controlled Components</strong> example above.</p><span>

</span><p>Likewise, <code>&lt;input type=&quot;checkbox&quot;&gt;</code> and <code>&lt;input type=&quot;radio&quot;&gt;</code> support <code>defaultChecked</code>, and <code>&lt;select&gt;</code> supports <code>defaultValue</code>.</p><span>

</span><blockquote>
<p>Note:</p>

<p>The <code>defaultValue</code> and <code>defaultChecked</code> props are only used during initial render. If you need to update the value in a subsequent render, you will need to use a <a href="https://facebook.github.io/react/docs/forms.html#controlled-components">controlled component</a>.</p>
</blockquote><span>
</span><h2><a class="anchor" name="advanced-topics"></a>Advanced Topics </h2><h3><a class="anchor" name="why-controlled-components"></a>Why Controlled Components? </h3><span>
</span><p>Using form components such as <code>&lt;input&gt;</code> in React presents a challenge that is absent when writing traditional form HTML. For example, in HTML:</p><span>
</span><div class="highlight"><pre><code class="language-html" data-lang="html">  <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">&quot;text&quot;</span> <span class="na">name=</span><span class="s">&quot;title&quot;</span> <span class="na">value=</span><span class="s">&quot;Untitled&quot;</span> <span class="nt">/&gt;</span>
</code></pre></div><span>
</span><p>This renders an input <em>initialized</em> with the value, <code>Untitled</code>. When the user updates the input, the node&apos;s <code>value</code> <em>property</em> will change. However, <code>node.getAttribute(&apos;value&apos;)</code> will still return the value used at initialization time, <code>Untitled</code>.</p><span>

</span><p>Unlike HTML, React components must represent the state of the view at any point in time and not only at initialization time. For example, in React:</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript">  <span class="nx">render</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="o">&lt;</span><span class="nx">input</span> <span class="nx">type</span><span class="o">=</span><span class="s2">&quot;text&quot;</span> <span class="nx">name</span><span class="o">=</span><span class="s2">&quot;title&quot;</span> <span class="nx">value</span><span class="o">=</span><span class="s2">&quot;Untitled&quot;</span> <span class="o">/&gt;</span><span class="p">;</span>
  <span class="p">}</span>
</code></pre></div><span>
</span><p>Since this method describes the view at any point in time, the value of the text input should <em>always</em> be <code>Untitled</code>.</p><span>
</span><h3><a class="anchor" name="why-textarea-value"></a>Why Textarea Value? </h3><span>
</span><p>In HTML, the value of <code>&lt;textarea&gt;</code> is usually set using its children:</p><span>
</span><div class="highlight"><pre><code class="language-html" data-lang="html">  <span class="c">&lt;!-- antipattern: DO NOT DO THIS! --&gt;</span>
  <span class="nt">&lt;textarea</span> <span class="na">name=</span><span class="s">&quot;description&quot;</span><span class="nt">&gt;</span>This is the description.<span class="nt">&lt;/textarea&gt;</span>
</code></pre></div><span>
</span><p>For HTML, this easily allows developers to supply multiline values. However, since React is JavaScript, we do not have string limitations and can use <code>\n</code> if we want newlines. In a world where we have <code>value</code> and <code>defaultValue</code>, it is ambiguous what role children play. For this reason, you should not use children when setting <code>&lt;textarea&gt;</code> values:</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript">  <span class="o">&lt;</span><span class="nx">textarea</span> <span class="nx">name</span><span class="o">=</span><span class="s2">&quot;description&quot;</span> <span class="nx">value</span><span class="o">=</span><span class="s2">&quot;This is a description.&quot;</span> <span class="o">/&gt;</span>
</code></pre></div><span>
</span><p>If you <em>do</em> decide to use children, they will behave like <code>defaultValue</code>.</p><span>
</span><h3><a class="anchor" name="why-select-value"></a>Why Select Value? </h3><span>
</span><p>The selected <code>&lt;option&gt;</code> in an HTML <code>&lt;select&gt;</code> is normally specified through that option&apos;s <code>selected</code> attribute. In React, in order to make components easier to manipulate, the following format is adopted instead:</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript">  <span class="o">&lt;</span><span class="nx">select</span> <span class="nx">value</span><span class="o">=</span><span class="s2">&quot;B&quot;</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="nx">option</span> <span class="nx">value</span><span class="o">=</span><span class="s2">&quot;A&quot;</span><span class="o">&gt;</span><span class="nx">Apple</span><span class="o">&lt;</span><span class="err">/option&gt;</span>
    <span class="o">&lt;</span><span class="nx">option</span> <span class="nx">value</span><span class="o">=</span><span class="s2">&quot;B&quot;</span><span class="o">&gt;</span><span class="nx">Banana</span><span class="o">&lt;</span><span class="err">/option&gt;</span>
    <span class="o">&lt;</span><span class="nx">option</span> <span class="nx">value</span><span class="o">=</span><span class="s2">&quot;C&quot;</span><span class="o">&gt;</span><span class="nx">Cranberry</span><span class="o">&lt;</span><span class="err">/option&gt;</span>
  <span class="o">&lt;</span><span class="err">/select&gt;</span>
</code></pre></div><span>
</span><p>To make an uncontrolled component, <code>defaultValue</code> is used instead.</p><span>

</span><blockquote>
<p>Note:</p>

<p>You can pass an array into the <code>value</code> attribute, allowing you to select multiple options in a <code>select</code> tag: <code>&lt;select multiple={true} value={[&apos;B&apos;, &apos;C&apos;]}&gt;</code>.</p>
</blockquote><span>
</span><h3><a class="anchor" name="imperative-operations"></a>Imperative operations </h3><span>
</span><p>If you need to imperatively perform an operation, you have to obtain a <a href="https://facebook.github.io/react/docs/more-about-refs.html#the-ref-callback-attribute">reference to the DOM node</a>.
For instance, if you want to imperatively submit a form, one approach would be to attach a <code>ref</code> to the <code>form</code> element and manually call <code>form.submit()</code>.</p><span>


    </span><span>
  </span></div></div>
        </article>
      
        <article>
          <h3>Working With the Browser</h3>
          <div><div class="inner-content"><span>
    </span><span>
    </span><span>
    </span><span>

    </span><p>React provides powerful abstractions that free you from touching the DOM directly in most cases, but sometimes you simply need to access the underlying API, perhaps to work with a third-party library or existing code.</p><span>
</span><h2><a class="anchor" name="the-virtual-dom"></a>The Virtual DOM </h2><span>
</span><p>React is very fast because it never talks to the DOM directly. React maintains a fast in-memory representation of the DOM. <code>render()</code> methods actually return a <em>description</em> of the DOM, and React can compare this description with the in-memory representation to compute the fastest way to update the browser.</p><span>

</span><p>Additionally, React implements a full synthetic event system such that all event objects are guaranteed to conform to the W3C spec despite browser quirks, and everything bubbles consistently and efficiently across browsers. You can even use some HTML5 events in older browsers that don&apos;t ordinarily support them!</p><span>

</span><p>Most of the time you should stay within React&apos;s &quot;faked browser&quot; world since it&apos;s more performant and easier to reason about. However, sometimes you simply need to access the underlying API, perhaps to work with a third-party library like a jQuery plugin. React provides escape hatches for you to use the underlying DOM API directly.</p><span>
</span><h2><a class="anchor" name="refs-and-finddomnode"></a>Refs and findDOMNode() </h2><span>
</span><p>To interact with the browser, you&apos;ll need a reference to a DOM node. You can attach a <code>ref</code> to any element, which allows you to reference the <strong>backing instance</strong> of the component.  This is useful if you need to invoke imperative functions on the component, or want to access the underlying DOM nodes.  To learn more about refs, including ways to use them effectively, see our <a href="https://facebook.github.io/react/docs/more-about-refs.html">refs to components</a> documentation.</p><span>
</span><h2><a class="anchor" name="component-lifecycle"></a>Component Lifecycle </h2><span>
</span><p>Components have three main parts of their lifecycle:</p><span>

</span><ul>
<li><strong>Mounting:</strong> A component is being inserted into the DOM.</li>
<li><strong>Updating:</strong> A component is being re-rendered to determine if the DOM should be updated.</li>
<li><strong>Unmounting:</strong> A component is being removed from the DOM.</li>
</ul><span>

</span><p>React provides lifecycle methods that you can specify to hook into this process. We provide <strong>will</strong> methods, which are called right before something happens, and <strong>did</strong> methods which are called right after something happens.</p><span>
</span><h3><a class="anchor" name="mounting"></a>Mounting </h3><span>
</span><ul>
<li><code>getInitialState(): object</code> is invoked before a component is mounted. Stateful components should implement this and return the initial state data.</li>
<li><code>componentWillMount()</code> is invoked immediately before mounting occurs.</li>
<li><code>componentDidMount()</code> is invoked immediately after mounting occurs. Initialization that requires DOM nodes should go here.</li>
</ul><span>
</span><h3><a class="anchor" name="updating"></a>Updating </h3><span>
</span><ul>
<li><code>componentWillReceiveProps(object nextProps)</code> is invoked when a mounted component receives new props. This method should be used to compare <code>this.props</code> and <code>nextProps</code> to perform state transitions using <code>this.setState()</code>.</li>
<li><code>shouldComponentUpdate(object nextProps, object nextState): boolean</code> is invoked when a component decides whether any changes warrant an update to the DOM. Implement this as an optimization to compare <code>this.props</code> with <code>nextProps</code> and <code>this.state</code> with <code>nextState</code> and return <code>false</code> if React should skip updating.</li>
<li><code>componentWillUpdate(object nextProps, object nextState)</code> is invoked immediately before updating occurs. You cannot call <code>this.setState()</code> here.</li>
<li><code>componentDidUpdate(object prevProps, object prevState)</code> is invoked immediately after updating occurs.</li>
</ul><span>
</span><h3><a class="anchor" name="unmounting"></a>Unmounting </h3><span>
</span><ul>
<li><code>componentWillUnmount()</code> is invoked immediately before a component is unmounted and destroyed. Cleanup should go here.</li>
</ul><span>
</span><h3><a class="anchor" name="mounted-methods"></a>Mounted Methods </h3><span>
</span><p><em>Mounted</em> composite components also support the following method:</p><span>

</span><ul>
<li><code>component.forceUpdate()</code> can be invoked on any mounted component when you know that some deeper aspect of the component&apos;s state has changed without using <code>this.setState()</code>.</li>
</ul><span>
</span><h2><a class="anchor" name="browser-support"></a>Browser Support </h2><span>
</span><p>React supports most popular browsers, including Internet Explorer 9 and above.</p><span>

</span><p>(We don&apos;t support older browsers that don&apos;t support ES5 methods, but you may find that your apps do work in older browsers if polyfills such as <a href="https://github.com/es-shims/es5-shim">es5-shim and es5-sham</a> are included in the page. You&apos;re on your own if you choose to take this path.)</p><span>


    </span><span>
  </span></div></div>
        </article>
      
        <article>
          <h3>Refs to Components</h3>
          <div><div class="inner-content"><span>
    </span><span>
    </span><span>
    </span><span>

    </span><p>After building your component, you may find yourself wanting to &quot;reach out&quot; and invoke methods on component instances returned from <code>render()</code>. In most cases, this should be unnecessary because the reactive data flow always ensures that the most recent props are sent to each child that is output from <code>render()</code>. However, there are a few cases where it still might be necessary or beneficial, so React provides an escape hatch known as <code>refs</code>. These <code>refs</code> (references) are especially useful when you need to find the DOM markup rendered by a component (for instance, to position it absolutely), use React components in a larger non-React application, or transition your existing codebase to React.</p><span>

</span><p>Let&apos;s look at how to get a ref, and then dive into a complete example.</p><span>
</span><h2><a class="anchor" name="the-ref-returned-from-reactdom.render"></a>The ref returned from ReactDOM.render </h2><span>
</span><p>Not to be confused with the <code>render()</code> function that you define on your component (and which returns a virtual DOM element), <a href="https://facebook.github.io/react/docs/top-level-api.html#reactdom.render">ReactDOM.render()</a> will return a reference to your component&apos;s <strong>backing instance</strong> (or <code>null</code> for <a href="https://facebook.github.io/react/docs/reusable-components.html#stateless-functions">stateless components</a>).</p><span>
</span><div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">myComponent</span> <span class="o">=</span> <span class="nx">ReactDOM</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">MyComponent</span> <span class="o">/&gt;</span><span class="p">,</span> <span class="nx">myContainer</span><span class="p">);</span>
</code></pre></div><span>
</span><p>Keep in mind, however, that the JSX doesn&apos;t return a component instance! It&apos;s just a <strong>ReactElement</strong>: a lightweight representation that tells React what the mounted component should look like.</p><span>
</span><div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">myComponentElement</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nx">MyComponent</span> <span class="o">/&gt;</span><span class="p">;</span> <span class="c1">// This is just a ReactElement.</span>

<span class="c1">// Some code here...</span>

<span class="kd">var</span> <span class="nx">myComponentInstance</span> <span class="o">=</span> <span class="nx">ReactDOM</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="nx">myComponentElement</span><span class="p">,</span> <span class="nx">myContainer</span><span class="p">);</span>
<span class="nx">myComponentInstance</span><span class="p">.</span><span class="nx">doSomething</span><span class="p">();</span>
</code></pre></div><span>
</span><blockquote>
<p>Note:</p>

<p>This should only ever be used at the top level. Inside components, let your <code>props</code> and <code>state</code> handle communication with child components, or use one of the other methods of getting a ref (string attribute or callbacks).</p>
</blockquote><span>
</span><h2><a class="anchor" name="the-ref-callback-attribute"></a>The ref Callback Attribute </h2><span>
</span><p>React supports a special attribute that you can attach to any component. The <code>ref</code> attribute can be a callback function, and this callback will be executed immediately after the component is mounted. The referenced component will be passed in as a parameter, and the callback function may use the component immediately, or save the reference for future use (or both).</p><span>

</span><p>It&apos;s as simple as adding a <code>ref</code> attribute to anything returned from <code>render</code>:</p><span>
</span><div class="highlight"><pre><code class="language-js" data-lang="js">  <span class="nx">render</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span>
      <span class="o">&lt;</span><span class="nx">TextInput</span>
        <span class="nx">ref</span><span class="o">=</span><span class="p">{</span><span class="kd">function</span><span class="p">(</span><span class="nx">input</span><span class="p">)</span> <span class="p">{</span>
          <span class="k">if</span> <span class="p">(</span><span class="nx">input</span> <span class="o">!=</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">input</span><span class="p">.</span><span class="nx">focus</span><span class="p">();</span>
          <span class="p">}</span>
        <span class="p">}}</span> <span class="o">/&gt;</span>
    <span class="p">);</span>
  <span class="p">},</span>
</code></pre></div><span>
</span><p>or using an ES6 arrow function:</p><span>
</span><div class="highlight"><pre><code class="language-js" data-lang="js">  <span class="nx">render</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="o">&lt;</span><span class="nx">TextInput</span> <span class="nx">ref</span><span class="o">=</span><span class="p">{(</span><span class="nx">c</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="k">this</span><span class="p">.</span><span class="nx">_input</span> <span class="o">=</span> <span class="nx">c</span><span class="p">}</span> <span class="o">/&gt;</span><span class="p">;</span>
  <span class="p">},</span>
  <span class="nx">componentDidMount</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">_input</span><span class="p">.</span><span class="nx">focus</span><span class="p">();</span>
  <span class="p">},</span>
</code></pre></div><span>
</span><p>When attaching a ref to a DOM component like <code>&lt;div /&gt;</code>, you get the DOM node back; when attaching a ref to a composite component like <code>&lt;TextInput /&gt;</code>, you&apos;ll get the React class instance. In the latter case, you can call methods on that component if any are exposed in its class definition.</p><span>

</span><p>Note that when the referenced component is unmounted and whenever the ref changes, the old ref will be called with <code>null</code> as an argument. This prevents memory leaks in the case that the instance is stored, as in the second example. Also note that when writing refs with inline function expressions as in the examples here, React sees a different function object each time so on every update, ref will be called with <code>null</code> immediately before it&apos;s called with the component instance.</p><span>
</span><h2><a class="anchor" name="the-ref-string-attribute"></a>The ref String Attribute </h2><span>
</span><blockquote>
<p>Note:</p>

<p>Although string refs are not deprecated, they are considered legacy, and will likely be deprecated at some point in the future. Callback refs are preferred.</p>
</blockquote><span>

</span><p>React also supports using a string (instead of a callback) as a ref prop on any component.</p><span>

</span><ol>
<li><p>Assign a <code>ref</code> attribute to anything returned from <code>render</code> such as:</p>
</li>
<li><p>In some other code (typically event handler code), access the <strong>backing instance</strong> via <code>this.refs</code> as in:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">input</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">refs</span><span class="p">.</span><span class="nx">myInput</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">inputValue</span> <span class="o">=</span> <span class="nx">input</span><span class="p">.</span><span class="nx">value</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">inputRect</span> <span class="o">=</span> <span class="nx">input</span><span class="p">.</span><span class="nx">getBoundingClientRect</span><span class="p">();</span>
</code></pre></div></li>
</ol><span>
</span><h2><a class="anchor" name="a-complete-example"></a>A Complete Example </h2><span>
</span><p>In order to get a reference to a React component, you can either use <code>this</code> to get the current React component, or you can use a ref to get a reference to a component you own. They work like this:</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">MyComponent</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createClass</span><span class="p">({</span>
  <span class="nx">handleClick</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// Explicitly focus the text input using the raw DOM API.</span>
    <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">myTextInput</span> <span class="o">!==</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">myTextInput</span><span class="p">.</span><span class="nx">focus</span><span class="p">();</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="nx">render</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// The ref attribute is a callback that saves a reference to the</span>
    <span class="c1">// component to this.myTextInput when the component is mounted.</span>
    <span class="k">return</span> <span class="p">(</span>
      <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nx">input</span> <span class="nx">type</span><span class="o">=</span><span class="s2">&quot;text&quot;</span> <span class="nx">ref</span><span class="o">=</span><span class="p">{(</span><span class="nx">ref</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="k">this</span><span class="p">.</span><span class="nx">myTextInput</span> <span class="o">=</span> <span class="nx">ref</span><span class="p">}</span> <span class="o">/&gt;</span>
        <span class="o">&lt;</span><span class="nx">input</span>
          <span class="nx">type</span><span class="o">=</span><span class="s2">&quot;button&quot;</span>
          <span class="nx">value</span><span class="o">=</span><span class="s2">&quot;Focus the text input&quot;</span>
          <span class="nx">onClick</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">handleClick</span><span class="p">}</span>
        <span class="o">/&gt;</span>
      <span class="o">&lt;</span><span class="err">/div&gt;</span>
    <span class="p">);</span>
  <span class="p">}</span>
<span class="p">});</span>

<span class="nx">ReactDOM</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span>
  <span class="o">&lt;</span><span class="nx">MyComponent</span> <span class="o">/&gt;</span><span class="p">,</span>
  <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&apos;example&apos;</span><span class="p">)</span>
<span class="p">);</span>
</code></pre></div><span>
</span><p>In this example, we get a reference to the text input <strong>backing instance</strong> and we call <code>focus()</code> when the button is clicked.</p><span>

</span><p>For composite components, the reference will refer to an instance of the component class so you can invoke any methods that are defined on that class. If you need access to the underlying DOM node for that component, you can use <a href="https://facebook.github.io/react/docs/top-level-api.html#reactdom.finddomnode">ReactDOM.findDOMNode</a> as an &quot;escape hatch&quot; but we don&apos;t recommend it since it breaks encapsulation and in almost every case there&apos;s a clearer way to structure your code within the React model.</p><span>
</span><h2><a class="anchor" name="summary"></a>Summary </h2><span>
</span><p>Refs are a great way to send a message to a particular child instance in a way that would be inconvenient to do via streaming Reactive <code>props</code> and <code>state</code>. They should, however, not be your go-to abstraction for flowing data through your application. By default, use the Reactive data flow and save <code>ref</code>s for use cases that are inherently non-reactive.</p><span>
</span><h3><a class="anchor" name="benefits"></a>Benefits: </h3><span>
</span><ul>
<li>You can define any public method on your component classes (such as a reset method on a Typeahead) and call those public methods through refs (such as <code>this.refs.myTypeahead.reset()</code>). In most cases, it&apos;s clearer to use the built-in React data flow instead of using refs imperatively.</li>
<li>Performing DOM measurements almost always requires reaching out to a &quot;native&quot; component such as <code>&lt;input /&gt;</code> and accessing its underlying DOM node using a ref. Refs are one of the only practical ways of doing this reliably.</li>
<li>Refs are automatically managed for you! If that child is destroyed, its ref is also destroyed for you. No worrying about memory here (unless you do something crazy to retain a reference yourself).</li>
</ul><span>
</span><h3><a class="anchor" name="cautions"></a>Cautions: </h3><span>
</span><ul>
<li><em>Never</em> access refs inside of any component&apos;s render method &#x2013; or while any component&apos;s render method is even running anywhere in the call stack.</li>
<li>If you want to preserve Google Closure Compiler advanced-mode crushing resilience, make sure to never access as a property what was specified as a string. This means you must access using <code>this.refs[&apos;myRefString&apos;]</code> if your ref was defined as <code>ref=&quot;myRefString&quot;</code>.</li>
<li>If you have not programmed several apps with React, your first inclination is usually going to be to try to use refs to &quot;make things happen&quot; in your app. If this is the case, take a moment and think more critically about where state should be owned in the component hierarchy. Often, it becomes clear that the proper place to &quot;own&quot; that state is at a higher level in the hierarchy. Placing the state there often eliminates any desire to use <code>ref</code>s to &quot;make things happen&quot; &#x2013; instead, the data flow will usually accomplish your goal.</li>
<li>Refs may not be attached to a <a href="https://facebook.github.io/react/docs/reusable-components.html#stateless-functions">stateless function</a>, because the component does not have a backing instance. You can always wrap a stateless component in a standard composite component and attach a ref to the composite component.</li>
</ul><span>


    </span><span>
  </span></div></div>
        </article>
      
        <article>
          <h3>Tooling Integration</h3>
          <div><div class="inner-content"><span>
    </span><span>
    </span><span>
    </span><span>

    </span><p>We&apos;ve tried to make React as environment-agnostic as possible. People use React in a variety of languages (JavaScript, TypeScript, ClojureScript, etc) and in a variety of environments (web, iOS, Android, NodeJS, Nashorn, etc). There are many tools to help you build great applications. In these sections we introduce some of the tools that are most commonly used together with React.</p><span>

</span><ul>
<li><a href="https://facebook.github.io/react/docs/language-tooling.html">Language Tooling</a> describes how to set up tools like Babel to transpile JSX for a better development experience.</li>
<li><a href="https://facebook.github.io/react/docs/package-management.html">Package Management</a> describes how to configure React as a dependency of your project.</li>
<li><a href="https://facebook.github.io/react/docs/environments.html">Server-side Environments</a> describes how to configure your environment for server-side rendering with React.</li>
</ul><span>


    </span><span>
  </span></div></div>
        </article>
      
        <article>
          <h3>Language Tooling</h3>
          <div><div class="inner-content"><span>
    </span><span>
    </span><span>
    </span><span>

    </span><h2><a class="anchor" name="es2015-with-jsx"></a>ES2015 with JSX </h2><h3><a class="anchor" name="in-browser-jsx-transform"></a>In-browser JSX Transform </h3><span>
</span><p>If you like using JSX, Babel 5 provided an in-browser ES2015 and JSX transformer for development called browser.js that can be included from <a href="https://cdnjs.com/libraries/babel-core/5.8.34">CDNJS</a>. Include a <code>&lt;script type=&quot;text/babel&quot;&gt;</code> tag to engage the JSX transformer.</p><span>

</span><blockquote>
<p>Note:</p>

<p>The in-browser JSX transformer is fairly large and results in extraneous computation client-side that can be avoided. Do not use it in production &#x2014; see the next section.</p>
</blockquote><span>
</span><h3><a class="anchor" name="productionizing-precompiled-jsx"></a>Productionizing: Precompiled JSX </h3><span>
</span><p>If you have <a href="https://www.npmjs.com/">npm</a>, you can run <code>npm install -g babel-cli</code>. Babel has built-in support for React v0.12+. Tags are automatically transformed to their equivalent <code>React.createElement(...)</code>, <code>displayName</code> is automatically inferred and added to all <code>React.createClass</code> calls.</p><span>

</span><p>This tool will translate files that use JSX syntax to plain JavaScript files that can run directly in the browser. It will also watch directories for you and automatically transform files when they are changed; for example: <code>babel --watch src/ --out-dir lib/</code>.</p><span>

</span><p>Beginning with Babel 6, there are no transforms included by default. This means that options must be specified when running the <code>babel</code> command, or a <code>.babelrc</code> must specify options. Additional packages must also be installed which bundle together a number of transforms, called presets. The most common use when working with React will be to include the <code>es2015</code> and <code>react</code> presets. More information about the changes to Babel can be found in <a href="http://babeljs.io/blog/2015/10/29/6.0.0">their blog post announcing Babel 6</a>.</p><span>

</span><p>Here is an example of what you will do if using ES2015 syntax and React:</p><span>
</span><div class="highlight"><pre><code class="language-text" data-lang="text">npm install babel-preset-es2015 babel-preset-react
babel --presets es2015,react --watch src/ --out-dir lib/
</code></pre></div><span>
</span><p>By default JSX files with a <code>.js</code> extension are transformed. Run <code>babel --help</code> for more information on how to use Babel.</p><span>

</span><p>Example output:</p><span>
</span><div class="highlight"><pre><code class="language-text" data-lang="text">$ cat test.js
var HelloMessage = React.createClass({
  render: function() {
    return &lt;div&gt;Hello {this.props.name}&lt;/div&gt;;
  }
});

ReactDOM.render(&lt;HelloMessage name=&quot;John&quot; /&gt;, mountNode);
$ babel test.js
&quot;use strict&quot;;

var HelloMessage = React.createClass({
  displayName: &quot;HelloMessage&quot;,

  render: function render() {
    return React.createElement(
      &quot;div&quot;,
      null,
      &quot;Hello &quot;,
      this.props.name
    );
  }
});

ReactDOM.render(React.createElement(HelloMessage, { name: &quot;John&quot; }), mountNode);
</code></pre></div><h3><a class="anchor" name="helpful-open-source-projects"></a>Helpful Open-Source Projects </h3><span>
</span><p>The open-source community has built tools that integrate JSX with several editors and build systems. See <a href="https://github.com/facebook/react/wiki/Complementary-Tools#jsx-integrations">JSX integrations</a> for the full list.</p><span>
</span><h2><a class="anchor" name="flow"></a>Flow </h2><span>
</span><p>Flow is a JavaScript type checker released by Facebook, and it supports JSX. For more info, checkout the <a href="http://flowtype.org/">Flow homepage</a>.</p><span>
</span><h2><a class="anchor" name="typescript"></a>TypeScript </h2><span>
</span><p>TypeScript is a type-checker and transpiler that supports type-checking React and JSX.
For more info, check out their guide on <a href="https://www.typescriptlang.org/docs/handbook/react-&amp;-webpack.html">getting started with React and Webpack</a>, or learn more about <a href="https://www.typescriptlang.org/docs/handbook/jsx.html">TypeScript&apos;s JSX support</a>.</p><span>

</span><p>To learn more about TypeScript in general, visit the <a href="https://www.typescriptlang.org/">TypeScript homepage</a>.</p><span>


    </span><span>
  </span></div></div>
        </article>
      
        <article>
          <h3>Package Management</h3>
          <div><div class="inner-content"><span>
    </span><span>
    </span><span>
    </span><span>

    </span><h2><a class="anchor" name="cdn-hosted-react"></a>CDN-hosted React </h2><span>
</span><p>We provide CDN-hosted versions of React <a href="https://facebook.github.io/react/downloads.html">on our download page</a>. These pre-built files use the UMD module format. Dropping them in with a simple <code>&lt;script&gt;</code> tag will inject the <code>React</code> and <code>ReactDOM</code> globals into your environment. It should also work out-of-the-box in CommonJS and AMD environments.</p><span>
</span><h2><a class="anchor" name="using-react-from-npm"></a>Using React from npm </h2><span>
</span><p>You can use React with a CommonJS module system like <a href="http://browserify.org/">browserify</a> or <a href="https://webpack.github.io/">webpack</a>. Use the <a href="https://www.npmjs.com/package/react"><code>react</code></a> and <a href="https://www.npmjs.com/package/react-dom"><code>react-dom</code></a> npm packages.</p><span>
</span><div class="highlight"><pre><code class="language-js" data-lang="js"><span class="c1">// main.js</span>
<span class="kd">var</span> <span class="nx">React</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&apos;react&apos;</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">ReactDOM</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&apos;react-dom&apos;</span><span class="p">);</span>

<span class="nx">ReactDOM</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span>
  <span class="o">&lt;</span><span class="nx">h1</span><span class="o">&gt;</span><span class="nx">Hello</span><span class="p">,</span> <span class="nx">world</span><span class="o">!&lt;</span><span class="err">/h1&gt;,</span>
  <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&apos;example&apos;</span><span class="p">)</span>
<span class="p">);</span>
</code></pre></div><span>
</span><p>Configure <a href="https://babeljs.io/">babel</a> with a <code>.babelrc</code> file:</p><span>
</span><span>
</span><blockquote>
<p>Note:</p>

<p>If you are using ES2015, you will want to also use the <code>babel-preset-es2015</code> package.</p>
</blockquote><span>

</span><p>To install React DOM and build your bundle with browserify:</p><span>
</span><div class="highlight"><pre><code class="language-sh" data-lang="sh"><span class="nv">$ </span>npm install --save react react-dom babelify babel-preset-react
<span class="nv">$ </span>browserify -t <span class="o">[</span> babelify <span class="o">]</span> main.js -o bundle.js
</code></pre></div><span>
</span><p>To install React DOM and build your bundle with webpack:</p><span>
</span><div class="highlight"><pre><code class="language-sh" data-lang="sh"><span class="nv">$ </span>npm install --save react react-dom babel-preset-react babel-loader babel-core
<span class="nv">$ </span>webpack main.js bundle.js --module-bind <span class="s1">&apos;js=babel-loader&apos;</span>
</code></pre></div><span>
</span><blockquote>
<p>Note:</p>

<p>If you are using ES2015, you will want to also use the <code>babel-preset-es2015</code> package.</p>
</blockquote><span>

</span><p><strong>Note:</strong> by default, React will be in development mode, which is slower, and not advised for production. To use React in production mode, set the environment variable <code>NODE_ENV</code> to <code>production</code> (using envify or webpack&apos;s DefinePlugin). For example:</p><span>
</span><div class="highlight"><pre><code class="language-js" data-lang="js"><span class="k">new</span> <span class="nx">webpack</span><span class="p">.</span><span class="nx">DefinePlugin</span><span class="p">({</span>
  <span class="s2">&quot;process.env&quot;</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">NODE_ENV</span><span class="o">:</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="s2">&quot;production&quot;</span><span class="p">)</span>
  <span class="p">}</span>
<span class="p">});</span>
</code></pre></div><span>
</span><p>Update your HTML file as below:</p><span>
</span><div class="highlight"><pre><code class="language-html" data-lang="html"><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html&gt;</span>
  <span class="nt">&lt;head&gt;</span>
    <span class="nt">&lt;meta</span> <span class="na">charset=</span><span class="s">&quot;UTF-8&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;title&gt;</span>Hello React!<span class="nt">&lt;/title&gt;</span>
    <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;build/react.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
    <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;build/react-dom.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="hll">    <span class="c">&lt;!-- No need for Babel! --&gt;</span>
</span>  <span class="nt">&lt;/head&gt;</span>
  <span class="nt">&lt;body&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;example&quot;</span><span class="nt">&gt;&lt;/div&gt;</span>
<span class="hll">    <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;build/helloworld.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
</span>  <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre></div><h2><a class="anchor" name="using-react-from-bower"></a>Using React from Bower </h2><span>
</span><p>Bower is a package manager optimized for the front-end development. If multiple packages depend on a package - jQuery for example - Bower will download jQuery just once. This is known as a flat dependency graph and it helps reduce page load. For more info, visit http://bower.io/</p><span>

</span><p>If you&apos;d like to use bower, it&apos;s as easy as:</p><span>
</span><div class="highlight"><pre><code class="language-text" data-lang="text">bower install --save react
</code></pre></div><div class="highlight"><pre><code class="language-html" data-lang="html"><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html&gt;</span>
  <span class="nt">&lt;head&gt;</span>
    <span class="nt">&lt;meta</span> <span class="na">charset=</span><span class="s">&quot;UTF-8&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;title&gt;</span>Hello React!<span class="nt">&lt;/title&gt;</span>
    <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;bower_components/react/react.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
    <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;bower_components/react/react-dom.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
    <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;https://npmcdn.com/babel-core@5.8.38/browser.min.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
  <span class="nt">&lt;/head&gt;</span>
  <span class="nt">&lt;body&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;example&quot;</span><span class="nt">&gt;&lt;/div&gt;</span>
    <span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;text/babel&quot;</span><span class="nt">&gt;</span>
      <span class="nx">ReactDOM</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span>
        <span class="o">&lt;</span><span class="nx">h1</span><span class="o">&gt;</span><span class="nx">Hello</span><span class="p">,</span> <span class="nx">world</span><span class="o">!&lt;</span><span class="err">/h1&gt;,</span>
        <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&apos;example&apos;</span><span class="p">)</span>
      <span class="p">);</span>
    <span class="nt">&lt;/script&gt;</span>
  <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre></div><h2><a class="anchor" name="using-master"></a>Using master </h2><span>
</span><p>We have instructions for building from <code>master</code> <a href="https://github.com/facebook/react">in our GitHub repository</a>.</p><span>


    </span><span>
  </span></div></div>
        </article>
      
        <article>
          <h3>Server-side Environments</h3>
          <div><div class="inner-content"><span>
    </span><span>
    </span><h1>
      Server-side Environments
    </h1><span>
    </span><span>

    </span><p>One of the great things about React is that it doesn&apos;t require the DOM as a dependency, which means it is possible to render a React application on the server and send the HTML markup down to the client. There are a few things that React expects, so this guide will help you get started in your preferred environment.</p><span>
</span><h2><a class="anchor" name="node.js"></a>Node.js </h2><span>
</span><p><a href="http://nodejs.org/">Node.js</a> is a popular JavaScript runtime that comes with an extensive core library and support for installing packages from npm to expand on the basic functionality. As we&apos;ve described elsewhere in the documentation, you can install <code>react</code> and <code>react-dom</code> from npm.</p><span>

</span><p>Example:</p><span>
</span><div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">React</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&apos;react&apos;</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">ReactDOMServer</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&apos;react-dom/server&apos;</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">element</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">&apos;div&apos;</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span> <span class="s1">&apos;Hello World!&apos;</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">ReactDOMServer</span><span class="p">.</span><span class="nx">renderToString</span><span class="p">(</span><span class="nx">element</span><span class="p">));</span>
</code></pre></div><span>
</span><p>If you use JSX, you may want to pre-compile your components. Alternatively you may want to consider using <a href="https://babeljs.io/docs/usage/require/">Babel&apos;s require hook</a> or <a href="https://babeljs.io/docs/usage/cli/#babel-node"><code>babel-node</code></a>.</p><span>

</span><blockquote>
<p>Note:</p>

<p>Some versions of Node.js have an <code>Object.assign</code> implementation that does not preserve key order. This can cause errors when validating the markup, creating a warning that says &quot;React attempted to reuse markup in a container but the checksum was invalid&quot;. If you run into this issue, you can override <code>Object.assign</code> to use a polyfill that preserves key order. For more details, see <a href="https://github.com/facebook/react/issues/6451">Issue #6451</a>.</p>
</blockquote><span>
</span><h1><a class="anchor" name="c"></a>C# </h1><span>
</span><p>Support for server-side component rendering and JSX compilation (via Babel) in a .NET Framework / ASP.NET environment is provided through our <a href="http://reactjs.net/">ReactJS.NET</a> project.</p><span>
</span><h2><a class="anchor" name="nashorn"></a>Nashorn </h2><span>
</span><p>Nashorn is a lightweight high-performance JavaScript runtime that runs within the JVM. React should run out of the box in Java 8+.</p><span>

</span><p>Example:</p><span>
</span><div class="highlight"><pre><code class="language-java" data-lang="java"><span class="kn">import</span> <span class="nn">java.io.IOException</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.InputStream</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.FileReader</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">javax.script.ScriptEngine</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.script.ScriptEngineManager</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.script.ScriptException</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">ReactRender</span>
<span class="o">{</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">ScriptException</span><span class="o">,</span> <span class="n">IOException</span> <span class="o">{</span>
    <span class="n">ScriptEngine</span> <span class="n">nashorn</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">ScriptEngineManager</span><span class="o">().</span><span class="na">getEngineByName</span><span class="o">(</span><span class="s">&quot;nashorn&quot;</span><span class="o">);</span>

    <span class="c1">// These files can be downloaded as a part of the starter kit</span>
    <span class="c1">// from https://facebook.github.io/react</span>
    <span class="n">nashorn</span><span class="o">.</span><span class="na">eval</span><span class="o">(</span><span class="k">new</span> <span class="nf">FileReader</span><span class="o">(</span><span class="s">&quot;path/to/react.js&quot;</span><span class="o">));</span>
    <span class="n">nashorn</span><span class="o">.</span><span class="na">eval</span><span class="o">(</span><span class="k">new</span> <span class="nf">FileReader</span><span class="o">(</span><span class="s">&quot;path/to/react-dom-server.js&quot;</span><span class="o">));</span>

    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">nashorn</span><span class="o">.</span><span class="na">eval</span><span class="o">(</span>
      <span class="s">&quot;ReactDOMServer.renderToString(&quot;</span> <span class="o">+</span>
        <span class="s">&quot;React.createElement(&apos;div&apos;, null, &apos;Hello World!&apos;)&quot;</span> <span class="o">+</span>
      <span class="s">&quot;);&quot;</span>
    <span class="o">));</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre></div><span>
</span><p>If your application uses npm packages, or you want to transform JSX in Nashorn, you will need to do some additional environment setup. The following resources may be helpful in getting you started:</p><span>

</span><span>

</span><blockquote>
<p>Note:</p>

<p>Using Babel within Nashorn will require Java 8u72+, as update 72 fixed <a href="https://bugs.openjdk.java.net/browse/JDK-8135190">JDK-8135190</a>.</p>
</blockquote><span>


    </span><span>
  </span></div></div>
        </article>
      
        <article>
          <h3>Add-ons | React</h3>
          <div><div class="inner-content"><span>
    </span><span>
    </span><span>
    </span><span>

    </span><p>The React add-ons are a collection of useful utility modules for building React apps. <strong>These should be considered experimental</strong> and tend to change more often than the core.</p><span>

</span><ul>
<li><a href="https://facebook.github.io/react/docs/animation.html"><code>TransitionGroup</code> and <code>CSSTransitionGroup</code></a>, for dealing with animations and transitions that are usually not simple to implement, such as before a component&apos;s removal.</li>
<li><a href="https://facebook.github.io/react/docs/two-way-binding-helpers.html"><code>LinkedStateMixin</code></a>, to simplify the coordination between user&apos;s form input data and the component&apos;s state.</li>
<li><a href="https://facebook.github.io/react/docs/clone-with-props.html"><code>cloneWithProps</code></a>, to make shallow copies of React components and change their props.</li>
<li><a href="https://facebook.github.io/react/docs/create-fragment.html"><code>createFragment</code></a>, to create a set of externally-keyed children.</li>
<li><a href="https://facebook.github.io/react/docs/update.html"><code>update</code></a>, a helper function that makes dealing with immutable data in JavaScript easier.</li>
<li><a href="https://facebook.github.io/react/docs/pure-render-mixin.html"><code>PureRenderMixin</code></a>, a performance booster under certain situations.</li>
<li><a href="https://facebook.github.io/react/docs/shallow-compare.html"><code>shallowCompare</code></a>, a helper function that performs a shallow comparison for props and state in a component to decide if a component should update.</li>
</ul><span>

</span><p>The add-ons below are in the development (unminified) version of React only:</p><span>

</span><ul>
<li><a href="https://facebook.github.io/react/docs/test-utils.html"><code>TestUtils</code></a>, simple helpers for writing test cases.</li>
<li><a href="https://facebook.github.io/react/docs/perf.html"><code>Perf</code></a>, a performance profiling tool for finding optimization opportunities.</li>
</ul><span>

</span><p>To get the add-ons, install them individually from npm (e.g., <code>npm install react-addons-pure-render-mixin</code>). We don&apos;t support using the addons if you&apos;re not using npm.</p><span>


    </span><span>
  </span></div></div>
        </article>
      
        <article>
          <h3>Animation | React</h3>
          <div><div class="inner-content"><span>
    </span><span>
    </span><span>
    </span><span>

    </span><p>React provides a <code>ReactTransitionGroup</code> add-on component as a low-level API for animation, and a <code>ReactCSSTransitionGroup</code> for easily implementing basic CSS animations and transitions.</p><span>
</span><h2><a class="anchor" name="high-level-api-reactcsstransitiongroup"></a>High-level API: <code>ReactCSSTransitionGroup</code> </h2><span>
</span><p><code>ReactCSSTransitionGroup</code> is based on <code>ReactTransitionGroup</code> and is an easy way to perform CSS transitions and animations when a React component enters or leaves the DOM. It&apos;s inspired by the excellent <a href="http://www.nganimate.org/">ng-animate</a> library.</p><span>
</span><h3><a class="anchor" name="getting-started"></a>Getting Started </h3><span>
</span><p><code>ReactCSSTransitionGroup</code> is the interface to <code>ReactTransitions</code>. This is a simple element that wraps all of the components you are interested in animating. Here&apos;s an example where we fade list items in and out.</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">ReactCSSTransitionGroup</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&apos;react-addons-css-transition-group&apos;</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">TodoList</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createClass</span><span class="p">({</span>
  <span class="nx">getInitialState</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">{</span><span class="nx">items</span><span class="o">:</span> <span class="p">[</span><span class="s1">&apos;hello&apos;</span><span class="p">,</span> <span class="s1">&apos;world&apos;</span><span class="p">,</span> <span class="s1">&apos;click&apos;</span><span class="p">,</span> <span class="s1">&apos;me&apos;</span><span class="p">]};</span>
  <span class="p">},</span>
  <span class="nx">handleAdd</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">newItems</span> <span class="o">=</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">items</span><span class="p">.</span><span class="nx">concat</span><span class="p">([</span><span class="nx">prompt</span><span class="p">(</span><span class="s1">&apos;Enter some text&apos;</span><span class="p">)]);</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">({</span><span class="nx">items</span><span class="o">:</span> <span class="nx">newItems</span><span class="p">});</span>
  <span class="p">},</span>
  <span class="nx">handleRemove</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">newItems</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">items</span><span class="p">.</span><span class="nx">slice</span><span class="p">();</span>
    <span class="nx">newItems</span><span class="p">.</span><span class="nx">splice</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">({</span><span class="nx">items</span><span class="o">:</span> <span class="nx">newItems</span><span class="p">});</span>
  <span class="p">},</span>
  <span class="nx">render</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">items</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">items</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">item</span><span class="p">,</span> <span class="nx">i</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">return</span> <span class="p">(</span>
        <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">key</span><span class="o">=</span><span class="p">{</span><span class="nx">item</span><span class="p">}</span> <span class="nx">onClick</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">handleRemove</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="nx">i</span><span class="p">)}</span><span class="o">&gt;</span>
          <span class="p">{</span><span class="nx">item</span><span class="p">}</span>
        <span class="o">&lt;</span><span class="err">/div&gt;</span>
      <span class="p">);</span>
    <span class="p">}.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">));</span>
    <span class="k">return</span> <span class="p">(</span>
      <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nx">button</span> <span class="nx">onClick</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">handleAdd</span><span class="p">}</span><span class="o">&gt;</span><span class="nx">Add</span> <span class="nx">Item</span><span class="o">&lt;</span><span class="err">/button&gt;</span>
<span class="hll">        <span class="o">&lt;</span><span class="nx">ReactCSSTransitionGroup</span> <span class="nx">transitionName</span><span class="o">=</span><span class="s2">&quot;example&quot;</span> <span class="nx">transitionEnterTimeout</span><span class="o">=</span><span class="p">{</span><span class="mi">500</span><span class="p">}</span> <span class="nx">transitionLeaveTimeout</span><span class="o">=</span><span class="p">{</span><span class="mi">300</span><span class="p">}</span><span class="o">&gt;</span>
</span><span class="hll">          <span class="p">{</span><span class="nx">items</span><span class="p">}</span>
</span><span class="hll">        <span class="o">&lt;</span><span class="err">/ReactCSSTransitionGroup&gt;</span>
</span>      <span class="o">&lt;</span><span class="err">/div&gt;</span>
    <span class="p">);</span>
  <span class="p">}</span>
<span class="p">});</span>
</code></pre></div><span>
</span><blockquote>
<p>Note:</p>

<p>You must provide <a href="https://facebook.github.io/react/docs/multiple-components.html#dynamic-children">the <code>key</code> attribute</a> for all children of <code>ReactCSSTransitionGroup</code>, even when only rendering a single item. This is how React will determine which children have entered, left, or stayed.</p>
</blockquote><span>

</span><p>In this component, when a new item is added to <code>ReactCSSTransitionGroup</code> it will get the <code>example-enter</code> CSS class and the <code>example-enter-active</code> CSS class added in the next tick. This is a convention based on the <code>transitionName</code> prop.</p><span>

</span><p>You can use these classes to trigger a CSS animation or transition. For example, try adding this CSS and adding a new list item:</p><span>
</span><div class="highlight"><pre><code class="language-css" data-lang="css"><span class="nc">.example-enter</span> <span class="p">{</span>
  <span class="k">opacity</span><span class="o">:</span> <span class="m">0</span><span class="o">.</span><span class="m">01</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.example-enter.example-enter-active</span> <span class="p">{</span>
  <span class="k">opacity</span><span class="o">:</span> <span class="m">1</span><span class="p">;</span>
  <span class="n">transition</span><span class="o">:</span> <span class="k">opacity</span> <span class="m">500</span><span class="n">ms</span> <span class="n">ease</span><span class="o">-</span><span class="n">in</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.example-leave</span> <span class="p">{</span>
  <span class="k">opacity</span><span class="o">:</span> <span class="m">1</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.example-leave.example-leave-active</span> <span class="p">{</span>
  <span class="k">opacity</span><span class="o">:</span> <span class="m">0</span><span class="o">.</span><span class="m">01</span><span class="p">;</span>
  <span class="n">transition</span><span class="o">:</span> <span class="k">opacity</span> <span class="m">300</span><span class="n">ms</span> <span class="n">ease</span><span class="o">-</span><span class="n">in</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div><span>
</span><p>You&apos;ll notice that animation durations need to be specified in both the CSS and the render method; this tells React when to remove the animation classes from the element and -- if it&apos;s leaving -- when to remove the element from the DOM.</p><span>
</span><h3><a class="anchor" name="animate-initial-mounting"></a>Animate Initial Mounting </h3><span>
</span><p><code>ReactCSSTransitionGroup</code> provides the optional prop <code>transitionAppear</code>, to add an extra transition phase at the initial mount of the component. There is generally no transition phase at the initial mount as the default value of <code>transitionAppear</code> is <code>false</code>. The following is an example which passes the prop <code>transitionAppear</code> with the value <code>true</code>.</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript">  <span class="nx">render</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span>
<span class="hll">      <span class="o">&lt;</span><span class="nx">ReactCSSTransitionGroup</span> <span class="nx">transitionName</span><span class="o">=</span><span class="s2">&quot;example&quot;</span> <span class="nx">transitionAppear</span><span class="o">=</span><span class="p">{</span><span class="kc">true</span><span class="p">}</span> <span class="nx">transitionAppearTimeout</span><span class="o">=</span><span class="p">{</span><span class="mi">500</span><span class="p">}</span><span class="o">&gt;</span>
</span><span class="hll">        <span class="o">&lt;</span><span class="nx">h1</span><span class="o">&gt;</span><span class="nx">Fading</span> <span class="nx">at</span> <span class="nx">Initial</span> <span class="nx">Mount</span><span class="o">&lt;</span><span class="err">/h1&gt;</span>
</span><span class="hll">      <span class="o">&lt;</span><span class="err">/ReactCSSTransitionGroup&gt;</span>
</span>    <span class="p">);</span>
  <span class="p">}</span>
</code></pre></div><span>
</span><p>During the initial mount <code>ReactCSSTransitionGroup</code> will get the <code>example-appear</code> CSS class and the <code>example-appear-active</code> CSS class added in the next tick.</p><span>
</span><div class="highlight"><pre><code class="language-css" data-lang="css"><span class="nc">.example-appear</span> <span class="p">{</span>
  <span class="k">opacity</span><span class="o">:</span> <span class="m">0</span><span class="o">.</span><span class="m">01</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.example-appear.example-appear-active</span> <span class="p">{</span>
  <span class="k">opacity</span><span class="o">:</span> <span class="m">1</span><span class="p">;</span>
  <span class="n">transition</span><span class="o">:</span> <span class="k">opacity</span> <span class="m">.5s</span> <span class="n">ease</span><span class="o">-</span><span class="n">in</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div><span>
</span><p>At the initial mount, all children of the <code>ReactCSSTransitionGroup</code> will <code>appear</code> but not <code>enter</code>. However, all children later added to an existing <code>ReactCSSTransitionGroup</code> will <code>enter</code> but not <code>appear</code>.</p><span>

</span><blockquote>
<p>Note:</p>

<p>The prop <code>transitionAppear</code> was added to <code>ReactCSSTransitionGroup</code> in version <code>0.13</code>. To maintain backwards compatibility, the default value is set to <code>false</code>.</p>
</blockquote><span>
</span><h3><a class="anchor" name="custom-classes"></a>Custom Classes </h3><span>
</span><p>It is also possible to use custom class names for each of the steps in your transitions. Instead of passing a string into transitionName you can pass an object containing either the <code>enter</code> and <code>leave</code> class names, or an object containing the <code>enter</code>, <code>enter-active</code>, <code>leave-active</code>, and <code>leave</code> class names. If only the enter and leave classes are provided, the enter-active and leave-active classes will be determined by appending &apos;-active&apos; to the end of the class name. Here are two examples using custom classes:</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript">  <span class="p">...</span>
  <span class="o">&lt;</span><span class="nx">ReactCSSTransitionGroup</span>
    <span class="nx">transitionName</span><span class="o">=</span><span class="p">{</span> <span class="p">{</span>
      <span class="nx">enter</span><span class="o">:</span> <span class="s1">&apos;enter&apos;</span><span class="p">,</span>
      <span class="nx">enterActive</span><span class="o">:</span> <span class="s1">&apos;enterActive&apos;</span><span class="p">,</span>
      <span class="nx">leave</span><span class="o">:</span> <span class="s1">&apos;leave&apos;</span><span class="p">,</span>
      <span class="nx">leaveActive</span><span class="o">:</span> <span class="s1">&apos;leaveActive&apos;</span><span class="p">,</span>
      <span class="nx">appear</span><span class="o">:</span> <span class="s1">&apos;appear&apos;</span><span class="p">,</span>
      <span class="nx">appearActive</span><span class="o">:</span> <span class="s1">&apos;appearActive&apos;</span>
    <span class="p">}</span> <span class="p">}</span><span class="o">&gt;</span>
    <span class="p">{</span><span class="nx">item</span><span class="p">}</span>
  <span class="o">&lt;</span><span class="err">/ReactCSSTransitionGroup&gt;</span>

  <span class="o">&lt;</span><span class="nx">ReactCSSTransitionGroup</span>
    <span class="nx">transitionName</span><span class="o">=</span><span class="p">{</span> <span class="p">{</span>
      <span class="nx">enter</span><span class="o">:</span> <span class="s1">&apos;enter&apos;</span><span class="p">,</span>
      <span class="nx">leave</span><span class="o">:</span> <span class="s1">&apos;leave&apos;</span><span class="p">,</span>
      <span class="nx">appear</span><span class="o">:</span> <span class="s1">&apos;appear&apos;</span>
    <span class="p">}</span> <span class="p">}</span><span class="o">&gt;</span>
    <span class="p">{</span><span class="nx">item2</span><span class="p">}</span>
  <span class="o">&lt;</span><span class="err">/ReactCSSTransitionGroup&gt;</span>
  <span class="p">...</span>
</code></pre></div><h3><a class="anchor" name="animation-group-must-be-mounted-to-work"></a>Animation Group Must Be Mounted To Work </h3><span>
</span><p>In order for it to apply transitions to its children, the <code>ReactCSSTransitionGroup</code> must already be mounted in the DOM or the prop <code>transitionAppear</code> must be set to <code>true</code>. The example below would not work, because the <code>ReactCSSTransitionGroup</code> is being mounted along with the new item, instead of the new item being mounted within it. Compare this to the <a href="https://facebook.github.io/react/docs/animation.html#getting-started">Getting Started</a> section above to see the difference.</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript">  <span class="nx">render</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">items</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">items</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">item</span><span class="p">,</span> <span class="nx">i</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">return</span> <span class="p">(</span>
        <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">key</span><span class="o">=</span><span class="p">{</span><span class="nx">item</span><span class="p">}</span> <span class="nx">onClick</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">handleRemove</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="nx">i</span><span class="p">)}</span><span class="o">&gt;</span>
          <span class="o">&lt;</span><span class="nx">ReactCSSTransitionGroup</span> <span class="nx">transitionName</span><span class="o">=</span><span class="s2">&quot;example&quot;</span><span class="o">&gt;</span>
            <span class="p">{</span><span class="nx">item</span><span class="p">}</span>
          <span class="o">&lt;</span><span class="err">/ReactCSSTransitionGroup&gt;</span>
        <span class="o">&lt;</span><span class="err">/div&gt;</span>
      <span class="p">);</span>
    <span class="p">},</span> <span class="k">this</span><span class="p">);</span>
    <span class="k">return</span> <span class="p">(</span>
<span class="hll">      <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span>
</span><span class="hll">        <span class="o">&lt;</span><span class="nx">button</span> <span class="nx">onClick</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">handleAdd</span><span class="p">}</span><span class="o">&gt;</span><span class="nx">Add</span> <span class="nx">Item</span><span class="o">&lt;</span><span class="err">/button&gt;</span>
</span><span class="hll">        <span class="p">{</span><span class="nx">items</span><span class="p">}</span>
</span><span class="hll">      <span class="o">&lt;</span><span class="err">/div&gt;</span>
</span>    <span class="p">);</span>
  <span class="p">}</span>
</code></pre></div><h3><a class="anchor" name="animating-one-or-zero-items"></a>Animating One or Zero Items </h3><span>
</span><p>In the example above, we rendered a list of items into <code>ReactCSSTransitionGroup</code>. However, the children of <code>ReactCSSTransitionGroup</code> can also be one or zero items. This makes it possible to animate a single element entering or leaving. Similarly, you can animate a new element replacing the current element. For example, we can implement a simple image carousel like this:</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">ReactCSSTransitionGroup</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&apos;react-addons-css-transition-group&apos;</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">ImageCarousel</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createClass</span><span class="p">({</span>
  <span class="nx">propTypes</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">imageSrc</span><span class="o">:</span> <span class="nx">React</span><span class="p">.</span><span class="nx">PropTypes</span><span class="p">.</span><span class="nx">string</span><span class="p">.</span><span class="nx">isRequired</span>
  <span class="p">},</span>
  <span class="nx">render</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span>
      <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span>
<span class="hll">        <span class="o">&lt;</span><span class="nx">ReactCSSTransitionGroup</span> <span class="nx">transitionName</span><span class="o">=</span><span class="s2">&quot;carousel&quot;</span> <span class="nx">transitionEnterTimeout</span><span class="o">=</span><span class="p">{</span><span class="mi">300</span><span class="p">}</span> <span class="nx">transitionLeaveTimeout</span><span class="o">=</span><span class="p">{</span><span class="mi">300</span><span class="p">}</span><span class="o">&gt;</span>
</span><span class="hll">          <span class="o">&lt;</span><span class="nx">img</span> <span class="nx">src</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">imageSrc</span><span class="p">}</span> <span class="nx">key</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">imageSrc</span><span class="p">}</span> <span class="o">/&gt;</span>
</span><span class="hll">        <span class="o">&lt;</span><span class="err">/ReactCSSTransitionGroup&gt;</span>
</span>      <span class="o">&lt;</span><span class="err">/div&gt;</span>
    <span class="p">);</span>
  <span class="p">}</span>
<span class="p">});</span>
</code></pre></div><h3><a class="anchor" name="disabling-animations"></a>Disabling Animations </h3><span>
</span><p>You can disable animating <code>enter</code> or <code>leave</code> animations if you want. For example, sometimes you may want an <code>enter</code> animation and no <code>leave</code> animation, but <code>ReactCSSTransitionGroup</code> waits for an animation to complete before removing your DOM node. You can add <code>transitionEnter={false}</code> or <code>transitionLeave={false}</code> props to <code>ReactCSSTransitionGroup</code> to disable these animations.</p><span>

</span><blockquote>
<p>Note:</p>

<p>When using <code>ReactCSSTransitionGroup</code>, there&apos;s no way for your components to be notified when a transition has ended or to perform any more complex logic around animation. If you want more fine-grained control, you can use the lower-level <code>ReactTransitionGroup</code> API which provides the hooks you need to do custom transitions.</p>
</blockquote><span>
</span><h2><a class="anchor" name="low-level-api-reacttransitiongroup"></a>Low-level API: <code>ReactTransitionGroup</code> </h2><span>
</span><p><code>ReactTransitionGroup</code> is the basis for animations. It is accessible from <code>require(&apos;react-addons-transition-group&apos;)</code>. When children are declaratively added or removed from it (as in the example above) special lifecycle hooks are called on them.</p><span>
</span><h3><a class="anchor" name="componentwillappearcallback"></a><code>componentWillAppear(callback)</code> </h3><span>
</span><p>This is called at the same time as <code>componentDidMount()</code> for components that are initially mounted in a <code>TransitionGroup</code>. It will block other animations from occurring until <code>callback</code> is called. It is only called on the initial render of a <code>TransitionGroup</code>.</p><span>
</span><h3><a class="anchor" name="componentdidappear"></a><code>componentDidAppear()</code> </h3><span>
</span><p>This is called after the <code>callback</code> function that was passed to <code>componentWillAppear</code> is called.</p><span>
</span><h3><a class="anchor" name="componentwillentercallback"></a><code>componentWillEnter(callback)</code> </h3><span>
</span><p>This is called at the same time as <code>componentDidMount()</code> for components added to an existing <code>TransitionGroup</code>. It will block other animations from occurring until <code>callback</code> is called. It will not be called on the initial render of a <code>TransitionGroup</code>.</p><span>
</span><h3><a class="anchor" name="componentdidenter"></a><code>componentDidEnter()</code> </h3><span>
</span><p>This is called after the <code>callback</code> function that was passed to <code>componentWillEnter</code> is called.</p><span>
</span><h3><a class="anchor" name="componentwillleavecallback"></a><code>componentWillLeave(callback)</code> </h3><span>
</span><p>This is called when the child has been removed from the <code>ReactTransitionGroup</code>. Though the child has been removed, <code>ReactTransitionGroup</code> will keep it in the DOM until <code>callback</code> is called.</p><span>
</span><h3><a class="anchor" name="componentdidleave"></a><code>componentDidLeave()</code> </h3><span>
</span><p>This is called when the <code>willLeave</code> <code>callback</code> is called (at the same time as <code>componentWillUnmount</code>).</p><span>
</span><h3><a class="anchor" name="rendering-a-different-component"></a>Rendering a Different Component </h3><span>
</span><p>By default <code>ReactTransitionGroup</code> renders as a <code>span</code>. You can change this behavior by providing a <code>component</code> prop. For example, here&apos;s how you would render a <code>&lt;ul&gt;</code>:</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="hll"><span class="o">&lt;</span><span class="nx">ReactTransitionGroup</span> <span class="nx">component</span><span class="o">=</span><span class="s2">&quot;ul&quot;</span><span class="o">&gt;</span>
</span>  <span class="p">...</span>
<span class="o">&lt;</span><span class="err">/ReactTransitionGroup&gt;</span>
</code></pre></div><span>
</span><p>Any additional, user-defined, properties will become properties of the rendered component. For example, here&apos;s how you would render a <code>&lt;ul&gt;</code> with CSS class:</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="hll"><span class="o">&lt;</span><span class="nx">ReactTransitionGroup</span> <span class="nx">component</span><span class="o">=</span><span class="s2">&quot;ul&quot;</span> <span class="nx">className</span><span class="o">=</span><span class="s2">&quot;animated-list&quot;</span><span class="o">&gt;</span>
</span>  <span class="p">...</span>
<span class="o">&lt;</span><span class="err">/ReactTransitionGroup&gt;</span>
</code></pre></div><span>
</span><p>Every DOM component that React can render is available for use. However, <code>component</code> does not need to be a DOM component. It can be any React component you want; even ones you&apos;ve written yourself! Just write <code>component={List}</code> and your component will receive <code>this.props.children</code>.</p><span>
</span><h3><a class="anchor" name="rendering-a-single-child"></a>Rendering a Single Child </h3><span>
</span><p>People often use <code>ReactTransitionGroup</code> to animate mounting and unmounting of a single child such as a collapsible panel. Normally <code>ReactTransitionGroup</code> wraps all its children in a <code>span</code> (or a custom <code>component</code> as described above). This is because any React component has to return a single root element, and <code>ReactTransitionGroup</code> is no exception to this rule.</p><span>

</span><p>However if you only need to render a single child inside <code>ReactTransitionGroup</code>, you can completely avoid wrapping it in a <code>&lt;span&gt;</code> or any other DOM component. To do this, create a custom component that renders the first child passed to it directly:</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="hll"><span class="kd">var</span> <span class="nx">FirstChild</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createClass</span><span class="p">({</span>
</span>  <span class="nx">render</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">children</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">Children</span><span class="p">.</span><span class="nx">toArray</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">children</span><span class="p">);</span>
    <span class="k">return</span> <span class="nx">children</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">||</span> <span class="kc">null</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">});</span>
</code></pre></div><span>
</span><p>Now you can specify <code>FirstChild</code> as the <code>component</code> prop in <code>&lt;ReactTransitionGroup&gt;</code> props and avoid any wrappers in the result DOM:</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="hll"><span class="o">&lt;</span><span class="nx">ReactTransitionGroup</span> <span class="nx">component</span><span class="o">=</span><span class="p">{</span><span class="nx">FirstChild</span><span class="p">}</span><span class="o">&gt;</span>
</span>  <span class="p">{</span><span class="nx">someCondition</span> <span class="o">?</span> <span class="o">&lt;</span><span class="nx">MyComponent</span> <span class="o">/&gt;</span> <span class="o">:</span> <span class="kc">null</span><span class="p">}</span>
<span class="o">&lt;</span><span class="err">/ReactTransitionGroup&gt;</span>
</code></pre></div><span>
</span><p>This only works when you are animating a single child in and out, such as a collapsible panel. This approach wouldn&apos;t work when animating multiple children or replacing the single child with another child, such as an image carousel. For an image carousel, while the current image is animating out, another image will animate in, so <code>&lt;ReactTransitionGroup&gt;</code> needs to give them a common DOM parent. You can&apos;t avoid the wrapper for multiple children, but you can customize the wrapper with the <code>component</code> prop as described above.</p><span>


    </span><span>
  </span></div></div>
        </article>
      
        <article>
          <h3>Two-Way Binding Helpers</h3>
          <div><div class="inner-content"><span>
    </span><span>
    </span><span>
    </span><span>

    </span><p><code>ReactLink</code> is an easy way to express two-way binding with React.</p><span>

</span><blockquote>
<p>Note:</p>

<p>ReactLink is deprecated as of React v15. The recommendation is to explicitly set the value and change handler, instead of using ReactLink.</p>
</blockquote><span>

</span><p>In React, data flows one way: from owner to child. This is because data only flows one direction in <a href="https://en.wikipedia.org/wiki/Von_Neumann_architecture">the Von Neumann model of computing</a>. You can think of it as &quot;one-way data binding.&quot;</p><span>

</span><p>However, there are lots of applications that require you to read some data and flow it back into your program. For example, when developing forms, you&apos;ll often want to update some React <code>state</code> when you receive user input. Or perhaps you want to perform layout in JavaScript and react to changes in some DOM element size.</p><span>

</span><p>In React, you would implement this by listening to a &quot;change&quot; event, read from your data source (usually the DOM) and call <code>setState()</code> on one of your components. &quot;Closing the data flow loop&quot; explicitly leads to more understandable and easier-to-maintain programs. See <a href="https://facebook.github.io/react/docs/forms.html">our forms documentation</a> for more information.</p><span>

</span><p>Two-way binding -- implicitly enforcing that some value in the DOM is always consistent with some React <code>state</code> -- is concise and supports a wide variety of applications. We&apos;ve provided <code>ReactLink</code>: syntactic sugar for setting up the common data flow loop pattern described above, or &quot;linking&quot; some data source to React <code>state</code>.</p><span>

</span><blockquote>
<p>Note:</p>

<p><code>ReactLink</code> is just a thin wrapper and convention around the <code>onChange</code>/<code>setState()</code> pattern. It doesn&apos;t fundamentally change how data flows in your React application.</p>
</blockquote><span>
</span><h2><a class="anchor" name="reactlink-before-and-after"></a>ReactLink: Before and After </h2><span>
</span><p>Here&apos;s a simple form example without using <code>ReactLink</code>:</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">NoLink</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createClass</span><span class="p">({</span>
  <span class="nx">getInitialState</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">{</span><span class="nx">message</span><span class="o">:</span> <span class="s1">&apos;Hello!&apos;</span><span class="p">};</span>
  <span class="p">},</span>
  <span class="nx">handleChange</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">({</span><span class="nx">message</span><span class="o">:</span> <span class="nx">event</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">value</span><span class="p">});</span>
  <span class="p">},</span>
  <span class="nx">render</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">message</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">message</span><span class="p">;</span>
    <span class="k">return</span> <span class="o">&lt;</span><span class="nx">input</span> <span class="nx">type</span><span class="o">=</span><span class="s2">&quot;text&quot;</span> <span class="nx">value</span><span class="o">=</span><span class="p">{</span><span class="nx">message</span><span class="p">}</span> <span class="nx">onChange</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">handleChange</span><span class="p">}</span> <span class="o">/&gt;</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">});</span>
</code></pre></div><span>
</span><p>This works really well and it&apos;s very clear how data is flowing, however, with a lot of form fields it could get a bit verbose. Let&apos;s use <code>ReactLink</code> to save us some typing:</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">LinkedStateMixin</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&apos;react-addons-linked-state-mixin&apos;</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">WithLink</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createClass</span><span class="p">({</span>
<span class="hll">  <span class="nx">mixins</span><span class="o">:</span> <span class="p">[</span><span class="nx">LinkedStateMixin</span><span class="p">],</span>
</span>  <span class="nx">getInitialState</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">{</span><span class="nx">message</span><span class="o">:</span> <span class="s1">&apos;Hello!&apos;</span><span class="p">};</span>
  <span class="p">},</span>
  <span class="nx">render</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
<span class="hll">    <span class="k">return</span> <span class="o">&lt;</span><span class="nx">input</span> <span class="nx">type</span><span class="o">=</span><span class="s2">&quot;text&quot;</span> <span class="nx">valueLink</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">linkState</span><span class="p">(</span><span class="s1">&apos;message&apos;</span><span class="p">)}</span> <span class="o">/&gt;</span><span class="p">;</span>
</span>  <span class="p">}</span>
<span class="p">});</span>
</code></pre></div><span>
</span><p><code>LinkedStateMixin</code> adds a method to your React component called <code>linkState()</code>. <code>linkState()</code> returns a <code>ReactLink</code> object which contains the current value of the React state and a callback to change it.</p><span>

</span><p><code>ReactLink</code> objects can be passed up and down the tree as props, so it&apos;s easy (and explicit) to set up two-way binding between a component deep in the hierarchy and state that lives higher in the hierarchy.</p><span>

</span><p>Note that checkboxes have a special behavior regarding their <code>value</code> attribute, which is the value that will be sent on form submit if the checkbox is checked (defaults to <code>on</code>). The <code>value</code> attribute is not updated when the checkbox is checked or unchecked. For checkboxes, you should use <code>checkedLink</code> instead of <code>valueLink</code>:
<code>
&lt;input type=&quot;checkbox&quot; checkedLink={this.linkState(&apos;booleanValue&apos;)} /&gt;
</code></p><span>
</span><h2><a class="anchor" name="under-the-hood"></a>Under the Hood </h2><span>
</span><p>There are two sides to <code>ReactLink</code>: the place where you create the <code>ReactLink</code> instance and the place where you use it. To prove how simple <code>ReactLink</code> is, let&apos;s rewrite each side separately to be more explicit.</p><span>
</span><h3><a class="anchor" name="reactlink-without-linkedstatemixin"></a>ReactLink Without LinkedStateMixin </h3><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">WithoutMixin</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createClass</span><span class="p">({</span>
  <span class="nx">getInitialState</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">{</span><span class="nx">message</span><span class="o">:</span> <span class="s1">&apos;Hello!&apos;</span><span class="p">};</span>
  <span class="p">},</span>
<span class="hll">  <span class="nx">handleChange</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">newValue</span><span class="p">)</span> <span class="p">{</span>
</span><span class="hll">    <span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">({</span><span class="nx">message</span><span class="o">:</span> <span class="nx">newValue</span><span class="p">});</span>
</span><span class="hll">  <span class="p">},</span>
</span>  <span class="nx">render</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
<span class="hll">    <span class="kd">var</span> <span class="nx">valueLink</span> <span class="o">=</span> <span class="p">{</span>
</span><span class="hll">      <span class="nx">value</span><span class="o">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">message</span><span class="p">,</span>
</span><span class="hll">      <span class="nx">requestChange</span><span class="o">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">handleChange</span>
</span><span class="hll">    <span class="p">};</span>
</span>    <span class="k">return</span> <span class="o">&lt;</span><span class="nx">input</span> <span class="nx">type</span><span class="o">=</span><span class="s2">&quot;text&quot;</span> <span class="nx">valueLink</span><span class="o">=</span><span class="p">{</span><span class="nx">valueLink</span><span class="p">}</span> <span class="o">/&gt;</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">});</span>
</code></pre></div><span>
</span><p>As you can see, <code>ReactLink</code> objects are very simple objects that just have a <code>value</code> and <code>requestChange</code> prop. And <code>LinkedStateMixin</code> is similarly simple: it just populates those fields with a value from <code>this.state</code> and a callback that calls <code>this.setState()</code>.</p><span>
</span><h3><a class="anchor" name="reactlink-without-valuelink"></a>ReactLink Without valueLink </h3><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">LinkedStateMixin</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&apos;react-addons-linked-state-mixin&apos;</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">WithoutLink</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createClass</span><span class="p">({</span>
  <span class="nx">mixins</span><span class="o">:</span> <span class="p">[</span><span class="nx">LinkedStateMixin</span><span class="p">],</span>
  <span class="nx">getInitialState</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">{</span><span class="nx">message</span><span class="o">:</span> <span class="s1">&apos;Hello!&apos;</span><span class="p">};</span>
  <span class="p">},</span>
  <span class="nx">render</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">valueLink</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">linkState</span><span class="p">(</span><span class="s1">&apos;message&apos;</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">handleChange</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">valueLink</span><span class="p">.</span><span class="nx">requestChange</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">value</span><span class="p">);</span>
    <span class="p">};</span>
    <span class="k">return</span> <span class="o">&lt;</span><span class="nx">input</span> <span class="nx">type</span><span class="o">=</span><span class="s2">&quot;text&quot;</span> <span class="nx">value</span><span class="o">=</span><span class="p">{</span><span class="nx">valueLink</span><span class="p">.</span><span class="nx">value</span><span class="p">}</span> <span class="nx">onChange</span><span class="o">=</span><span class="p">{</span><span class="nx">handleChange</span><span class="p">}</span> <span class="o">/&gt;</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">});</span>
</code></pre></div><span>
</span><p>The <code>valueLink</code> prop is also quite simple. It simply handles the <code>onChange</code> event and calls <code>this.props.valueLink.requestChange()</code> and also uses <code>this.props.valueLink.value</code> instead of <code>this.props.value</code>. That&apos;s it!</p><span>


    </span><span>
  </span></div></div>
        </article>
      
        <article>
          <h3>Test Utilities</h3>
          <div><div class="inner-content"><span>
    </span><span>
    </span><span>
    </span><span>

    </span><p><code>ReactTestUtils</code> makes it easy to test React components in the testing framework of your choice (we use <a href="https://facebook.github.io/jest/">Jest</a>).</p><span>
</span><div class="highlight"><pre><code class="language-text" data-lang="text">var ReactTestUtils = require(&apos;react-addons-test-utils&apos;);
</code></pre></div><span>
</span><blockquote>
<p>Note:</p>

<p>Airbnb has released a testing utility called Enzyme, which makes it easy to assert, manipulate, and traverse your React Components&apos; output. If you&apos;re deciding on a unit testing library, it&apos;s worth checking out: <a href="http://airbnb.io/enzyme/">http://airbnb.io/enzyme/</a></p>
</blockquote><span>
</span><h3><a class="anchor" name="simulate"></a>Simulate </h3><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">Simulate</span><span class="p">.{</span><span class="nx">eventName</span><span class="p">}(</span>
  <span class="nx">DOMElement</span> <span class="nx">element</span><span class="p">,</span>
  <span class="p">[</span><span class="nx">object</span> <span class="nx">eventData</span><span class="p">]</span>
<span class="p">)</span>
</code></pre></div><span>
</span><p>Simulate an event dispatch on a DOM node with optional <code>eventData</code> event data. <strong>This is possibly the single most useful utility in <code>ReactTestUtils</code>.</strong></p><span>

</span><p><strong>Clicking an element</strong></p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// &lt;button ref=&quot;button&quot;&gt;...&lt;/button&gt;</span>
<span class="kd">var</span> <span class="nx">node</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">refs</span><span class="p">.</span><span class="nx">button</span><span class="p">;</span>
<span class="nx">ReactTestUtils</span><span class="p">.</span><span class="nx">Simulate</span><span class="p">.</span><span class="nx">click</span><span class="p">(</span><span class="nx">node</span><span class="p">);</span>
</code></pre></div><span>
</span><p><strong>Changing the value of an input field and then pressing ENTER.</strong></p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// &lt;input ref=&quot;input&quot; /&gt;</span>
<span class="kd">var</span> <span class="nx">node</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">refs</span><span class="p">.</span><span class="nx">input</span><span class="p">;</span>
<span class="nx">node</span><span class="p">.</span><span class="nx">value</span> <span class="o">=</span> <span class="s1">&apos;giraffe&apos;</span><span class="p">;</span>
<span class="nx">ReactTestUtils</span><span class="p">.</span><span class="nx">Simulate</span><span class="p">.</span><span class="nx">change</span><span class="p">(</span><span class="nx">node</span><span class="p">);</span>
<span class="nx">ReactTestUtils</span><span class="p">.</span><span class="nx">Simulate</span><span class="p">.</span><span class="nx">keyDown</span><span class="p">(</span><span class="nx">node</span><span class="p">,</span> <span class="p">{</span><span class="nx">key</span><span class="o">:</span> <span class="s2">&quot;Enter&quot;</span><span class="p">,</span> <span class="nx">keyCode</span><span class="o">:</span> <span class="mi">13</span><span class="p">,</span> <span class="nx">which</span><span class="o">:</span> <span class="mi">13</span><span class="p">});</span>
</code></pre></div><span>
</span><p><em>Note that you will have to provide any event property that you&apos;re using in your component (e.g. keyCode, which, etc...) as React is not creating any of these for you.</em></p><span>

</span><p><code>Simulate</code> has a method for <a href="https://facebook.github.io/react/docs/events.html#supported-events">every event that React understands</a>.</p><span>
</span><h3><a class="anchor" name="renderintodocument"></a>renderIntoDocument </h3><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">ReactComponent</span> <span class="nx">renderIntoDocument</span><span class="p">(</span>
  <span class="nx">ReactElement</span> <span class="nx">instance</span>
<span class="p">)</span>
</code></pre></div><span>
</span><p>Render a component into a detached DOM node in the document. <strong>This function requires a DOM.</strong></p><span>

</span><blockquote>
<p>Note:</p>

<p>You will need to have <code>window</code>, <code>window.document</code> and <code>window.document.createElement</code>
 globally available <strong>before</strong> you import React. Otherwise React will think it can&apos;t access the DOM and methods like <code>setState</code> won&apos;t work.</p>
</blockquote><span>
</span><h3><a class="anchor" name="mockcomponent"></a>mockComponent </h3><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">object</span> <span class="nx">mockComponent</span><span class="p">(</span>
  <span class="kd">function</span> <span class="nx">componentClass</span><span class="p">,</span>
  <span class="p">[</span><span class="nx">string</span> <span class="nx">mockTagName</span><span class="p">]</span>
<span class="p">)</span>
</code></pre></div><span>
</span><p>Pass a mocked component module to this method to augment it with useful methods that allow it to be used as a dummy React component. Instead of rendering as usual, the component will become a simple <code>&lt;div&gt;</code> (or other tag if <code>mockTagName</code> is provided) containing any provided children.</p><span>
</span><h3><a class="anchor" name="iselement"></a>isElement </h3><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kr">boolean</span> <span class="nx">isElement</span><span class="p">(</span>
  <span class="nx">ReactElement</span> <span class="nx">element</span>
<span class="p">)</span>
</code></pre></div><span>
</span><p>Returns <code>true</code> if <code>element</code> is any ReactElement.</p><span>
</span><h3><a class="anchor" name="iselementoftype"></a>isElementOfType </h3><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kr">boolean</span> <span class="nx">isElementOfType</span><span class="p">(</span>
  <span class="nx">ReactElement</span> <span class="nx">element</span><span class="p">,</span>
  <span class="kd">function</span> <span class="nx">componentClass</span>
<span class="p">)</span>
</code></pre></div><span>
</span><p>Returns <code>true</code> if <code>element</code> is a ReactElement whose type is of a React <code>componentClass</code>.</p><span>
</span><h3><a class="anchor" name="isdomcomponent"></a>isDOMComponent </h3><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kr">boolean</span> <span class="nx">isDOMComponent</span><span class="p">(</span>
  <span class="nx">ReactComponent</span> <span class="nx">instance</span>
<span class="p">)</span>
</code></pre></div><span>
</span><p>Returns <code>true</code> if <code>instance</code> is a DOM component (such as a <code>&lt;div&gt;</code> or <code>&lt;span&gt;</code>).</p><span>
</span><h3><a class="anchor" name="iscompositecomponent"></a>isCompositeComponent </h3><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kr">boolean</span> <span class="nx">isCompositeComponent</span><span class="p">(</span>
  <span class="nx">ReactComponent</span> <span class="nx">instance</span>
<span class="p">)</span>
</code></pre></div><span>
</span><p>Returns <code>true</code> if <code>instance</code> is a composite component (created with <code>React.createClass()</code>).</p><span>
</span><h3><a class="anchor" name="iscompositecomponentwithtype"></a>isCompositeComponentWithType </h3><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kr">boolean</span> <span class="nx">isCompositeComponentWithType</span><span class="p">(</span>
  <span class="nx">ReactComponent</span> <span class="nx">instance</span><span class="p">,</span>
  <span class="kd">function</span> <span class="nx">componentClass</span>
<span class="p">)</span>
</code></pre></div><span>
</span><p>Returns <code>true</code> if <code>instance</code> is a composite component (created with <code>React.createClass()</code>) whose type is of a React <code>componentClass</code>.</p><span>
</span><h3><a class="anchor" name="findallinrenderedtree"></a>findAllInRenderedTree </h3><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">array</span> <span class="nx">findAllInRenderedTree</span><span class="p">(</span>
  <span class="nx">ReactComponent</span> <span class="nx">tree</span><span class="p">,</span>
  <span class="kd">function</span> <span class="nx">test</span>
<span class="p">)</span>
</code></pre></div><span>
</span><p>Traverse all components in <code>tree</code> and accumulate all components where <code>test(component)</code> is <code>true</code>. This is not that useful on its own, but it&apos;s used as a primitive for other test utils.</p><span>
</span><h3><a class="anchor" name="scryrendereddomcomponentswithclass"></a>scryRenderedDOMComponentsWithClass </h3><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">array</span> <span class="nx">scryRenderedDOMComponentsWithClass</span><span class="p">(</span>
  <span class="nx">ReactComponent</span> <span class="nx">tree</span><span class="p">,</span> 
  <span class="nx">string</span> <span class="nx">className</span>
<span class="p">)</span>
</code></pre></div><span>
</span><p>Finds all DOM elements of components in the rendered tree that are DOM components with the class name matching <code>className</code>.</p><span>
</span><h3><a class="anchor" name="findrendereddomcomponentwithclass"></a>findRenderedDOMComponentWithClass </h3><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">DOMElement</span> <span class="nx">findRenderedDOMComponentWithClass</span><span class="p">(</span>
  <span class="nx">ReactComponent</span> <span class="nx">tree</span><span class="p">,</span>
  <span class="nx">string</span> <span class="nx">className</span>
<span class="p">)</span>
</code></pre></div><span>
</span><p>Like <code>scryRenderedDOMComponentsWithClass()</code> but expects there to be one result, and returns that one result, or throws exception if there is any other number of matches besides one.</p><span>
</span><h3><a class="anchor" name="scryrendereddomcomponentswithtag"></a>scryRenderedDOMComponentsWithTag </h3><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">array</span> <span class="nx">scryRenderedDOMComponentsWithTag</span><span class="p">(</span>
  <span class="nx">ReactComponent</span> <span class="nx">tree</span><span class="p">,</span>
  <span class="nx">string</span> <span class="nx">tagName</span>
<span class="p">)</span>
</code></pre></div><span>
</span><p>Finds all DOM elements of components in the rendered tree that are DOM components with the tag name matching <code>tagName</code>.</p><span>
</span><h3><a class="anchor" name="findrendereddomcomponentwithtag"></a>findRenderedDOMComponentWithTag </h3><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">DOMElement</span> <span class="nx">findRenderedDOMComponentWithTag</span><span class="p">(</span>
  <span class="nx">ReactComponent</span> <span class="nx">tree</span><span class="p">,</span>
  <span class="nx">string</span> <span class="nx">tagName</span>
<span class="p">)</span>
</code></pre></div><span>
</span><p>Like <code>scryRenderedDOMComponentsWithTag()</code> but expects there to be one result, and returns that one result, or throws exception if there is any other number of matches besides one.</p><span>
</span><h3><a class="anchor" name="scryrenderedcomponentswithtype"></a>scryRenderedComponentsWithType </h3><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">array</span> <span class="nx">scryRenderedComponentsWithType</span><span class="p">(</span>
  <span class="nx">ReactComponent</span> <span class="nx">tree</span><span class="p">,</span>
  <span class="kd">function</span> <span class="nx">componentClass</span>
<span class="p">)</span>
</code></pre></div><span>
</span><p>Finds all instances of components with type equal to <code>componentClass</code>.</p><span>
</span><h3><a class="anchor" name="findrenderedcomponentwithtype"></a>findRenderedComponentWithType </h3><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">ReactComponent</span> <span class="nx">findRenderedComponentWithType</span><span class="p">(</span>
  <span class="nx">ReactComponent</span> <span class="nx">tree</span><span class="p">,</span> 
  <span class="kd">function</span> <span class="nx">componentClass</span>
<span class="p">)</span>
</code></pre></div><span>
</span><p>Same as <code>scryRenderedComponentsWithType()</code> but expects there to be one result and returns that one result, or throws exception if there is any other number of matches besides one.</p><span>
</span><span>
</span><p>Shallow rendering is an experimental feature that lets you render a component &quot;one level deep&quot; and assert facts about what its render method returns, without worrying about the behavior of child components, which are not instantiated or rendered. This does not require a DOM.</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">ReactShallowRenderer</span> <span class="nx">createRenderer</span><span class="p">()</span>
</code></pre></div><span>
</span><p>Call this in your tests to create a shallow renderer. You can think of this as a &quot;place&quot; to render the component you&apos;re testing, where it can respond to events and update itself.</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">shallowRenderer</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span>
  <span class="nx">ReactElement</span> <span class="nx">element</span>
<span class="p">)</span>
</code></pre></div><span>
</span><p>Similar to <code>ReactDOM.render</code>.</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">ReactElement</span> <span class="nx">shallowRenderer</span><span class="p">.</span><span class="nx">getRenderOutput</span><span class="p">()</span>
</code></pre></div><span>
</span><p>After <code>render</code> has been called, returns shallowly rendered output. You can then begin to assert facts about the output. For example, if your component&apos;s render method returns:</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="nx">span</span> <span class="nx">className</span><span class="o">=</span><span class="s2">&quot;heading&quot;</span><span class="o">&gt;</span><span class="nx">Title</span><span class="o">&lt;</span><span class="err">/span&gt;</span>
  <span class="o">&lt;</span><span class="nx">Subcomponent</span> <span class="nx">foo</span><span class="o">=</span><span class="s2">&quot;bar&quot;</span> <span class="o">/&gt;</span>
<span class="o">&lt;</span><span class="err">/div&gt;</span>
</code></pre></div><span>
</span><p>Then you can assert:</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">renderer</span> <span class="o">=</span> <span class="nx">ReactTestUtils</span><span class="p">.</span><span class="nx">createRenderer</span><span class="p">();</span>
<span class="nx">result</span> <span class="o">=</span> <span class="nx">renderer</span><span class="p">.</span><span class="nx">getRenderOutput</span><span class="p">();</span>
<span class="nx">expect</span><span class="p">(</span><span class="nx">result</span><span class="p">.</span><span class="nx">type</span><span class="p">).</span><span class="nx">toBe</span><span class="p">(</span><span class="s1">&apos;div&apos;</span><span class="p">);</span>
<span class="nx">expect</span><span class="p">(</span><span class="nx">result</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">children</span><span class="p">).</span><span class="nx">toEqual</span><span class="p">([</span>
  <span class="o">&lt;</span><span class="nx">span</span> <span class="nx">className</span><span class="o">=</span><span class="s2">&quot;heading&quot;</span><span class="o">&gt;</span><span class="nx">Title</span><span class="o">&lt;</span><span class="err">/span&gt;,</span>
  <span class="o">&lt;</span><span class="nx">Subcomponent</span> <span class="nx">foo</span><span class="o">=</span><span class="s2">&quot;bar&quot;</span> <span class="o">/&gt;</span>
<span class="p">]);</span>
</code></pre></div><span>
</span><p>Shallow testing currently has some limitations, namely not supporting refs. We&apos;re releasing this feature early and would appreciate the React community&apos;s feedback on how it should evolve.</p><span>


    </span><span>
  </span></div></div>
        </article>
      
        <article>
          <h3>Cloning ReactElements</h3>
          <div><div class="inner-content"><span>
    </span><span>
    </span><span>
    </span><span>

    </span><blockquote>
<p>Note:
<code>cloneWithProps</code> is deprecated. Use <a href="https://facebook.github.io/react/docs/top-level-api.html#react.cloneelement">React.cloneElement</a> instead.</p>
</blockquote><span>

</span><p>In rare situations, you may want to create a copy of a React element with different props from those of the original element. One example is cloning the elements passed into <code>this.props.children</code> and rendering them with different props:</p><span>
</span><div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">cloneWithProps</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&apos;react-addons-clone-with-props&apos;</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">_makeBlue</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">element</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">cloneWithProps</span><span class="p">(</span><span class="nx">element</span><span class="p">,</span> <span class="p">{</span><span class="nx">style</span><span class="o">:</span> <span class="p">{</span><span class="nx">color</span><span class="o">:</span> <span class="s1">&apos;blue&apos;</span><span class="p">}});</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">Blue</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createClass</span><span class="p">({</span>
  <span class="nx">render</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">blueChildren</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">Children</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">children</span><span class="p">,</span> <span class="nx">_makeBlue</span><span class="p">);</span>
    <span class="k">return</span> <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">blueChildren</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/div&gt;;</span>
  <span class="p">}</span>
<span class="p">});</span>

<span class="nx">ReactDOM</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span>
  <span class="o">&lt;</span><span class="nx">Blue</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">This</span> <span class="nx">text</span> <span class="nx">is</span> <span class="nx">blue</span><span class="p">.</span><span class="o">&lt;</span><span class="err">/p&gt;</span>
  <span class="o">&lt;</span><span class="err">/Blue&gt;,</span>
  <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&apos;container&apos;</span><span class="p">)</span>
<span class="p">);</span>
</code></pre></div><span>
</span><p><code>cloneWithProps</code> does not transfer <code>key</code> or <code>ref</code> to the cloned element. <code>className</code> and <code>style</code> props are automatically merged.</p><span>


    </span><span>
  </span></div></div>
        </article>
      
        <article>
          <h3>Keyed Fragments</h3>
          <div><div class="inner-content"><span>
    </span><span>
    </span><span>
    </span><span>

    </span><p>In most cases, you can use the <code>key</code> prop to specify keys on the elements you&apos;re returning from <code>render</code>. However, this breaks down in one situation: if you have two sets of children that you need to reorder, there&apos;s no way to put a key on each set without adding a wrapper element.</p><span>

</span><p>That is, if you have a component such as:</p><span>
</span><div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">Swapper</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createClass</span><span class="p">({</span>
  <span class="nx">propTypes</span><span class="o">:</span> <span class="p">{</span>
    <span class="c1">// `leftChildren` and `rightChildren` can be a string, element, array, etc.</span>
    <span class="nx">leftChildren</span><span class="o">:</span> <span class="nx">React</span><span class="p">.</span><span class="nx">PropTypes</span><span class="p">.</span><span class="nx">node</span><span class="p">,</span>
    <span class="nx">rightChildren</span><span class="o">:</span> <span class="nx">React</span><span class="p">.</span><span class="nx">PropTypes</span><span class="p">.</span><span class="nx">node</span><span class="p">,</span>

    <span class="nx">swapped</span><span class="o">:</span> <span class="nx">React</span><span class="p">.</span><span class="nx">PropTypes</span><span class="p">.</span><span class="nx">bool</span>
  <span class="p">},</span>
  <span class="nx">render</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">children</span><span class="p">;</span>
    <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">swapped</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">children</span> <span class="o">=</span> <span class="p">[</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">rightChildren</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">leftChildren</span><span class="p">];</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="nx">children</span> <span class="o">=</span> <span class="p">[</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">leftChildren</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">rightChildren</span><span class="p">];</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">children</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/div&gt;;</span>
  <span class="p">}</span>
<span class="p">});</span>
</code></pre></div><span>
</span><p>The children will unmount and remount as you change the <code>swapped</code> prop because there aren&apos;t any keys marked on the two sets of children.</p><span>

</span><p>To solve this problem, you can use the <code>createFragment</code> add-on to give keys to the sets of children.</p><span>
</span><h4><a class="anchor" name="arrayltreactnodegt-createfragmentobject-children"></a><code>Array&lt;ReactNode&gt; createFragment(object children)</code> </h4><span>
</span><p>Instead of creating arrays, we write:</p><span>
</span><div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">createFragment</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&apos;react-addons-create-fragment&apos;</span><span class="p">);</span>

<span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">swapped</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">children</span> <span class="o">=</span> <span class="nx">createFragment</span><span class="p">({</span>
    <span class="nx">right</span><span class="o">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">rightChildren</span><span class="p">,</span>
    <span class="nx">left</span><span class="o">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">leftChildren</span>
  <span class="p">});</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
  <span class="nx">children</span> <span class="o">=</span> <span class="nx">createFragment</span><span class="p">({</span>
    <span class="nx">left</span><span class="o">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">leftChildren</span><span class="p">,</span>
    <span class="nx">right</span><span class="o">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">rightChildren</span>
  <span class="p">});</span>
<span class="p">}</span>
</code></pre></div><span>
</span><p>The keys of the passed object (that is, <code>left</code> and <code>right</code>) are used as keys for the entire set of children, and the order of the object&apos;s keys is used to determine the order of the rendered children. With this change, the two sets of children will be properly reordered in the DOM without unmounting.</p><span>

</span><p>The return value of <code>createFragment</code> should be treated as an opaque object; you can use the <code>React.Children</code> helpers to loop through a fragment but should not access it directly. Note also that we&apos;re relying on the JavaScript engine preserving object enumeration order here, which is not guaranteed by the spec but is implemented by all major browsers and VMs for objects with non-numeric keys.</p><span>

</span><blockquote>
<p><strong>Note:</strong></p>

<p>In the future, <code>createFragment</code> may be replaced by an API such as</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="k">return</span> <span class="p">(</span>
  <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="nx">x</span><span class="o">:</span><span class="nx">frag</span> <span class="nx">key</span><span class="o">=</span><span class="s2">&quot;right&quot;</span><span class="o">&gt;</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">rightChildren</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/x:frag&gt;,</span>
    <span class="o">&lt;</span><span class="nx">x</span><span class="o">:</span><span class="nx">frag</span> <span class="nx">key</span><span class="o">=</span><span class="s2">&quot;left&quot;</span><span class="o">&gt;</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">leftChildren</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/x:frag&gt;</span>
  <span class="o">&lt;</span><span class="err">/div&gt;</span>
<span class="p">);</span>
</code></pre></div>
<p>allowing you to assign keys directly in JSX without adding wrapper elements.</p>
</blockquote><span>


    </span><span>
  </span></div></div>
        </article>
      
        <article>
          <h3>Immutability Helpers</h3>
          <div><div class="inner-content"><span>
    </span><span>
    </span><span>
    </span><span>

    </span><p>React lets you use whatever style of data management you want, including mutation. However, if you can use immutable data in performance-critical parts of your application it&apos;s easy to implement a fast <code>shouldComponentUpdate()</code> method to significantly speed up your app.</p><span>

</span><p>Dealing with immutable data in JavaScript is more difficult than in languages designed for it, like <a href="http://clojure.org/">Clojure</a>. However, we&apos;ve provided a simple immutability helper, <code>update()</code>, that makes dealing with this type of data much easier, <em>without</em> fundamentally changing how your data is represented. You can also take a look at Facebook&apos;s <a href="https://facebook.github.io/immutable-js/docs/">Immutable-js</a> and the <a href="https://facebook.github.io/react/docs/advanced-performance.html">Advanced Performance</a> section for more detail on Immutable-js.</p><span>
</span><h2><a class="anchor" name="the-main-idea"></a>The main idea </h2><span>
</span><p>If you mutate data like this:</p><span>
</span><div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">myData</span><span class="p">.</span><span class="nx">x</span><span class="p">.</span><span class="nx">y</span><span class="p">.</span><span class="nx">z</span> <span class="o">=</span> <span class="mi">7</span><span class="p">;</span>
<span class="c1">// or...</span>
<span class="nx">myData</span><span class="p">.</span><span class="nx">a</span><span class="p">.</span><span class="nx">b</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="mi">9</span><span class="p">);</span>
</code></pre></div><span>
</span><p>You have no way of determining which data has changed since the previous copy has been overwritten. Instead, you need to create a new copy of <code>myData</code> and change only the parts of it that need to be changed. Then you can compare the old copy of <code>myData</code> with the new one in <code>shouldComponentUpdate()</code> using triple-equals:</p><span>
</span><div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">newData</span> <span class="o">=</span> <span class="nx">deepCopy</span><span class="p">(</span><span class="nx">myData</span><span class="p">);</span>
<span class="nx">newData</span><span class="p">.</span><span class="nx">x</span><span class="p">.</span><span class="nx">y</span><span class="p">.</span><span class="nx">z</span> <span class="o">=</span> <span class="mi">7</span><span class="p">;</span>
<span class="nx">newData</span><span class="p">.</span><span class="nx">a</span><span class="p">.</span><span class="nx">b</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="mi">9</span><span class="p">);</span>
</code></pre></div><span>
</span><p>Unfortunately, deep copies are expensive, and sometimes impossible. You can alleviate this by only copying objects that need to be changed and by reusing the objects that haven&apos;t changed. Unfortunately, in today&apos;s JavaScript this can be cumbersome:</p><span>
</span><div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">newData</span> <span class="o">=</span> <span class="nx">extend</span><span class="p">(</span><span class="nx">myData</span><span class="p">,</span> <span class="p">{</span>
  <span class="nx">x</span><span class="o">:</span> <span class="nx">extend</span><span class="p">(</span><span class="nx">myData</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span> <span class="p">{</span>
    <span class="nx">y</span><span class="o">:</span> <span class="nx">extend</span><span class="p">(</span><span class="nx">myData</span><span class="p">.</span><span class="nx">x</span><span class="p">.</span><span class="nx">y</span><span class="p">,</span> <span class="p">{</span><span class="nx">z</span><span class="o">:</span> <span class="mi">7</span><span class="p">}),</span>
  <span class="p">}),</span>
  <span class="nx">a</span><span class="o">:</span> <span class="nx">extend</span><span class="p">(</span><span class="nx">myData</span><span class="p">.</span><span class="nx">a</span><span class="p">,</span> <span class="p">{</span><span class="nx">b</span><span class="o">:</span> <span class="nx">myData</span><span class="p">.</span><span class="nx">a</span><span class="p">.</span><span class="nx">b</span><span class="p">.</span><span class="nx">concat</span><span class="p">(</span><span class="mi">9</span><span class="p">)})</span>
<span class="p">});</span>
</code></pre></div><span>
</span><p>While this is fairly performant (since it only makes a shallow copy of <code>log n</code> objects and reuses the rest), it&apos;s a big pain to write. Look at all the repetition! This is not only annoying, but also provides a large surface area for bugs.</p><span>

</span><p><code>update()</code> provides simple syntactic sugar around this pattern to make writing this code easier. This code becomes:</p><span>
</span><div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">update</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&apos;react-addons-update&apos;</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">newData</span> <span class="o">=</span> <span class="nx">update</span><span class="p">(</span><span class="nx">myData</span><span class="p">,</span> <span class="p">{</span>
  <span class="nx">x</span><span class="o">:</span> <span class="p">{</span><span class="nx">y</span><span class="o">:</span> <span class="p">{</span><span class="nx">z</span><span class="o">:</span> <span class="p">{</span><span class="nx">$set</span><span class="o">:</span> <span class="mi">7</span><span class="p">}}},</span>
  <span class="nx">a</span><span class="o">:</span> <span class="p">{</span><span class="nx">b</span><span class="o">:</span> <span class="p">{</span><span class="nx">$push</span><span class="o">:</span> <span class="p">[</span><span class="mi">9</span><span class="p">]}}</span>
<span class="p">});</span>
</code></pre></div><span>
</span><p>While the syntax takes a little getting used to (though it&apos;s inspired by <a href="http://docs.mongodb.org/manual/core/crud-introduction/#query">MongoDB&apos;s query language</a>) there&apos;s no redundancy, it&apos;s statically analyzable and it&apos;s not much more typing than the mutative version.</p><span>

</span><p>The <code>$</code>-prefixed keys are called <em>commands</em>. The data structure they are &quot;mutating&quot; is called the <em>target</em>.</p><span>
</span><h2><a class="anchor" name="available-commands"></a>Available commands </h2><span>
</span><ul>
<li><code>{$push: array}</code> <code>push()</code> all the items in <code>array</code> on the target.</li>
<li><code>{$unshift: array}</code> <code>unshift()</code> all the items in <code>array</code> on the target.</li>
<li><code>{$splice: array of arrays}</code> for each item in <code>arrays</code> call <code>splice()</code> on the target with the parameters provided by the item.</li>
<li><code>{$set: any}</code> replace the target entirely.</li>
<li><code>{$merge: object}</code> merge the keys of <code>object</code> with the target.</li>
<li><code>{$apply: function}</code> passes in the current value to the function and updates it with the new returned value.</li>
</ul><span>
</span><h2><a class="anchor" name="examples"></a>Examples </h2><h3><a class="anchor" name="simple-push"></a>Simple push </h3><div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">initialArray</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">];</span>
<span class="kd">var</span> <span class="nx">newArray</span> <span class="o">=</span> <span class="nx">update</span><span class="p">(</span><span class="nx">initialArray</span><span class="p">,</span> <span class="p">{</span><span class="nx">$push</span><span class="o">:</span> <span class="p">[</span><span class="mi">4</span><span class="p">]});</span> <span class="c1">// =&gt; [1, 2, 3, 4]</span>
</code></pre></div><span>
</span><p><code>initialArray</code> is still <code>[1, 2, 3]</code>.</p><span>
</span><h3><a class="anchor" name="nested-collections"></a>Nested collections </h3><div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">collection</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="p">{</span><span class="nx">a</span><span class="o">:</span> <span class="p">[</span><span class="mi">12</span><span class="p">,</span> <span class="mi">17</span><span class="p">,</span> <span class="mi">15</span><span class="p">]}];</span>
<span class="kd">var</span> <span class="nx">newCollection</span> <span class="o">=</span> <span class="nx">update</span><span class="p">(</span><span class="nx">collection</span><span class="p">,</span> <span class="p">{</span><span class="mi">2</span><span class="o">:</span> <span class="p">{</span><span class="nx">a</span><span class="o">:</span> <span class="p">{</span><span class="nx">$splice</span><span class="o">:</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">14</span><span class="p">]]}}});</span>
<span class="c1">// =&gt; [1, 2, {a: [12, 13, 14, 15]}]</span>
</code></pre></div><span>
</span><p>This accesses <code>collection</code>&apos;s index <code>2</code>, key <code>a</code>, and does a splice of one item starting from index <code>1</code> (to remove <code>17</code>) while inserting <code>13</code> and <code>14</code>.</p><span>
</span><h3><a class="anchor" name="updating-a-value-based-on-its-current-one"></a>Updating a value based on its current one </h3><div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span><span class="nx">a</span><span class="o">:</span> <span class="mi">5</span><span class="p">,</span> <span class="nx">b</span><span class="o">:</span> <span class="mi">3</span><span class="p">};</span>
<span class="kd">var</span> <span class="nx">newObj</span> <span class="o">=</span> <span class="nx">update</span><span class="p">(</span><span class="nx">obj</span><span class="p">,</span> <span class="p">{</span><span class="nx">b</span><span class="o">:</span> <span class="p">{</span><span class="nx">$apply</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">x</span><span class="p">)</span> <span class="p">{</span><span class="k">return</span> <span class="nx">x</span> <span class="o">*</span> <span class="mi">2</span><span class="p">;}}});</span>
<span class="c1">// =&gt; {a: 5, b: 6}</span>
<span class="c1">// This is equivalent, but gets verbose for deeply nested collections:</span>
<span class="kd">var</span> <span class="nx">newObj2</span> <span class="o">=</span> <span class="nx">update</span><span class="p">(</span><span class="nx">obj</span><span class="p">,</span> <span class="p">{</span><span class="nx">b</span><span class="o">:</span> <span class="p">{</span><span class="nx">$set</span><span class="o">:</span> <span class="nx">obj</span><span class="p">.</span><span class="nx">b</span> <span class="o">*</span> <span class="mi">2</span><span class="p">}});</span>
</code></pre></div><h3><a class="anchor" name="shallow-merge"></a>(Shallow) merge </h3><div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span><span class="nx">a</span><span class="o">:</span> <span class="mi">5</span><span class="p">,</span> <span class="nx">b</span><span class="o">:</span> <span class="mi">3</span><span class="p">};</span>
<span class="kd">var</span> <span class="nx">newObj</span> <span class="o">=</span> <span class="nx">update</span><span class="p">(</span><span class="nx">obj</span><span class="p">,</span> <span class="p">{</span><span class="nx">$merge</span><span class="o">:</span> <span class="p">{</span><span class="nx">b</span><span class="o">:</span> <span class="mi">6</span><span class="p">,</span> <span class="nx">c</span><span class="o">:</span> <span class="mi">7</span><span class="p">}});</span> <span class="c1">// =&gt; {a: 5, b: 6, c: 7}</span>
</code></pre></div><span>

    </span><span>
  </span></div></div>
        </article>
      
        <article>
          <h3>PureRenderMixin</h3>
          <div><div class="inner-content"><span>
    </span><span>
    </span><span>
    </span><span>

    </span><p>If your React component&apos;s render function is &quot;pure&quot; (in other words, it renders the same result given the same props and state), you can use this mixin for a performance boost in some cases.</p><span>

</span><p>Example:</p><span>
</span><div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">PureRenderMixin</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&apos;react-addons-pure-render-mixin&apos;</span><span class="p">);</span>
<span class="nx">React</span><span class="p">.</span><span class="nx">createClass</span><span class="p">({</span>
  <span class="nx">mixins</span><span class="o">:</span> <span class="p">[</span><span class="nx">PureRenderMixin</span><span class="p">],</span>

  <span class="nx">render</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">className</span><span class="p">}</span><span class="o">&gt;</span><span class="nx">foo</span><span class="o">&lt;</span><span class="err">/div&gt;;</span>
  <span class="p">}</span>
<span class="p">});</span>
</code></pre></div><span>
</span><p>Example using ES6 class syntax:</p><span>
</span><div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kr">import</span> <span class="nx">PureRenderMixin</span> <span class="nx">from</span> <span class="s1">&apos;react-addons-pure-render-mixin&apos;</span><span class="p">;</span>
<span class="kr">class</span> <span class="nx">FooComponent</span> <span class="kr">extends</span> <span class="nx">React</span><span class="p">.</span><span class="nx">Component</span> <span class="p">{</span>
  <span class="nx">constructor</span><span class="p">(</span><span class="nx">props</span><span class="p">)</span> <span class="p">{</span>
    <span class="kr">super</span><span class="p">(</span><span class="nx">props</span><span class="p">);</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">shouldComponentUpdate</span> <span class="o">=</span> <span class="nx">PureRenderMixin</span><span class="p">.</span><span class="nx">shouldComponentUpdate</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">className</span><span class="p">}</span><span class="o">&gt;</span><span class="nx">foo</span><span class="o">&lt;</span><span class="err">/div&gt;;</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div><span>
</span><p>Under the hood, the mixin implements <a href="https://facebook.github.io/react/docs/component-specs.html#updating-shouldcomponentupdate">shouldComponentUpdate</a>, in which it compares the current props and state with the next ones and returns <code>false</code> if the equalities pass.</p><span>

</span><blockquote>
<p>Note:</p>

<p>This only shallowly compares the objects. If these contain complex data structures, it may produce false-negatives for deeper differences. Only mix into components which have simple props and state, or use <code>forceUpdate()</code> when you know deep data structures have changed. Or, consider using <a href="https://facebook.github.io/immutable-js/">immutable objects</a> to facilitate fast comparisons of nested data.</p>

<p>Furthermore, <code>shouldComponentUpdate</code> skips updates for the whole component subtree. Make sure all the children components are also &quot;pure&quot;.</p>
</blockquote><span>


    </span><span>
  </span></div></div>
        </article>
      
        <article>
          <h3>Performance Tools</h3>
          <div><div class="inner-content"><span>
    </span><span>
    </span><span>
    </span><span>

    </span><p>React is usually quite fast out of the box. However, in situations where you need to squeeze every ounce of performance out of your app, it provides a <a href="https://facebook.github.io/react/docs/component-specs.html#updating-shouldcomponentupdate">shouldComponentUpdate</a> hook where you can add optimization hints to React&apos;s diff algorithm.</p><span>

</span><p>In addition to giving you an overview of your app&apos;s overall performance, ReactPerf is a profiling tool that tells you exactly where you need to put these hooks.</p><span>

</span><p>See these two articles by the <a href="http://benchling.engineering/">Benchling Engineering Team</a> for a in-depth introduction to performance tooling: <a href="http://benchling.engineering/performance-engineering-with-react/">&quot;Performance Engineering with React&quot;</a> and <a href="http://benchling.engineering/deep-dive-react-perf-debugging/">&quot;A Deep Dive into React Perf Debugging&quot;</a>!</p><span>
</span><h2><a class="anchor" name="development-vs.-production-builds"></a>Development vs. Production Builds </h2><span>
</span><p>If you&apos;re benchmarking or seeing performance problems in your React apps, make sure you&apos;re testing with the <a href="https://facebook.github.io/react/downloads.html">minified production build</a>. The development build includes extra warnings that are helpful when building your apps, but it is slower due to the extra bookkeeping it does.</p><span>

</span><p>However, the perf tools described on this page only work when using the development build of React. Therefore, the profiler only serves to indicate the <em>relatively</em> expensive parts of your app.</p><span>
</span><h2><a class="anchor" name="general-api"></a>General API </h2><span>
</span><p>The <code>Perf</code> object documented here is exposed as <code>require(&apos;react-addons-perf&apos;)</code> and can be used with React in development mode only. You should not include this bundle when building your app for production.</p><span>
</span><h3><a class="anchor" name="perf.start-and-perf.stop"></a><code>Perf.start()</code> and <code>Perf.stop()</code> </h3><span>
</span><p>Start/stop the measurement. The React operations in-between are recorded for analyses below. Operations that took an insignificant amount of time are ignored.</p><span>

</span><p>After stopping, you will need <code>Perf.getLastMeasurements()</code> (described below) to get the measurements.</p><span>
</span><h3><a class="anchor" name="perf.printinclusivemeasurements"></a><code>Perf.printInclusive(measurements)</code> </h3><span>
</span><p>Prints the overall time taken. If no argument&apos;s passed, defaults to all the measurements from the last recording. This prints a nicely formatted table in the console, like so:</p><span>

</span><p><img src="https://facebook.github.io/react/img/docs/perf-inclusive.png" alt=""></p><span>
</span><h3><a class="anchor" name="perf.printexclusivemeasurements"></a><code>Perf.printExclusive(measurements)</code> </h3><span>
</span><p>&quot;Exclusive&quot; times don&apos;t include the times taken to mount the components: processing props, <code>getInitialState</code>, call <code>componentWillMount</code> and <code>componentDidMount</code>, etc.</p><span>

</span><p><img src="https://facebook.github.io/react/img/docs/perf-exclusive.png" alt=""></p><span>
</span><h3><a class="anchor" name="perf.printwastedmeasurements"></a><code>Perf.printWasted(measurements)</code> </h3><span>
</span><p><strong>The most useful part of the profiler</strong>.</p><span>

</span><p>&quot;Wasted&quot; time is spent on components that didn&apos;t actually render anything, e.g. the render stayed the same, so the DOM wasn&apos;t touched.</p><span>

</span><p><img src="https://facebook.github.io/react/img/docs/perf-wasted.png" alt=""></p><span>
</span><h3><a class="anchor" name="perf.printoperationsmeasurements"></a><code>Perf.printOperations(measurements)</code> </h3><span>
</span><p>Prints the underlying DOM manipulations, e.g. &quot;set innerHTML&quot; and &quot;remove&quot;.</p><span>

</span><p><img src="https://facebook.github.io/react/img/docs/perf-dom.png" alt=""></p><span>
</span><h3><a class="anchor" name="perf.printdommeasurements"></a><code>Perf.printDOM(measurements)</code> </h3><span>
</span><p>This method has been renamed to <code>printOperations()</code> which is described in the previous paragraph. Currently <code>printDOM()</code> still exists as an alias but it prints a deprecation warning and will eventually be removed.</p><span>
</span><h2><a class="anchor" name="advanced-api"></a>Advanced API </h2><span>
</span><p>The above print methods use <code>Perf.getLastMeasurements()</code> to pretty-print the result.</p><span>
</span><h3><a class="anchor" name="perf.getlastmeasurements"></a><code>Perf.getLastMeasurements()</code> </h3><span>
</span><p>Get the opaque data structure describing measurements from the last start-stop session. You can save it and pass it to the methods above to analyze past measurements.</p><span>

</span><p>Don&apos;t rely on the exact format of the return value because it may change in minor releases. We will update the documentation if the return value format becomes a supported part of the public API.</p><span>


    </span><span>
  </span></div></div>
        </article>
      
        <article>
          <h3>Shallow Compare</h3>
          <div><div class="inner-content"><span>
    </span><span>
    </span><span>
    </span><span>

    </span><p><code>shallowCompare</code> is a helper function to achieve the same functionality as <code>PureRenderMixin</code> while using ES6 classes with React.</p><span>

</span><p>If your React component&apos;s render function is &quot;pure&quot; (in other words, it renders the same result given the same props and state), you can use this helper function for a performance boost in some cases.</p><span>

</span><p>Example:</p><span>
</span><div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">shallowCompare</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&apos;react-addons-shallow-compare&apos;</span><span class="p">);</span>
<span class="kr">export</span> <span class="kr">class</span> <span class="nx">SampleComponent</span> <span class="kr">extends</span> <span class="nx">React</span><span class="p">.</span><span class="nx">Component</span> <span class="p">{</span>
  <span class="nx">shouldComponentUpdate</span><span class="p">(</span><span class="nx">nextProps</span><span class="p">,</span> <span class="nx">nextState</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">shallowCompare</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="nx">nextProps</span><span class="p">,</span> <span class="nx">nextState</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">className</span><span class="p">}</span><span class="o">&gt;</span><span class="nx">foo</span><span class="o">&lt;</span><span class="err">/div&gt;;</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div><span>
</span><p><code>shallowCompare</code> performs a shallow equality check on the current <code>props</code> and <code>nextProps</code> objects as well as the current <code>state</code> and <code>nextState</code> objects.<br>It does this by iterating on the keys of the objects being compared and returning true when the values of a key in each object are not strictly equal.</p><span>

</span><p><code>shallowCompare</code> returns <code>true</code> if the shallow comparison for props or state fails and therefore the component should update.<br><code>shallowCompare</code> returns <code>false</code> if the shallow comparison for props and state both pass and therefore the component does not need to update.</p><span>


    </span><span>
  </span></div></div>
        </article>
      
        <article>
          <h3>Advanced Performance</h3>
          <div><div class="inner-content"><span>
    </span><span>
    </span><span>
    </span><span>

    </span><p>One of the first questions people ask when considering React for a project is whether their application will be as fast and responsive as an equivalent non-React version. The idea of re-rendering an entire subtree of components in response to every state change makes people wonder whether this process negatively impacts performance. React uses several clever techniques to minimize the number of costly DOM operations required to update the UI.</p><span>
</span><h2><a class="anchor" name="use-the-production-build"></a>Use the production build </h2><span>
</span><p>If you&apos;re benchmarking or experiencing performance problems in your React apps, make sure you&apos;re testing with the <a href="https://facebook.github.io/react/downloads.html">minified production build</a>. The development build includes extra warnings that are helpful when building your apps, but it is slower due to the extra bookkeeping it does.</p><span>
</span><h2><a class="anchor" name="avoiding-reconciling-the-dom"></a>Avoiding reconciling the DOM </h2><span>
</span><p>React makes use of a <em>virtual DOM</em>, which is a descriptor of a DOM subtree rendered in the browser. This parallel representation allows React to avoid creating DOM nodes and accessing existing ones, which is slower than operations on JavaScript objects. When a component&apos;s props or state change, React decides whether an actual DOM update is necessary by constructing a new virtual DOM and comparing it to the old one. Only in the case they are not equal, will React <a href="https://facebook.github.io/react/docs/reconciliation.html">reconcile</a> the DOM, applying as few mutations as possible.</p><span>

</span><p>On top of this, React provides a component lifecycle function, <code>shouldComponentUpdate</code>, which is triggered before the re-rendering process starts (virtual DOM comparison and possible eventual DOM reconciliation), giving the developer the ability to short circuit this process. The default implementation of this function returns <code>true</code>, leaving React to perform the update:</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">shouldComponentUpdate</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">nextProps</span><span class="p">,</span> <span class="nx">nextState</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div><span>
</span><p>Keep in mind that React will invoke this function pretty often, so the implementation has to be fast.</p><span>

</span><p>Say you have a messaging application with several chat threads. Suppose only one of the threads has changed. If we implement <code>shouldComponentUpdate</code> on the <code>ChatThread</code> component, React can skip the rendering step for the other threads:</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">shouldComponentUpdate</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">nextProps</span><span class="p">,</span> <span class="nx">nextState</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// TODO: return whether or not current chat thread is</span>
  <span class="c1">// different to former one.</span>
<span class="p">}</span>
</code></pre></div><span>
</span><p>So, in summary, React avoids carrying out expensive DOM operations required to reconcile subtrees of the DOM by allowing the user to short circuit the process using <code>shouldComponentUpdate</code>, and, for those which should update, by comparing virtual DOMs.</p><span>
</span><h2><a class="anchor" name="shouldcomponentupdate-in-action"></a>shouldComponentUpdate in action </h2><span>
</span><p>Here&apos;s a subtree of components. For each one is indicated what <code>shouldComponentUpdate</code> returned and whether or not the virtual DOMs were equivalent. Finally, the circle&apos;s color indicates whether the component had to be reconciled or not.</p><span>

</span><figure><img src="https://facebook.github.io/react/img/docs/should-component-update.png"></figure><span>

</span><p>In the example above, since <code>shouldComponentUpdate</code> returned <code>false</code> for the subtree rooted at C2, React had no need to generate the new virtual DOM, and therefore, it neither needed to reconcile the DOM. Note that React didn&apos;t even have to invoke <code>shouldComponentUpdate</code> on C4 and C5.</p><span>

</span><p>For C1 and C3 <code>shouldComponentUpdate</code> returned <code>true</code>, so React had to go down to the leaves and check them. For C6 it returned <code>true</code>; since the virtual DOMs weren&apos;t equivalent it had to reconcile the DOM.
The last interesting case is C8. For this node React had to compute the virtual DOM, but since it was equal to the old one, it didn&apos;t have to reconcile it&apos;s DOM.</p><span>

</span><p>Note that React only had to do DOM mutations for C6, which was inevitable. For C8, it bailed out by comparing the virtual DOMs, and for C2&apos;s subtree and C7, it didn&apos;t even have to compute the virtual DOM as we bailed out on <code>shouldComponentUpdate</code>.</p><span>

</span><p>So, how should we implement <code>shouldComponentUpdate</code>? Say that you have a component that just renders a string value:</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">React</span><span class="p">.</span><span class="nx">createClass</span><span class="p">({</span>
  <span class="nx">propTypes</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">value</span><span class="o">:</span> <span class="nx">React</span><span class="p">.</span><span class="nx">PropTypes</span><span class="p">.</span><span class="nx">string</span><span class="p">.</span><span class="nx">isRequired</span>
  <span class="p">},</span>

  <span class="nx">render</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">value</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/div&gt;;</span>
  <span class="p">}</span>
<span class="p">});</span>
</code></pre></div><span>
</span><p>We could easily implement <code>shouldComponentUpdate</code> as follows:</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">shouldComponentUpdate</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">nextProps</span><span class="p">,</span> <span class="nx">nextState</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">value</span> <span class="o">!==</span> <span class="nx">nextProps</span><span class="p">.</span><span class="nx">value</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div><span>
</span><p>So far so good, dealing with such simple props/state structures is easy. We could even generalize an implementation based on shallow equality and mix it into components. In fact, React already provides such implementation: <a href="https://facebook.github.io/react/docs/pure-render-mixin.html">PureRenderMixin</a>.</p><span>

</span><p>But what if your components&apos; props or state are mutable data structures? Say the prop the component receives, instead of being a string like <code>&apos;bar&apos;</code>, is a JavaScript object that contains a string such as, <code>{ foo: &apos;bar&apos; }</code>:</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">React</span><span class="p">.</span><span class="nx">createClass</span><span class="p">({</span>
  <span class="nx">propTypes</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">value</span><span class="o">:</span> <span class="nx">React</span><span class="p">.</span><span class="nx">PropTypes</span><span class="p">.</span><span class="nx">object</span><span class="p">.</span><span class="nx">isRequired</span>
  <span class="p">},</span>

  <span class="nx">render</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">value</span><span class="p">.</span><span class="nx">foo</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/div&gt;;</span>
  <span class="p">}</span>
<span class="p">});</span>
</code></pre></div><span>
</span><p>The implementation of <code>shouldComponentUpdate</code> we had before wouldn&apos;t always work as expected:</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// assume this.props.value is { foo: &apos;bar&apos; }</span>
<span class="c1">// assume nextProps.value is { foo: &apos;bar&apos; },</span>
<span class="c1">// but this reference is different to this.props.value</span>
<span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">value</span> <span class="o">!==</span> <span class="nx">nextProps</span><span class="p">.</span><span class="nx">value</span><span class="p">;</span> <span class="c1">// true</span>
</code></pre></div><span>
</span><p>The problem is <code>shouldComponentUpdate</code> will return <code>true</code> when the prop actually didn&apos;t change. To fix this, we could come up with this alternative implementation:</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">shouldComponentUpdate</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">nextProps</span><span class="p">,</span> <span class="nx">nextState</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">value</span><span class="p">.</span><span class="nx">foo</span> <span class="o">!==</span> <span class="nx">nextProps</span><span class="p">.</span><span class="nx">value</span><span class="p">.</span><span class="nx">foo</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div><span>
</span><p>Basically, we ended up doing a deep comparison to make sure we properly track changes. In terms of performance, this approach is pretty expensive. It doesn&apos;t scale as we would have to write different deep equality code for each model. On top of that, it might not even work if we don&apos;t carefully manage object references. Say this component is used by a parent:</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">React</span><span class="p">.</span><span class="nx">createClass</span><span class="p">({</span>
  <span class="nx">getInitialState</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">{</span> <span class="nx">value</span><span class="o">:</span> <span class="p">{</span> <span class="nx">foo</span><span class="o">:</span> <span class="s1">&apos;bar&apos;</span> <span class="p">}</span> <span class="p">};</span>
  <span class="p">},</span>

  <span class="nx">onClick</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">value</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">value</span><span class="p">;</span>
    <span class="nx">value</span><span class="p">.</span><span class="nx">foo</span> <span class="o">+=</span> <span class="s1">&apos;bar&apos;</span><span class="p">;</span> <span class="c1">// ANTI-PATTERN!</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">({</span> <span class="nx">value</span><span class="o">:</span> <span class="nx">value</span> <span class="p">});</span>
  <span class="p">},</span>

  <span class="nx">render</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span>
      <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nx">InnerComponent</span> <span class="nx">value</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">value</span><span class="p">}</span> <span class="o">/&gt;</span>
        <span class="o">&lt;</span><span class="nx">a</span> <span class="nx">onClick</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">onClick</span><span class="p">}</span><span class="o">&gt;</span><span class="nx">Click</span> <span class="nx">me</span><span class="o">&lt;</span><span class="err">/a&gt;</span>
      <span class="o">&lt;</span><span class="err">/div&gt;</span>
    <span class="p">);</span>
  <span class="p">}</span>
<span class="p">});</span>
</code></pre></div><span>
</span><p>The first time the inner component gets rendered, it will have <code>{ foo: &apos;bar&apos; }</code> as the value prop. If the user clicks on the anchor, the parent component&apos;s state will get updated to <code>{ value: { foo: &apos;barbar&apos; } }</code>, triggering the re-rendering process of the inner component, which will receive <code>{ foo: &apos;barbar&apos; }</code> as the new value for the prop.</p><span>

</span><p>The problem is that since the parent and inner components share a reference to the same object, when the object gets mutated on line 2 of the <code>onClick</code> function, the prop the inner component had will change. So, when the re-rendering process starts, and <code>shouldComponentUpdate</code> gets invoked, <code>this.props.value.foo</code> will be equal to <code>nextProps.value.foo</code>, because in fact, <code>this.props.value</code> references the same object as <code>nextProps.value</code>.</p><span>

</span><p>Consequently, since we&apos;ll miss the change on the prop and short circuit the re-rendering process, the UI won&apos;t get updated from <code>&apos;bar&apos;</code> to <code>&apos;barbar&apos;</code>.</p><span>
</span><h2><a class="anchor" name="immutable-js-to-the-rescue"></a>Immutable-js to the rescue </h2><span>
</span><p><a href="https://github.com/facebook/immutable-js">Immutable-js</a> is a JavaScript collections library written by Lee Byron, which Facebook recently open-sourced. It provides <em>immutable persistent</em> collections via <em>structural sharing</em>. Let&apos;s see what these properties mean:</p><span>

</span><ul>
<li><em>Immutable</em>: once created, a collection cannot be altered at another point in time.</li>
<li><em>Persistent</em>: new collections can be created from a previous collection and a mutation such as set. The original collection is still valid after the new collection is created.</li>
<li><em>Structural Sharing</em>: new collections are created using as much of the same structure as the original collection as possible, reducing copying to a minimum to achieve space efficiency and acceptable performance. If the new collection is equal to the original, the original is often returned.</li>
</ul><span>

</span><p>Immutability makes tracking changes cheap; a change will always result in a new object so we only need to check if the reference to the object has changed. For example, in this regular JavaScript code:</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">foo</span><span class="o">:</span> <span class="s2">&quot;bar&quot;</span> <span class="p">};</span>
<span class="kd">var</span> <span class="nx">y</span> <span class="o">=</span> <span class="nx">x</span><span class="p">;</span>
<span class="nx">y</span><span class="p">.</span><span class="nx">foo</span> <span class="o">=</span> <span class="s2">&quot;baz&quot;</span><span class="p">;</span>
<span class="nx">x</span> <span class="o">===</span> <span class="nx">y</span><span class="p">;</span> <span class="c1">// true</span>
</code></pre></div><span>
</span><p>Although <code>y</code> was edited, since it&apos;s a reference to the same object as <code>x</code>, this comparison returns <code>true</code>. However, this code could be written using immutable-js as follows:</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">SomeRecord</span> <span class="o">=</span> <span class="nx">Immutable</span><span class="p">.</span><span class="nx">Record</span><span class="p">({</span> <span class="nx">foo</span><span class="o">:</span> <span class="kc">null</span> <span class="p">});</span>
<span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">SomeRecord</span><span class="p">({</span> <span class="nx">foo</span><span class="o">:</span> <span class="s1">&apos;bar&apos;</span>  <span class="p">});</span>
<span class="kd">var</span> <span class="nx">y</span> <span class="o">=</span> <span class="nx">x</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="s1">&apos;foo&apos;</span><span class="p">,</span> <span class="s1">&apos;baz&apos;</span><span class="p">);</span>
<span class="nx">x</span> <span class="o">===</span> <span class="nx">y</span><span class="p">;</span> <span class="c1">// false</span>
</code></pre></div><span>
</span><p>In this case, since a new reference is returned when mutating <code>x</code>, we can safely assume that <code>x</code> has changed.</p><span>

</span><p>Another possible way to track changes could be doing dirty checking by having a flag set by setters. A problem with this approach is that it forces you to use setters and, either write a lot of additional code, or somehow instrument your classes. Alternatively, you could deep copy the object just before the mutations and deep compare to determine whether there was a change or not. A problem with this approach is both deepCopy and deepCompare are expensive operations.</p><span>

</span><p>So, Immutable data structures provides you a cheap and less verbose way to track changes on objects, which is all we need to implement <code>shouldComponentUpdate</code>. Therefore, if we model props and state attributes using the abstractions provided by immutable-js we&apos;ll be able to use <code>PureRenderMixin</code> and get a nice boost in perf.</p><span>
</span><h2><a class="anchor" name="immutable-js-and-flux"></a>Immutable-js and Flux </h2><span>
</span><p>If you&apos;re using <a href="https://facebook.github.io/flux/">Flux</a>, you should start writing your stores using immutable-js. Take a look at the <a href="https://facebook.github.io/immutable-js/docs/#/">full API</a>.</p><span>

</span><p>Let&apos;s see one possible way to model the thread example using Immutable data structures. First, we need to define a <code>Record</code> for each of the entities we&apos;re trying to model. Records are just immutable containers that hold values for a specific set of fields:</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">User</span> <span class="o">=</span> <span class="nx">Immutable</span><span class="p">.</span><span class="nx">Record</span><span class="p">({</span>
  <span class="nx">id</span><span class="o">:</span> <span class="kc">undefined</span><span class="p">,</span>
  <span class="nx">name</span><span class="o">:</span> <span class="kc">undefined</span><span class="p">,</span>
  <span class="nx">email</span><span class="o">:</span> <span class="kc">undefined</span>
<span class="p">});</span>

<span class="kd">var</span> <span class="nx">Message</span> <span class="o">=</span> <span class="nx">Immutable</span><span class="p">.</span><span class="nx">Record</span><span class="p">({</span>
  <span class="nx">timestamp</span><span class="o">:</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">(),</span>
  <span class="nx">sender</span><span class="o">:</span> <span class="kc">undefined</span><span class="p">,</span>
  <span class="nx">text</span><span class="o">:</span> <span class="s1">&apos;&apos;</span>
<span class="p">});</span>
</code></pre></div><span>
</span><p>The <code>Record</code> function receives an object that defines the fields the object has and its default values.</p><span>

</span><p>The messages <em>store</em> could keep track of the users and messages using two lists:</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="k">this</span><span class="p">.</span><span class="nx">users</span> <span class="o">=</span> <span class="nx">Immutable</span><span class="p">.</span><span class="nx">List</span><span class="p">();</span>
<span class="k">this</span><span class="p">.</span><span class="nx">messages</span> <span class="o">=</span> <span class="nx">Immutable</span><span class="p">.</span><span class="nx">List</span><span class="p">();</span>
</code></pre></div><span>
</span><p>It should be pretty straightforward to implement functions to process each <em>payload</em> type. For instance, when the store sees a payload representing a new message,  we can just create a new record and append it to the messages list:</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="k">this</span><span class="p">.</span><span class="nx">messages</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">messages</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="k">new</span> <span class="nx">Message</span><span class="p">({</span>
  <span class="nx">timestamp</span><span class="o">:</span> <span class="nx">payload</span><span class="p">.</span><span class="nx">timestamp</span><span class="p">,</span>
  <span class="nx">sender</span><span class="o">:</span> <span class="nx">payload</span><span class="p">.</span><span class="nx">sender</span><span class="p">,</span>
  <span class="nx">text</span><span class="o">:</span> <span class="nx">payload</span><span class="p">.</span><span class="nx">text</span>
<span class="p">});</span>
</code></pre></div><span>
</span><p>Note that since the data structures are immutable, we need to assign the result of the push function to <code>this.messages</code>.</p><span>

</span><p>On the React side, if we also use immutable-js data structures to hold the components&apos; state, we could mix <code>PureRenderMixin</code> into all our components and short circuit the re-rendering process.</p><span>


    </span><span>
  </span></div></div>
        </article>
      
        <article>
          <h3>Context | React</h3>
          <div><div class="inner-content"><span>
    </span><span>
    </span><span>
    </span><span>

    </span><p>One of React&apos;s biggest strengths is that it&apos;s easy to track the flow of data through your React components. When you look at a component, you can easily see exactly which props are being passed in which makes your apps easy to reason about.</p><span>

</span><p>Occasionally, you want to pass data through the component tree without having to pass the props down manually at every level. React&apos;s &quot;context&quot; feature lets you do this.</p><span>

</span><blockquote>
<p>Note:</p>

<p>Context is an advanced and experimental feature. The API is likely to change in future releases.</p>

<p>Most applications will never need to use context. Especially if you are just getting started with React, you likely do not want to use context. Using context will make your code harder to understand because it makes the data flow less clear. It is similar to using global variables to pass state through your application.</p>

<p><strong>If you have to use context, use it sparingly.</strong></p>

<p>Regardless of whether you&apos;re building an application or a library, try to isolate your use of context to a small area and avoid using the context API directly when possible so that it&apos;s easier to upgrade when the API changes.</p>
</blockquote><span>
</span><h2><a class="anchor" name="passing-info-automatically-through-a-tree"></a>Passing info automatically through a tree </h2><span>
</span><p>Suppose you have a structure like:</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kr">class</span> <span class="nx">Button</span> <span class="kr">extends</span> <span class="nx">React</span><span class="p">.</span><span class="nx">Component</span> <span class="p">{</span>
  <span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span>
      <span class="o">&lt;</span><span class="nx">button</span> <span class="nx">style</span><span class="o">=</span><span class="p">{{</span><span class="nx">background</span><span class="o">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">color</span><span class="p">}}</span><span class="o">&gt;</span>
        <span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">children</span><span class="p">}</span>
      <span class="o">&lt;</span><span class="err">/button&gt;</span>
    <span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="kr">class</span> <span class="nx">Message</span> <span class="kr">extends</span> <span class="nx">React</span><span class="p">.</span><span class="nx">Component</span> <span class="p">{</span>
  <span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span>
      <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span>
        <span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">text</span><span class="p">}</span> <span class="o">&lt;</span><span class="nx">Button</span> <span class="nx">color</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">color</span><span class="p">}</span><span class="o">&gt;</span><span class="nx">Delete</span><span class="o">&lt;</span><span class="err">/Button&gt;</span>
      <span class="o">&lt;</span><span class="err">/div&gt;</span>
    <span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="kr">class</span> <span class="nx">MessageList</span> <span class="kr">extends</span> <span class="nx">React</span><span class="p">.</span><span class="nx">Component</span> <span class="p">{</span>
  <span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
    <span class="kr">const</span> <span class="nx">color</span> <span class="o">=</span> <span class="s2">&quot;purple&quot;</span><span class="p">;</span>
    <span class="kr">const</span> <span class="nx">children</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">messages</span><span class="p">.</span><span class="nx">map</span><span class="p">((</span><span class="nx">message</span><span class="p">)</span> <span class="o">=&gt;</span>
      <span class="o">&lt;</span><span class="nx">Message</span> <span class="nx">text</span><span class="o">=</span><span class="p">{</span><span class="nx">message</span><span class="p">.</span><span class="nx">text</span><span class="p">}</span> <span class="nx">color</span><span class="o">=</span><span class="p">{</span><span class="nx">color</span><span class="p">}</span> <span class="o">/&gt;</span>
    <span class="p">);</span>
    <span class="k">return</span> <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">children</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/div&gt;;</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div><span>
</span><p>In this example, we manually thread through a <code>color</code> prop in order to style the <code>Button</code> and <code>Message</code> components appropriately. Theming is a good example of when you might want an entire subtree to have access to some piece of information (a color). Using context, we can pass this through the tree automatically:</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kr">class</span> <span class="nx">Button</span> <span class="kr">extends</span> <span class="nx">React</span><span class="p">.</span><span class="nx">Component</span> <span class="p">{</span>
  <span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span>
<span class="hll">      <span class="o">&lt;</span><span class="nx">button</span> <span class="nx">style</span><span class="o">=</span><span class="p">{{</span><span class="nx">background</span><span class="o">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">context</span><span class="p">.</span><span class="nx">color</span><span class="p">}}</span><span class="o">&gt;</span>
</span>        <span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">children</span><span class="p">}</span>
      <span class="o">&lt;</span><span class="err">/button&gt;</span>
    <span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="hll"><span class="nx">Button</span><span class="p">.</span><span class="nx">contextTypes</span> <span class="o">=</span> <span class="p">{</span>
</span><span class="hll">  <span class="nx">color</span><span class="o">:</span> <span class="nx">React</span><span class="p">.</span><span class="nx">PropTypes</span><span class="p">.</span><span class="nx">string</span>
</span><span class="hll"><span class="p">};</span>
</span>
<span class="kr">class</span> <span class="nx">Message</span> <span class="kr">extends</span> <span class="nx">React</span><span class="p">.</span><span class="nx">Component</span> <span class="p">{</span>
  <span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span>
      <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span>
<span class="hll">        <span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">text</span><span class="p">}</span> <span class="o">&lt;</span><span class="nx">Button</span><span class="o">&gt;</span><span class="nx">Delete</span><span class="o">&lt;</span><span class="err">/Button&gt;</span>
</span>      <span class="o">&lt;</span><span class="err">/div&gt;</span>
    <span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="kr">class</span> <span class="nx">MessageList</span> <span class="kr">extends</span> <span class="nx">React</span><span class="p">.</span><span class="nx">Component</span> <span class="p">{</span>
<span class="hll">  <span class="nx">getChildContext</span><span class="p">()</span> <span class="p">{</span>
</span><span class="hll">    <span class="k">return</span> <span class="p">{</span><span class="nx">color</span><span class="o">:</span> <span class="s2">&quot;purple&quot;</span><span class="p">};</span>
</span><span class="hll">  <span class="p">}</span>
</span>
  <span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
    <span class="kr">const</span> <span class="nx">children</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">messages</span><span class="p">.</span><span class="nx">map</span><span class="p">((</span><span class="nx">message</span><span class="p">)</span> <span class="o">=&gt;</span>
      <span class="o">&lt;</span><span class="nx">Message</span> <span class="nx">text</span><span class="o">=</span><span class="p">{</span><span class="nx">message</span><span class="p">.</span><span class="nx">text</span><span class="p">}</span> <span class="o">/&gt;</span>
    <span class="p">);</span>
    <span class="k">return</span> <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">children</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/div&gt;;</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="hll"><span class="nx">MessageList</span><span class="p">.</span><span class="nx">childContextTypes</span> <span class="o">=</span> <span class="p">{</span>
</span><span class="hll">  <span class="nx">color</span><span class="o">:</span> <span class="nx">React</span><span class="p">.</span><span class="nx">PropTypes</span><span class="p">.</span><span class="nx">string</span>
</span><span class="hll"><span class="p">};</span>
</span></code></pre></div><span>
</span><p>By adding <code>childContextTypes</code> and <code>getChildContext</code> to <code>MessageList</code> (the context provider), React passes the information down automatically and any component in the subtree (in this case, <code>Button</code>) can access it by defining <code>contextTypes</code>.</p><span>

</span><p>If <code>contextTypes</code> is not defined, then <code>context</code> will be an empty object.</p><span>
</span><h2><a class="anchor" name="parent-child-coupling"></a>Parent-child coupling </h2><span>
</span><p>Context can also let you build an API such as:</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="o">&lt;</span><span class="nx">Menu</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="nx">MenuItem</span><span class="o">&gt;</span><span class="nx">aubergine</span><span class="o">&lt;</span><span class="err">/MenuItem&gt;</span>
  <span class="o">&lt;</span><span class="nx">MenuItem</span><span class="o">&gt;</span><span class="nx">butternut</span> <span class="nx">squash</span><span class="o">&lt;</span><span class="err">/MenuItem&gt;</span>
  <span class="o">&lt;</span><span class="nx">MenuItem</span><span class="o">&gt;</span><span class="nx">clementine</span><span class="o">&lt;</span><span class="err">/MenuItem&gt;</span>
<span class="o">&lt;</span><span class="err">/Menu&gt;</span>
</code></pre></div><span>
</span><p>By passing down the relevant info in the <code>Menu</code> component, each <code>MenuItem</code> can communicate back to the containing <code>Menu</code> component.</p><span>

</span><p><strong>Before you build components with this API, consider if there are cleaner alternatives.</strong> We&apos;re fond of simply passing the items as an array in cases like this:</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="o">&lt;</span><span class="nx">Menu</span> <span class="nx">items</span><span class="o">=</span><span class="p">{[</span><span class="s1">&apos;aubergine&apos;</span><span class="p">,</span> <span class="s1">&apos;butternut squash&apos;</span><span class="p">,</span> <span class="s1">&apos;clementine&apos;</span><span class="p">]}</span> <span class="o">/&gt;</span>
</code></pre></div><span>
</span><p>Recall that you can also pass entire React components in props if you&apos;d like to.</p><span>
</span><h2><a class="anchor" name="referencing-context-in-lifecycle-methods"></a>Referencing context in lifecycle methods </h2><span>
</span><p>If <code>contextTypes</code> is defined within a component, the following lifecycle methods will receive an additional parameter, the <code>context</code> object:</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="k">void</span> <span class="nx">componentWillReceiveProps</span><span class="p">(</span>
  <span class="nx">object</span> <span class="nx">nextProps</span><span class="p">,</span> <span class="nx">object</span> <span class="nx">nextContext</span>
<span class="p">)</span>

<span class="kr">boolean</span> <span class="nx">shouldComponentUpdate</span><span class="p">(</span>
  <span class="nx">object</span> <span class="nx">nextProps</span><span class="p">,</span> <span class="nx">object</span> <span class="nx">nextState</span><span class="p">,</span> <span class="nx">object</span> <span class="nx">nextContext</span>
<span class="p">)</span>

<span class="k">void</span> <span class="nx">componentWillUpdate</span><span class="p">(</span>
  <span class="nx">object</span> <span class="nx">nextProps</span><span class="p">,</span> <span class="nx">object</span> <span class="nx">nextState</span><span class="p">,</span> <span class="nx">object</span> <span class="nx">nextContext</span>
<span class="p">)</span>

<span class="k">void</span> <span class="nx">componentDidUpdate</span><span class="p">(</span>
  <span class="nx">object</span> <span class="nx">prevProps</span><span class="p">,</span> <span class="nx">object</span> <span class="nx">prevState</span><span class="p">,</span> <span class="nx">object</span> <span class="nx">prevContext</span>
<span class="p">)</span>
</code></pre></div><h2><a class="anchor" name="referencing-context-in-stateless-functional-components"></a>Referencing context in stateless functional components </h2><span>
</span><p>Stateless functional components are also able to reference <code>context</code> if <code>contextTypes</code> is defined as a property of the function. The following code shows the <code>Button</code> component above written as a stateless functional component.</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kr">const</span> <span class="nx">Button</span> <span class="o">=</span> <span class="p">({</span><span class="nx">children</span><span class="p">},</span> <span class="nx">context</span><span class="p">)</span> <span class="o">=&gt;</span>
  <span class="o">&lt;</span><span class="nx">button</span> <span class="nx">style</span><span class="o">=</span><span class="p">{{</span><span class="nx">background</span><span class="o">:</span> <span class="nx">context</span><span class="p">.</span><span class="nx">color</span><span class="p">}}</span><span class="o">&gt;</span>
    <span class="p">{</span><span class="nx">children</span><span class="p">}</span>
  <span class="o">&lt;</span><span class="err">/button&gt;;</span>

<span class="nx">Button</span><span class="p">.</span><span class="nx">contextTypes</span> <span class="o">=</span> <span class="p">{</span><span class="nx">color</span><span class="o">:</span> <span class="nx">React</span><span class="p">.</span><span class="nx">PropTypes</span><span class="p">.</span><span class="nx">string</span><span class="p">};</span>
</code></pre></div><h2><a class="anchor" name="updating-context"></a>Updating context </h2><span>
</span><p>The <code>getChildContext</code> function will be called when the state or props changes. In order to update data in the context, trigger a local state update with <code>this.setState</code>. This will trigger a new context and changes will be received by the children.</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kr">class</span> <span class="nx">MediaQuery</span> <span class="kr">extends</span> <span class="nx">React</span><span class="p">.</span><span class="nx">Component</span> <span class="p">{</span>
  <span class="nx">constructor</span><span class="p">(</span><span class="nx">props</span><span class="p">)</span> <span class="p">{</span>
    <span class="kr">super</span><span class="p">(</span><span class="nx">props</span><span class="p">);</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">state</span> <span class="o">=</span> <span class="p">{</span><span class="nx">type</span><span class="o">:</span><span class="s1">&apos;desktop&apos;</span><span class="p">};</span>
  <span class="p">}</span>

  <span class="nx">getChildContext</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">{</span><span class="nx">type</span><span class="o">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">type</span><span class="p">};</span>
  <span class="p">}</span>

  <span class="nx">componentDidMount</span><span class="p">()</span> <span class="p">{</span>
    <span class="kr">const</span> <span class="nx">checkMediaQuery</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="kr">const</span> <span class="nx">type</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">matchMedia</span><span class="p">(</span><span class="s2">&quot;(min-width: 1025px)&quot;</span><span class="p">).</span><span class="nx">matches</span> <span class="o">?</span> <span class="s1">&apos;desktop&apos;</span> <span class="o">:</span> <span class="s1">&apos;mobile&apos;</span><span class="p">;</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">type</span> <span class="o">!==</span> <span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">type</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">({</span><span class="nx">type</span><span class="p">});</span>
      <span class="p">}</span>
    <span class="p">};</span>

    <span class="nb">window</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&apos;resize&apos;</span><span class="p">,</span> <span class="nx">checkMediaQuery</span><span class="p">);</span>
    <span class="nx">checkMediaQuery</span><span class="p">();</span>
  <span class="p">}</span>

  <span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">children</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="nx">MediaQuery</span><span class="p">.</span><span class="nx">childContextTypes</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">type</span><span class="o">:</span> <span class="nx">React</span><span class="p">.</span><span class="nx">PropTypes</span><span class="p">.</span><span class="nx">string</span>
<span class="p">};</span>
</code></pre></div><h2><a class="anchor" name="when-not-to-use-context"></a>When not to use context </h2><span>
</span><p>Just as global variables are best avoided when writing clear code, you should avoid using context in most cases. In particular, think twice before using it to &quot;save typing&quot; and using it instead of passing explicit props.</p><span>

</span><p>The best use cases for context are for implicitly passing down the logged-in user, the current language, or theme information. All of these might otherwise be true globals, but context lets you scope them to a single React subtree.</p><span>

</span><p>Do not use context to pass your model data through components. Threading your data through the tree explicitly is much easier to understand. Using context makes your components more coupled and less reusable, because they behave differently depending on where they&apos;re rendered.</p><span>
</span><h2><a class="anchor" name="known-limitations"></a>Known limitations </h2><span>
</span><p>If a context value provided by a component changes, descendants that use that value won&apos;t update if an intermediate parent returns <code>false</code> from <code>shouldComponentUpdate</code>. See issue <a href="https://github.com/facebook/react/issues/2517">#2517</a> for more details.</p><span>


    </span><span>
  </span></div></div>
        </article>
      <h2>Reference</h2>
        <article>
          <h3>Top-Level API</h3>
          <div><div class="inner-content"><span>
    </span><span>
    </span><span>
    </span><span>

    </span><h2><a class="anchor" name="react"></a>React </h2><span>
</span><p><code>React</code> is the entry point to the React library. If you&apos;re using one of the prebuilt packages it&apos;s available as a global; if you&apos;re using CommonJS modules you can <code>require()</code> it.</p><span>
</span><h3><a class="anchor" name="react.component"></a>React.Component </h3><span>
</span><p>This is the base class for React Components when they&apos;re defined using ES6 classes. See <a href="https://facebook.github.io/react/docs/reusable-components.html#es6-classes">Reusable Components</a> for how to use ES6 classes with React. For what methods are actually provided by the base class, see the <a href="https://facebook.github.io/react/docs/component-api.html">Component API</a>.</p><span>
</span><h3><a class="anchor" name="react.createclass"></a>React.createClass </h3><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">ReactClass</span> <span class="nx">createClass</span><span class="p">(</span><span class="nx">object</span> <span class="nx">specification</span><span class="p">)</span>
</code></pre></div><span>
</span><p>Create a component class, given a specification. A component implements a <code>render</code> method which returns <strong>one single</strong> child. That child may have an arbitrarily deep child structure. One thing that makes components different than standard prototypal classes is that you don&apos;t need to call new on them. They are convenience wrappers that construct backing instances (via new) for you.</p><span>

</span><p>For more information about the specification object, see <a href="https://facebook.github.io/react/docs/component-specs.html">Component Specs and Lifecycle</a>.</p><span>
</span><h3><a class="anchor" name="react.createelement"></a>React.createElement </h3><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">ReactElement</span> <span class="nx">createElement</span><span class="p">(</span>
  <span class="nx">string</span><span class="o">/</span><span class="nx">ReactClass</span> <span class="nx">type</span><span class="p">,</span>
  <span class="p">[</span><span class="nx">object</span> <span class="nx">props</span><span class="p">],</span>
  <span class="p">[</span><span class="nx">children</span> <span class="p">...]</span>
<span class="p">)</span>
</code></pre></div><span>
</span><p>Create and return a new <code>ReactElement</code> of the given type. The type argument can be either an
html tag name string (eg. &apos;div&apos;, &apos;span&apos;, etc), or a <code>ReactClass</code> (created via <code>React.createClass</code>).</p><span>
</span><h3><a class="anchor" name="react.cloneelement"></a>React.cloneElement </h3><div class="highlight"><pre><code class="language-text" data-lang="text">ReactElement cloneElement(
  ReactElement element,
  [object props],
  [children ...]
)
</code></pre></div><span>
</span><p>Clone and return a new <code>ReactElement</code> using <code>element</code> as the starting point. The resulting element will have the original element&apos;s props with the new props merged in shallowly. New children will replace existing children. Unlike <code>React.addons.cloneWithProps</code>, <code>key</code> and <code>ref</code> from the original element will be preserved. There is no special behavior for merging any props (unlike <code>cloneWithProps</code>). See the <a href="https://facebook.github.io/react/blog/2015/03/03/react-v0.13-rc2.html">v0.13 RC2 blog post</a> for additional details.</p><span>
</span><h3><a class="anchor" name="react.createfactory"></a>React.createFactory </h3><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">factoryFunction</span> <span class="nx">createFactory</span><span class="p">(</span>
  <span class="nx">string</span><span class="o">/</span><span class="nx">ReactClass</span> <span class="nx">type</span>
<span class="p">)</span>
</code></pre></div><span>
</span><p>Return a function that produces ReactElements of a given type. Like <code>React.createElement</code>, the type argument can be either an html tag name string (eg. &apos;div&apos;, &apos;span&apos;, etc), or a <code>ReactClass</code>.</p><span>
</span><h3><a class="anchor" name="react.isvalidelement"></a>React.isValidElement </h3><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kr">boolean</span> <span class="nx">isValidElement</span><span class="p">(</span><span class="o">*</span> <span class="nx">object</span><span class="p">)</span>
</code></pre></div><span>
</span><p>Verifies the object is a ReactElement.</p><span>
</span><h3><a class="anchor" name="react.dom"></a>React.DOM </h3><span>
</span><p><code>React.DOM</code> provides convenience wrappers around <code>React.createElement</code> for DOM components. These should only be used when not using JSX. For example, <code>React.DOM.div(null, &apos;Hello World!&apos;)</code></p><span>
</span><h3><a class="anchor" name="react.proptypes"></a>React.PropTypes </h3><span>
</span><p><code>React.PropTypes</code> includes types that can be used with a component&apos;s <code>propTypes</code> object to validate props being passed to your components. For more information about <code>propTypes</code>, see <a href="https://facebook.github.io/react/docs/reusable-components.html">Reusable Components</a>.</p><span>
</span><h3><a class="anchor" name="react.children"></a>React.Children </h3><span>
</span><p><code>React.Children</code> provides utilities for dealing with the <code>this.props.children</code> opaque data structure.</p><span>
</span><h4><a class="anchor" name="react.children.map"></a>React.Children.map </h4><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">array</span> <span class="nx">React</span><span class="p">.</span><span class="nx">Children</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">object</span> <span class="nx">children</span><span class="p">,</span> <span class="kd">function</span> <span class="nx">fn</span> <span class="p">[,</span> <span class="nx">object</span> <span class="nx">thisArg</span><span class="p">])</span>
</code></pre></div><span>
</span><p>Invoke <code>fn</code> on every immediate child contained within <code>children</code> with <code>this</code> set to <code>thisArg</code>. If <code>children</code> is a <a href="https://facebook.github.io/react/docs/create-fragment.html">keyed fragment</a> or array it will be traversed: <code>fn</code> will never be passed the container objects. If children is <code>null</code> or <code>undefined</code> returns <code>null</code> or <code>undefined</code> rather than an array.</p><span>
</span><h4><a class="anchor" name="react.children.foreach"></a>React.Children.forEach </h4><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">React</span><span class="p">.</span><span class="nx">Children</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="nx">object</span> <span class="nx">children</span><span class="p">,</span> <span class="kd">function</span> <span class="nx">fn</span> <span class="p">[,</span> <span class="nx">object</span> <span class="nx">thisArg</span><span class="p">])</span>
</code></pre></div><span>
</span><p>Like <code>React.Children.map()</code> but does not return an array.</p><span>
</span><h4><a class="anchor" name="react.children.count"></a>React.Children.count </h4><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">number</span> <span class="nx">React</span><span class="p">.</span><span class="nx">Children</span><span class="p">.</span><span class="nx">count</span><span class="p">(</span><span class="nx">object</span> <span class="nx">children</span><span class="p">)</span>
</code></pre></div><span>
</span><p>Return the total number of components in <code>children</code>, equal to the number of times that a callback passed to <code>map</code> or <code>forEach</code> would be invoked.</p><span>
</span><h4><a class="anchor" name="react.children.only"></a>React.Children.only </h4><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">object</span> <span class="nx">React</span><span class="p">.</span><span class="nx">Children</span><span class="p">.</span><span class="nx">only</span><span class="p">(</span><span class="nx">object</span> <span class="nx">children</span><span class="p">)</span>
</code></pre></div><span>
</span><p>Return the only child in <code>children</code>. Throws otherwise.</p><span>
</span><h4><a class="anchor" name="react.children.toarray"></a>React.Children.toArray </h4><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">array</span> <span class="nx">React</span><span class="p">.</span><span class="nx">Children</span><span class="p">.</span><span class="nx">toArray</span><span class="p">(</span><span class="nx">object</span> <span class="nx">children</span><span class="p">)</span>
</code></pre></div><span>
</span><p>Return the <code>children</code> opaque data structure as a flat array with keys assigned to each child. Useful if you want to manipulate collections of children in your render methods, especially if you want to reorder or slice <code>this.props.children</code> before passing it down.</p><span>

</span><blockquote>
<p>Note:</p>

<p><code>React.Children.toArray()</code> changes keys to preserve the semantics of nested arrays when flattening lists of children. That is, <code>toArray</code> prefixes each key in the returned array so that each element&apos;s key is scoped to the input array containing it.</p>
</blockquote><span>
</span><h2><a class="anchor" name="reactdom"></a>ReactDOM </h2><span>
</span><p>The <code>react-dom</code> package provides DOM-specific methods that can be used at the top level of your app and as an escape hatch to get outside of the React model if you need to. Most of your components should not need to use this module.</p><span>
</span><h3><a class="anchor" name="reactdom.render"></a>ReactDOM.render </h3><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">render</span><span class="p">(</span>
  <span class="nx">ReactElement</span> <span class="nx">element</span><span class="p">,</span>
  <span class="nx">DOMElement</span> <span class="nx">container</span><span class="p">,</span>
  <span class="p">[</span><span class="kd">function</span> <span class="nx">callback</span><span class="p">]</span>
<span class="p">)</span>
</code></pre></div><span>
</span><p>Render a ReactElement into the DOM in the supplied <code>container</code> and return a <a href="https://facebook.github.io/react/docs/more-about-refs.html">reference</a> to the component (or returns <code>null</code> for <a href="https://facebook.github.io/react/docs/reusable-components.html#stateless-functions">stateless components</a>).</p><span>

</span><p>If the ReactElement was previously rendered into <code>container</code>, this will perform an update on it and only mutate the DOM as necessary to reflect the latest React component.</p><span>

</span><p>If the optional callback is provided, it will be executed after the component is rendered or updated.</p><span>

</span><blockquote>
<p>Note:</p>

<p><code>ReactDOM.render()</code> controls the contents of the container node you pass in. Any existing DOM elements
inside are replaced when first called. Later calls use React&#x2019;s DOM diffing algorithm for efficient
updates.</p>

<p><code>ReactDOM.render()</code> does not modify the container node (only modifies the children of the container). In
the future, it may be possible to insert a component to an existing DOM node without overwriting
the existing children.</p>

<p><code>ReactDOM.render()</code> currently returns a reference to the root <code>ReactComponent</code> instance. However, using this return value is legacy
and should be avoided because future versions of React may render components asynchronously in some cases. If you need a reference to the root <code>ReactComponent</code> instance, the preferred solution is to attach a
<a href="https://facebook.github.io/react/docs/more-about-refs.html#the-ref-callback-attribute">callback ref</a> to the root element.</p>
</blockquote><span>
</span><h3><a class="anchor" name="reactdom.unmountcomponentatnode"></a>ReactDOM.unmountComponentAtNode </h3><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kr">boolean</span> <span class="nx">unmountComponentAtNode</span><span class="p">(</span><span class="nx">DOMElement</span> <span class="nx">container</span><span class="p">)</span>
</code></pre></div><span>
</span><p>Remove a mounted React component from the DOM and clean up its event handlers and state. If no component was mounted in the container, calling this function does nothing. Returns <code>true</code> if a component was unmounted and <code>false</code> if there was no component to unmount.</p><span>
</span><h3><a class="anchor" name="reactdom.finddomnode"></a>ReactDOM.findDOMNode </h3><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">DOMElement</span> <span class="nx">findDOMNode</span><span class="p">(</span><span class="nx">ReactComponent</span> <span class="nx">component</span><span class="p">)</span>
</code></pre></div><span>
</span><p>If this component has been mounted into the DOM, this returns the corresponding native browser DOM element. This method is useful for reading values out of the DOM, such as form field values and performing DOM measurements. <strong>In most cases, you can attach a ref to the DOM node and avoid using <code>findDOMNode</code> at all.</strong> When <code>render</code> returns <code>null</code> or <code>false</code>, <code>findDOMNode</code> returns <code>null</code>.</p><span>

</span><blockquote>
<p>Note:</p>

<p><code>findDOMNode()</code> is an escape hatch used to access the underlying DOM node. In most cases, use of this escape hatch is discouraged because it pierces the component abstraction.</p>

<p><code>findDOMNode()</code> only works on mounted components (that is, components that have been placed in the DOM). If you try to call this on a component that has not been mounted yet (like calling <code>findDOMNode()</code> in <code>render()</code> on a component that has yet to be created) an exception will be thrown.</p>

<p><code>findDOMNode()</code> cannot be used on stateless components.</p>
</blockquote><span>
</span><h2><a class="anchor" name="reactdomserver"></a>ReactDOMServer </h2><span>
</span><p>The <code>react-dom/server</code> package allows you to render your components on the server.</p><span>
</span><h3><a class="anchor" name="reactdomserver.rendertostring"></a>ReactDOMServer.renderToString </h3><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">string</span> <span class="nx">renderToString</span><span class="p">(</span><span class="nx">ReactElement</span> <span class="nx">element</span><span class="p">)</span>
</code></pre></div><span>
</span><p>Render a ReactElement to its initial HTML. This should only be used on the server. React will return an HTML string. You can use this method to generate HTML on the server and send the markup down on the initial request for faster page loads and to allow search engines to crawl your pages for SEO purposes.</p><span>

</span><p>If you call <code>ReactDOM.render()</code> on a node that already has this server-rendered markup, React will preserve it and only attach event handlers, allowing you to have a very performant first-load experience.</p><span>
</span><h3><a class="anchor" name="reactdomserver.rendertostaticmarkup"></a>ReactDOMServer.renderToStaticMarkup </h3><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">string</span> <span class="nx">renderToStaticMarkup</span><span class="p">(</span><span class="nx">ReactElement</span> <span class="nx">element</span><span class="p">)</span>
</code></pre></div><span>
</span><p>Similar to <code>renderToString</code>, except this doesn&apos;t create extra DOM attributes such as <code>data-react-id</code>, that React uses internally. This is useful if you want to use React as a simple static page generator, as stripping away the extra attributes can save lots of bytes.</p><span>


    </span><span>
  </span></div></div>
        </article>
      
        <article>
          <h3>Component API</h3>
          <div><div class="inner-content"><span>
    </span><span>
    </span><span>
    </span><span>

    </span><span>
</span><p>Instances of a React Component are created internally in React when rendering. These instances are reused in subsequent renders, and can be accessed in your component methods as <code>this</code>. The only way to get a handle to a React Component instance outside of React is by storing the return value of <code>ReactDOM.render</code>. Inside other Components, you may use <a href="https://facebook.github.io/react/docs/more-about-refs.html">refs</a> to achieve the same result.</p><span>
</span><h3><a class="anchor" name="setstate"></a>setState </h3><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="k">void</span> <span class="nx">setState</span><span class="p">(</span>
  <span class="kd">function</span><span class="o">|</span><span class="nx">object</span> <span class="nx">nextState</span><span class="p">,</span>
  <span class="p">[</span><span class="kd">function</span> <span class="nx">callback</span><span class="p">]</span>
<span class="p">)</span>
</code></pre></div><span>
</span><p>Performs a shallow merge of nextState into current state. This is the primary method you use to trigger UI updates from event handlers and server request callbacks.</p><span>

</span><p>The first argument can be an object (containing zero or more keys to update) or a function (of state and props) that returns an object containing keys to update.</p><span>

</span><p>Here is the simple object usage:</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">setState</span><span class="p">({</span><span class="nx">mykey</span><span class="o">:</span> <span class="s1">&apos;my new value&apos;</span><span class="p">});</span>
</code></pre></div><span>
</span><p>It&apos;s also possible to pass a function with the signature <code>function(state, props)</code>. This can be useful in some cases when you want to enqueue an atomic update that consults the previous value of state+props before setting any values.  For instance, suppose we wanted to increment a value in state:</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">setState</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">previousState</span><span class="p">,</span> <span class="nx">currentProps</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="p">{</span><span class="nx">myInteger</span><span class="o">:</span> <span class="nx">previousState</span><span class="p">.</span><span class="nx">myInteger</span> <span class="o">+</span> <span class="mi">1</span><span class="p">};</span>
<span class="p">});</span>
</code></pre></div><span>
</span><p>The second (optional) parameter is a callback function that will be executed once <code>setState</code> is completed and the component is re-rendered.</p><span>

</span><blockquote>
<p>Notes:</p>

<p><em>NEVER</em> mutate <code>this.state</code> directly, as calling <code>setState()</code> afterwards may replace the mutation you made. Treat <code>this.state</code> as if it were immutable.</p>

<p><code>setState()</code> does not immediately mutate <code>this.state</code> but creates a pending state transition. Accessing <code>this.state</code> after calling this method can potentially return the existing value.</p>

<p>There is no guarantee of synchronous operation of calls to <code>setState</code> and calls may be batched for performance gains.</p>

<p><code>setState()</code> will always trigger a re-render unless conditional rendering logic is implemented in <code>shouldComponentUpdate()</code>. If mutable objects are being used and the logic cannot be implemented in <code>shouldComponentUpdate()</code>, calling <code>setState()</code> only when the new state differs from the previous state will avoid unnecessary re-renders.</p>
</blockquote><span>
</span><h3><a class="anchor" name="replacestate"></a>replaceState </h3><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="k">void</span> <span class="nx">replaceState</span><span class="p">(</span>
  <span class="nx">object</span> <span class="nx">nextState</span><span class="p">,</span>
  <span class="p">[</span><span class="kd">function</span> <span class="nx">callback</span><span class="p">]</span>
<span class="p">)</span>
</code></pre></div><span>
</span><p>Like <code>setState()</code> but deletes any pre-existing state keys that are not in nextState.</p><span>

</span><blockquote>
<p>Note:</p>

<p>This method is not available on ES6 <code>class</code> components that extend <code>React.Component</code>. It may be removed entirely in a future version of React.</p>
</blockquote><span>
</span><h3><a class="anchor" name="forceupdate"></a>forceUpdate </h3><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="k">void</span> <span class="nx">forceUpdate</span><span class="p">(</span>
  <span class="p">[</span><span class="kd">function</span> <span class="nx">callback</span><span class="p">]</span>
<span class="p">)</span>
</code></pre></div><span>
</span><p>By default, when your component&apos;s state or props change, your component will re-render. However, if these change implicitly (eg: data deep within an object changes without changing the object itself) or if your <code>render()</code> method depends on some other data, you can tell React that it needs to re-run <code>render()</code> by calling <code>forceUpdate()</code>.</p><span>

</span><p>Calling <code>forceUpdate()</code> will cause <code>render()</code> to be called on the component, skipping <code>shouldComponentUpdate()</code>. This will trigger the normal lifecycle methods for child components, including the <code>shouldComponentUpdate()</code> method of each child. React will still only update the DOM if the markup changes.</p><span>

</span><p>Normally you should try to avoid all uses of <code>forceUpdate()</code> and only read from <code>this.props</code> and <code>this.state</code> in <code>render()</code>. This makes your component &quot;pure&quot; and your application much simpler and more efficient.</p><span>
</span><h3><a class="anchor" name="ismounted"></a>isMounted </h3><span>
</span><p><code>isMounted()</code> returns <code>true</code> if the component is rendered into the DOM, <code>false</code> otherwise. You can use this method to guard asynchronous calls to <code>setState()</code> or <code>forceUpdate()</code>.</p><span>

</span><blockquote>
<p>Note:</p>

<p>This method is not available on ES6 <code>class</code> components that extend <code>React.Component</code>. It will likely be removed entirely in a future version of React, so you might as well <a href="https://facebook.github.io/react/blog/2015/12/16/ismounted-antipattern.html">start migrating away from isMounted() now</a>.</p>
</blockquote><span>


    </span><span>
  </span></div></div>
        </article>
      
        <article>
          <h3>Component Specs and Lifecycle</h3>
          <div><div class="inner-content"><span>
    </span><span>
    </span><span>
    </span><span>

    </span><h2><a class="anchor" name="component-specifications"></a>Component Specifications </h2><span>
</span><p>When creating a component class by invoking <code>React.createClass()</code>, you should provide a specification object that contains a <code>render</code> method and can optionally contain other lifecycle methods described here.</p><span>

</span><blockquote>
<p>Note:</p>

<p>It is also possible to use plain JavaScript classes as component classes. These classes can implement most of the same methods, though there are some differences. For more information about these differences, please read our documentation about <a href="https://facebook.github.io/react/docs/reusable-components.html#es6-classes">ES6 classes</a>.</p>
</blockquote><span>
</span><h3><a class="anchor" name="render"></a>render </h3><span>
</span><p>The <code>render()</code> method is required.</p><span>

</span><p>When called, it should examine <code>this.props</code> and <code>this.state</code> and return a single child element. This child element can be either a virtual representation of a native DOM component (such as <code>&lt;div /&gt;</code> or <code>React.DOM.div()</code>) or another composite component that you&apos;ve defined yourself.</p><span>

</span><p>You can also return <code>null</code> or <code>false</code> to indicate that you don&apos;t want anything rendered. Behind the scenes, React renders a <code>&lt;noscript&gt;</code> tag to work with our current diffing algorithm. When returning <code>null</code> or <code>false</code>, <code>ReactDOM.findDOMNode(this)</code> will return <code>null</code>.</p><span>

</span><p>The <code>render()</code> function should be <em>pure</em>, meaning that it does not modify component state, it returns the same result each time it&apos;s invoked, and it does not read from or write to the DOM or otherwise interact with the browser (e.g., by using <code>setTimeout</code>). If you need to interact with the browser, perform your work in <code>componentDidMount()</code> or the other lifecycle methods instead. Keeping <code>render()</code> pure makes server rendering more practical and makes components easier to think about.</p><span>
</span><h3><a class="anchor" name="getinitialstate"></a>getInitialState </h3><span>
</span><p>Invoked once before the component is mounted. The return value will be used as the initial value of <code>this.state</code>.</p><span>
</span><h3><a class="anchor" name="getdefaultprops"></a>getDefaultProps </h3><span>
</span><p>Invoked once and cached when the class is created. Values in the mapping will be set on <code>this.props</code> if that prop is not specified by the parent component (i.e. using an <code>in</code> check).</p><span>

</span><p>This method is invoked before any instances are created and thus cannot rely on <code>this.props</code>. In addition, be aware that any complex objects returned by <code>getDefaultProps()</code> will be shared across instances, not copied.</p><span>
</span><h3><a class="anchor" name="proptypes"></a>propTypes </h3><span>
</span><p>The <code>propTypes</code> object allows you to validate props being passed to your components. For more information about <code>propTypes</code>, see <a href="https://facebook.github.io/react/docs/reusable-components.html">Reusable Components</a>.</p><span>
</span><h3><a class="anchor" name="mixins"></a>mixins </h3><span>
</span><p>The <code>mixins</code> array allows you to use mixins to share behavior among multiple components. For more information about mixins, see <a href="https://facebook.github.io/react/docs/reusable-components.html">Reusable Components</a>.</p><span>
</span><h3><a class="anchor" name="statics"></a>statics </h3><span>
</span><p>The <code>statics</code> object allows you to define static methods that can be called on the component class. For example:</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">MyComponent</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createClass</span><span class="p">({</span>
  <span class="nx">statics</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">customMethod</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">foo</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">return</span> <span class="nx">foo</span> <span class="o">===</span> <span class="s1">&apos;bar&apos;</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="nx">render</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="p">}</span>
<span class="p">});</span>

<span class="nx">MyComponent</span><span class="p">.</span><span class="nx">customMethod</span><span class="p">(</span><span class="s1">&apos;bar&apos;</span><span class="p">);</span>  <span class="c1">// true</span>
</code></pre></div><span>
</span><p>Methods defined within this block are <em>static</em>, meaning that you can run them before any component instances are created, and the methods do not have access to the props or state of your components. If you want to check the value of props in a static method, have the caller pass in the props as an argument to the static method.</p><span>
</span><h3><a class="anchor" name="displayname"></a>displayName </h3><span>
</span><p>The <code>displayName</code> string is used in debugging messages. JSX sets this value automatically; see <a href="https://facebook.github.io/react/docs/jsx-in-depth.html#the-transform">JSX in Depth</a>.</p><span>
</span><h2><a class="anchor" name="lifecycle-methods"></a>Lifecycle Methods </h2><span>
</span><p>Various methods are executed at specific points in a component&apos;s lifecycle.</p><span>
</span><h3><a class="anchor" name="mounting-componentwillmount"></a>Mounting: componentWillMount </h3><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="k">void</span> <span class="nx">componentWillMount</span><span class="p">()</span>
</code></pre></div><span>
</span><p>Invoked once, both on the client and server, immediately before the initial rendering occurs. If you call <code>setState</code> within this method, <code>render()</code> will see the updated state and will be executed only once despite the state change.</p><span>
</span><h3><a class="anchor" name="mounting-componentdidmount"></a>Mounting: componentDidMount </h3><span>
</span><p>Invoked once, only on the client (not on the server), immediately after the initial rendering occurs. At this point in the lifecycle, you can access any refs to your children (e.g., to access the underlying DOM representation). The <code>componentDidMount()</code> method of child components is invoked before that of parent components.</p><span>

</span><p>If you want to integrate with other JavaScript frameworks, set timers using <code>setTimeout</code> or <code>setInterval</code>, or send AJAX requests, perform those operations in this method.</p><span>
</span><h3><a class="anchor" name="updating-componentwillreceiveprops"></a>Updating: componentWillReceiveProps </h3><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="k">void</span> <span class="nx">componentWillReceiveProps</span><span class="p">(</span>
  <span class="nx">object</span> <span class="nx">nextProps</span>
<span class="p">)</span>
</code></pre></div><span>
</span><p>Invoked when a component is receiving new props. This method is not called for the initial render.</p><span>

</span><p>Use this as an opportunity to react to a prop transition before <code>render()</code> is called by updating the state using <code>this.setState()</code>. The old props can be accessed via <code>this.props</code>. Calling <code>this.setState()</code> within this function will not trigger an additional render.</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">componentWillReceiveProps</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">nextProps</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">({</span>
    <span class="nx">likesIncreasing</span><span class="o">:</span> <span class="nx">nextProps</span><span class="p">.</span><span class="nx">likeCount</span> <span class="o">&gt;</span> <span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">likeCount</span>
  <span class="p">});</span>
<span class="p">}</span>
</code></pre></div><span>
</span><blockquote>
<p>Note:</p>

<p>One common mistake is for code executed during this lifecycle method to assume that props have changed.  To understand why this is invalid, read <a href="https://facebook.github.io/react/blog/2016/01/08/A-implies-B-does-not-imply-B-implies-A.html">A implies B does not imply B implies A</a></p>

<p>There is no analogous method <code>componentWillReceiveState</code>. An incoming prop transition may cause a state change, but the opposite is not true. If you need to perform operations in response to a state change, use <code>componentWillUpdate</code>.</p>
</blockquote><span>
</span><h3><a class="anchor" name="updating-shouldcomponentupdate"></a>Updating: shouldComponentUpdate </h3><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kr">boolean</span> <span class="nx">shouldComponentUpdate</span><span class="p">(</span>
  <span class="nx">object</span> <span class="nx">nextProps</span><span class="p">,</span> <span class="nx">object</span> <span class="nx">nextState</span>
<span class="p">)</span>
</code></pre></div><span>
</span><p>Invoked before rendering when new props or state are being received. This method is not called for the initial render or when <code>forceUpdate</code> is used.</p><span>

</span><p>Use this as an opportunity to <code>return false</code> when you&apos;re certain that the transition to the new props and state will not require a component update.</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">shouldComponentUpdate</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">nextProps</span><span class="p">,</span> <span class="nx">nextState</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">nextProps</span><span class="p">.</span><span class="nx">id</span> <span class="o">!==</span> <span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">id</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div><span>
</span><p>If <code>shouldComponentUpdate</code> returns false, then <code>render()</code> will be completely skipped until the next state change. In addition, <code>componentWillUpdate</code> and <code>componentDidUpdate</code> will not be called.</p><span>

</span><p>By default, <code>shouldComponentUpdate</code> always returns <code>true</code> to prevent subtle bugs when <code>state</code> is mutated in place, but if you are careful to always treat <code>state</code> as immutable and to read only from <code>props</code> and <code>state</code> in <code>render()</code> then you can override <code>shouldComponentUpdate</code> with an implementation that compares the old props and state to their replacements.</p><span>

</span><p>If performance is a bottleneck, especially with dozens or hundreds of components, use <code>shouldComponentUpdate</code> to speed up your app.</p><span>
</span><h3><a class="anchor" name="updating-componentwillupdate"></a>Updating: componentWillUpdate </h3><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="k">void</span> <span class="nx">componentWillUpdate</span><span class="p">(</span>
  <span class="nx">object</span> <span class="nx">nextProps</span><span class="p">,</span> <span class="nx">object</span> <span class="nx">nextState</span>
<span class="p">)</span>
</code></pre></div><span>
</span><p>Invoked immediately before rendering when new props or state are being received. This method is not called for the initial render.</p><span>

</span><p>Use this as an opportunity to perform preparation before an update occurs.</p><span>

</span><blockquote>
<p>Note:</p>

<p>You <em>cannot</em> use <code>this.setState()</code> in this method. If you need to update state in response to a prop change, use <code>componentWillReceiveProps</code> instead.</p>
</blockquote><span>
</span><h3><a class="anchor" name="updating-componentdidupdate"></a>Updating: componentDidUpdate </h3><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="k">void</span> <span class="nx">componentDidUpdate</span><span class="p">(</span>
  <span class="nx">object</span> <span class="nx">prevProps</span><span class="p">,</span> <span class="nx">object</span> <span class="nx">prevState</span>
<span class="p">)</span>
</code></pre></div><span>
</span><p>Invoked immediately after the component&apos;s updates are flushed to the DOM. This method is not called for the initial render.</p><span>

</span><p>Use this as an opportunity to operate on the DOM when the component has been updated.</p><span>
</span><h3><a class="anchor" name="unmounting-componentwillunmount"></a>Unmounting: componentWillUnmount </h3><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="k">void</span> <span class="nx">componentWillUnmount</span><span class="p">()</span>
</code></pre></div><span>
</span><p>Invoked immediately before a component is unmounted from the DOM.</p><span>

</span><p>Perform any necessary cleanup in this method, such as invalidating timers or cleaning up any DOM elements that were created in <code>componentDidMount</code>.</p><span>


    </span><span>
  </span></div></div>
        </article>
      
        <article>
          <h3>Tags and Attributes</h3>
          <div><div class="inner-content"><span>
    </span><span>
    </span><span>
    </span><span>

    </span><h2><a class="anchor" name="supported-elements"></a>Supported Elements </h2><span>
</span><p>React attempts to support all common elements in both HTML and SVG. Any lower case tag in JSX will be rendered to an element with that tag. SVG elements must be contained within an <code>&lt;svg&gt;</code> element to work properly.</p><span>
</span><h3><a class="anchor" name="using-react.dom-factory-methods"></a>Using <code>React.DOM</code> Factory methods </h3><span>
</span><p>If you aren&apos;t using JSX and are using the <code>React.DOM.*</code> API to create elements, then you are slightly more limited and there is list of supported elements that will be available on that API.</p><span>
</span><h4><a class="anchor" name="html-elements"></a>HTML Elements </h4><span>
</span><p>The following HTML elements are supported in <code>React.DOM.*</code>:</p><span>
</span><div class="highlight"><pre><code class="language-text" data-lang="text">a abbr address area article aside audio b base bdi bdo big blockquote body br
button canvas caption cite code col colgroup data datalist dd del details dfn
dialog div dl dt em embed fieldset figcaption figure footer form h1 h2 h3 h4 h5
h6 head header hgroup hr html i iframe img input ins kbd keygen label legend li
link main map mark menu menuitem meta meter nav noscript object ol optgroup
option output p param picture pre progress q rp rt ruby s samp script section
select small source span strong style sub summary sup table tbody td textarea
tfoot th thead time title tr track u ul var video wbr
</code></pre></div><h4><a class="anchor" name="svg-elements"></a>SVG elements </h4><span>
</span><p>The following SVG elements are supported in <code>React.DOM.*</code>:</p><span>
</span><div class="highlight"><pre><code class="language-text" data-lang="text">circle clipPath defs ellipse g image line linearGradient mask path pattern
polygon polyline radialGradient rect stop svg text tspan
</code></pre></div><span>
</span><p>You may also be interested in <a href="https://github.com/facebook/react-art">react-art</a>, a cross-browser drawing library for React.</p><span>
</span><h2><a class="anchor" name="supported-attributes"></a>Supported Attributes </h2><span>
</span><p>React supports all <code>data-*</code> and <code>aria-*</code> attributes as well as every attribute in the following lists.</p><span>

</span><blockquote>
<p>Note:</p>

<p>All attributes are camel-cased and the attributes <code>class</code> and <code>for</code> are <code>className</code> and <code>htmlFor</code>, respectively, to match the DOM API specification.</p>
</blockquote><span>

</span><p>For a list of events, see <a href="https://facebook.github.io/react/docs/events.html">Supported Events</a>.</p><span>
</span><h3><a class="anchor" name="html-attributes"></a>HTML Attributes </h3><span>
</span><p>These standard attributes are supported:</p><span>
</span><div class="highlight"><pre><code class="language-text" data-lang="text">accept acceptCharset accessKey action allowFullScreen allowTransparency alt
async autoComplete autoFocus autoPlay capture cellPadding cellSpacing challenge
charSet checked cite classID className colSpan cols content contentEditable
contextMenu controls coords crossOrigin data dateTime default defer dir
disabled download draggable encType form formAction formEncType formMethod
formNoValidate formTarget frameBorder headers height hidden high href hrefLang
htmlFor httpEquiv icon id inputMode integrity is keyParams keyType kind label
lang list loop low manifest marginHeight marginWidth max maxLength media
mediaGroup method min minLength multiple muted name noValidate nonce open
optimum pattern placeholder poster preload profile radioGroup readOnly rel
required reversed role rowSpan rows sandbox scope scoped scrolling seamless
selected shape size sizes span spellCheck src srcDoc srcLang srcSet start step
style summary tabIndex target title type useMap value width wmode wrap
</code></pre></div><span>
</span><p>These RDFa attributes are supported (several RDFa attributes overlap with standard HTML attributes and thus are excluded from this list):</p><span>
</span><div class="highlight"><pre><code class="language-text" data-lang="text">about datatype inlist prefix property resource typeof vocab
</code></pre></div><span>
</span><p>In addition, the following non-standard attributes are supported:</p><span>

</span><ul>
<li><code>autoCapitalize autoCorrect</code> for Mobile Safari.</li>
<li><code>color</code> for <code>&lt;link rel=&quot;mask-icon&quot; /&gt;</code> in Safari.</li>
<li><code>itemProp itemScope itemType itemRef itemID</code> for <a href="http://schema.org/docs/gs.html">HTML5 microdata</a>.</li>
<li><code>security</code> for older versions of Internet Explorer.</li>
<li><code>unselectable</code> for Internet Explorer.</li>
<li><code>results autoSave</code> for WebKit/Blink input fields of type <code>search</code>.</li>
</ul><span>

</span><p>There is also 2 React-specific attributes:
- <code>dangerouslySetInnerHTML</code> (<a href="https://facebook.github.io/react/docs/special-non-dom-attributes.html">more here</a>), used for directly inserting HTML strings into a component.
- <code>suppressContentEditableWarning</code>, used to suppress the warning when using <code>contentEditable</code> and <code>children</code>.</p><span>
</span><h3><a class="anchor" name="svg-attributes"></a>SVG Attributes </h3><div class="highlight"><pre><code class="language-text" data-lang="text">accentHeight accumulate additive alignmentBaseline allowReorder alphabetic
amplitude arabicForm ascent attributeName attributeType autoReverse azimuth
baseFrequency baseProfile baselineShift bbox begin bias by calcMode capHeight
clip clipPath clipPathUnits clipRule colorInterpolation
colorInterpolationFilters colorProfile colorRendering contentScriptType
contentStyleType cursor cx cy d decelerate descent diffuseConstant direction
display divisor dominantBaseline dur dx dy edgeMode elevation enableBackground
end exponent externalResourcesRequired fill fillOpacity fillRule filter
filterRes filterUnits floodColor floodOpacity focusable fontFamily fontSize
fontSizeAdjust fontStretch fontStyle fontVariant fontWeight format from fx fy
g1 g2 glyphName glyphOrientationHorizontal glyphOrientationVertical glyphRef
gradientTransform gradientUnits hanging horizAdvX horizOriginX ideographic
imageRendering in in2 intercept k k1 k2 k3 k4 kernelMatrix kernelUnitLength
kerning keyPoints keySplines keyTimes lengthAdjust letterSpacing lightingColor
limitingConeAngle local markerEnd markerHeight markerMid markerStart
markerUnits markerWidth mask maskContentUnits maskUnits mathematical mode
numOctaves offset opacity operator order orient orientation origin overflow
overlinePosition overlineThickness paintOrder panose1 pathLength
patternContentUnits patternTransform patternUnits pointerEvents points
pointsAtX pointsAtY pointsAtZ preserveAlpha preserveAspectRatio primitiveUnits
r radius refX refY renderingIntent repeatCount repeatDur requiredExtensions
requiredFeatures restart result rotate rx ry scale seed shapeRendering slope
spacing specularConstant specularExponent speed spreadMethod startOffset
stdDeviation stemh stemv stitchTiles stopColor stopOpacity
strikethroughPosition strikethroughThickness string stroke strokeDasharray
strokeDashoffset strokeLinecap strokeLinejoin strokeMiterlimit strokeOpacity
strokeWidth surfaceScale systemLanguage tableValues targetX targetY textAnchor
textDecoration textLength textRendering to transform u1 u2 underlinePosition
underlineThickness unicode unicodeBidi unicodeRange unitsPerEm vAlphabetic
vHanging vIdeographic vMathematical values vectorEffect version vertAdvY
vertOriginX vertOriginY viewBox viewTarget visibility widths wordSpacing
writingMode x x1 x2 xChannelSelector xHeight xlinkActuate xlinkArcrole
xlinkHref xlinkRole xlinkShow xlinkTitle xlinkType xmlBase xmlLang xmlSpace
y y1 y2 yChannelSelector z zoomAndPan
</code></pre></div><span>

    </span><span>
  </span></div></div>
        </article>
      
        <article>
          <h3>Event System</h3>
          <div><div class="inner-content"><span>
    </span><span>
    </span><span>
    </span><span>

    </span><h2><a class="anchor" name="syntheticevent"></a>SyntheticEvent </h2><span>
</span><p>Your event handlers will be passed instances of <code>SyntheticEvent</code>, a cross-browser wrapper around the browser&apos;s native event. It has the same interface as the browser&apos;s native event, including <code>stopPropagation()</code> and <code>preventDefault()</code>, except the events work identically across all browsers.</p><span>

</span><p>If you find that you need the underlying browser event for some reason, simply use the <code>nativeEvent</code> attribute to get it. Every <code>SyntheticEvent</code> object has the following attributes:</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kr">boolean</span> <span class="nx">bubbles</span>
<span class="kr">boolean</span> <span class="nx">cancelable</span>
<span class="nx">DOMEventTarget</span> <span class="nx">currentTarget</span>
<span class="kr">boolean</span> <span class="nx">defaultPrevented</span>
<span class="nx">number</span> <span class="nx">eventPhase</span>
<span class="kr">boolean</span> <span class="nx">isTrusted</span>
<span class="nx">DOMEvent</span> <span class="nx">nativeEvent</span>
<span class="k">void</span> <span class="nx">preventDefault</span><span class="p">()</span>
<span class="kr">boolean</span> <span class="nx">isDefaultPrevented</span><span class="p">()</span>
<span class="k">void</span> <span class="nx">stopPropagation</span><span class="p">()</span>
<span class="kr">boolean</span> <span class="nx">isPropagationStopped</span><span class="p">()</span>
<span class="nx">DOMEventTarget</span> <span class="nx">target</span>
<span class="nx">number</span> <span class="nx">timeStamp</span>
<span class="nx">string</span> <span class="nx">type</span>
</code></pre></div><span>
</span><blockquote>
<p>Note:</p>

<p>As of v0.14, returning <code>false</code> from an event handler will no longer stop event propagation. Instead, <code>e.stopPropagation()</code> or <code>e.preventDefault()</code> should be triggered manually, as appropriate.</p>
</blockquote><span>
</span><h2><a class="anchor" name="event-pooling"></a>Event pooling </h2><span>
</span><p>The <code>SyntheticEvent</code> is pooled. This means that the <code>SyntheticEvent</code> object will be reused and all properties will be nullified after the event callback has been invoked.
This is for performance reasons.
As such, you cannot access the event in an asynchronous way.</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">function</span> <span class="nx">onClick</span><span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">event</span><span class="p">);</span> <span class="c1">// =&gt; nullified object.</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">event</span><span class="p">.</span><span class="nx">type</span><span class="p">);</span> <span class="c1">// =&gt; &quot;click&quot;</span>
  <span class="kd">var</span> <span class="nx">eventType</span> <span class="o">=</span> <span class="nx">event</span><span class="p">.</span><span class="nx">type</span><span class="p">;</span> <span class="c1">// =&gt; &quot;click&quot;</span>

  <span class="nx">setTimeout</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">event</span><span class="p">.</span><span class="nx">type</span><span class="p">);</span> <span class="c1">// =&gt; null</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">eventType</span><span class="p">);</span> <span class="c1">// =&gt; &quot;click&quot;</span>
  <span class="p">},</span> <span class="mi">0</span><span class="p">);</span>

  <span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">({</span><span class="nx">clickEvent</span><span class="o">:</span> <span class="nx">event</span><span class="p">});</span> <span class="c1">// Won&apos;t work. this.state.clickEvent will only contain null values.</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">({</span><span class="nx">eventType</span><span class="o">:</span> <span class="nx">event</span><span class="p">.</span><span class="nx">type</span><span class="p">});</span> <span class="c1">// You can still export event properties.</span>
<span class="p">}</span>
</code></pre></div><span>
</span><blockquote>
<p>Note:</p>

<p>If you want to access the event properties in an asynchronous way, you should call <code>event.persist()</code> on the event, which will remove the synthetic event from the pool and allow references to the event to be retained by user code.</p>
</blockquote><span>
</span><h2><a class="anchor" name="supported-events"></a>Supported Events </h2><span>
</span><p>React normalizes events so that they have consistent properties across different browsers.</p><span>

</span><p>The event handlers below are triggered by an event in the bubbling phase. To register an event handler for the capture phase, append <code>Capture</code> to the event name; for example, instead of using <code>onClick</code>, you would use <code>onClickCapture</code> to handle the click event in the capture phase.</p><span>
</span><h3><a class="anchor" name="clipboard-events"></a>Clipboard Events </h3><span>
</span><p>Event names:</p><span>
</span><span>
</span><p>Properties:</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">DOMDataTransfer</span> <span class="nx">clipboardData</span>
</code></pre></div><h3><a class="anchor" name="composition-events"></a>Composition Events </h3><span>
</span><p>Event names:</p><span>
</span><div class="highlight"><pre><code class="language-text" data-lang="text">onCompositionEnd onCompositionStart onCompositionUpdate
</code></pre></div><span>
</span><p>Properties:</p><span>
</span><h3><a class="anchor" name="keyboard-events"></a>Keyboard Events </h3><span>
</span><p>Event names:</p><span>
</span><div class="highlight"><pre><code class="language-text" data-lang="text">onKeyDown onKeyPress onKeyUp
</code></pre></div><span>
</span><p>Properties:</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kr">boolean</span> <span class="nx">altKey</span>
<span class="nx">number</span> <span class="nx">charCode</span>
<span class="kr">boolean</span> <span class="nx">ctrlKey</span>
<span class="kr">boolean</span> <span class="nx">getModifierState</span><span class="p">(</span><span class="nx">key</span><span class="p">)</span>
<span class="nx">string</span> <span class="nx">key</span>
<span class="nx">number</span> <span class="nx">keyCode</span>
<span class="nx">string</span> <span class="nx">locale</span>
<span class="nx">number</span> <span class="nx">location</span>
<span class="kr">boolean</span> <span class="nx">metaKey</span>
<span class="kr">boolean</span> <span class="nx">repeat</span>
<span class="kr">boolean</span> <span class="nx">shiftKey</span>
<span class="nx">number</span> <span class="nx">which</span>
</code></pre></div><h3><a class="anchor" name="focus-events"></a>Focus Events </h3><span>
</span><p>Event names:</p><span>
</span><span>
</span><p>Properties:</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">DOMEventTarget</span> <span class="nx">relatedTarget</span>
</code></pre></div><span>
</span><p>These focus events work on all elements in the React DOM, not just form elements.</p><span>
</span><h3><a class="anchor" name="form-events"></a>Form Events </h3><span>
</span><p>Event names:</p><span>
</span><div class="highlight"><pre><code class="language-text" data-lang="text">onChange onInput onSubmit
</code></pre></div><span>
</span><p>For more information about the onChange event, see <a href="https://facebook.github.io/react/docs/forms.html">Forms</a>.</p><span>
</span><h3><a class="anchor" name="mouse-events"></a>Mouse Events </h3><span>
</span><p>Event names:</p><span>
</span><div class="highlight"><pre><code class="language-text" data-lang="text">onClick onContextMenu onDoubleClick onDrag onDragEnd onDragEnter onDragExit
onDragLeave onDragOver onDragStart onDrop onMouseDown onMouseEnter onMouseLeave
onMouseMove onMouseOut onMouseOver onMouseUp
</code></pre></div><span>
</span><p>The <code>onMouseEnter</code> and <code>onMouseLeave</code> events propagate from the element being left to the one being entered instead of ordinary bubbling and do not have a capture phase.</p><span>

</span><p>Properties:</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kr">boolean</span> <span class="nx">altKey</span>
<span class="nx">number</span> <span class="nx">button</span>
<span class="nx">number</span> <span class="nx">buttons</span>
<span class="nx">number</span> <span class="nx">clientX</span>
<span class="nx">number</span> <span class="nx">clientY</span>
<span class="kr">boolean</span> <span class="nx">ctrlKey</span>
<span class="kr">boolean</span> <span class="nx">getModifierState</span><span class="p">(</span><span class="nx">key</span><span class="p">)</span>
<span class="kr">boolean</span> <span class="nx">metaKey</span>
<span class="nx">number</span> <span class="nx">pageX</span>
<span class="nx">number</span> <span class="nx">pageY</span>
<span class="nx">DOMEventTarget</span> <span class="nx">relatedTarget</span>
<span class="nx">number</span> <span class="nx">screenX</span>
<span class="nx">number</span> <span class="nx">screenY</span>
<span class="kr">boolean</span> <span class="nx">shiftKey</span>
</code></pre></div><h3><a class="anchor" name="selection-events"></a>Selection Events </h3><span>
</span><p>Event names:</p><span>
</span><h3><a class="anchor" name="touch-events"></a>Touch Events </h3><span>
</span><p>Event names:</p><span>
</span><div class="highlight"><pre><code class="language-text" data-lang="text">onTouchCancel onTouchEnd onTouchMove onTouchStart
</code></pre></div><span>
</span><p>Properties:</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kr">boolean</span> <span class="nx">altKey</span>
<span class="nx">DOMTouchList</span> <span class="nx">changedTouches</span>
<span class="kr">boolean</span> <span class="nx">ctrlKey</span>
<span class="kr">boolean</span> <span class="nx">getModifierState</span><span class="p">(</span><span class="nx">key</span><span class="p">)</span>
<span class="kr">boolean</span> <span class="nx">metaKey</span>
<span class="kr">boolean</span> <span class="nx">shiftKey</span>
<span class="nx">DOMTouchList</span> <span class="nx">targetTouches</span>
<span class="nx">DOMTouchList</span> <span class="nx">touches</span>
</code></pre></div><h3><a class="anchor" name="ui-events"></a>UI Events </h3><span>
</span><p>Event names:</p><span>
</span><span>
</span><p>Properties:</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">number</span> <span class="nx">detail</span>
<span class="nx">DOMAbstractView</span> <span class="nx">view</span>
</code></pre></div><h3><a class="anchor" name="wheel-events"></a>Wheel Events </h3><span>
</span><p>Event names:</p><span>
</span><span>
</span><p>Properties:</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">number</span> <span class="nx">deltaMode</span>
<span class="nx">number</span> <span class="nx">deltaX</span>
<span class="nx">number</span> <span class="nx">deltaY</span>
<span class="nx">number</span> <span class="nx">deltaZ</span>
</code></pre></div><h3><a class="anchor" name="media-events"></a>Media Events </h3><span>
</span><p>Event names:</p><span>
</span><div class="highlight"><pre><code class="language-text" data-lang="text">onAbort onCanPlay onCanPlayThrough onDurationChange onEmptied onEncrypted 
onEnded onError onLoadedData onLoadedMetadata onLoadStart onPause onPlay 
onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend 
onTimeUpdate onVolumeChange onWaiting
</code></pre></div><h3><a class="anchor" name="image-events"></a>Image Events </h3><span>
</span><p>Event names:</p><span>
</span><h3><a class="anchor" name="animation-events"></a>Animation Events </h3><span>
</span><p>Event names:</p><span>
</span><div class="highlight"><pre><code class="language-text" data-lang="text">onAnimationStart onAnimationEnd onAnimationIteration
</code></pre></div><span>
</span><p>Properties:</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">string</span> <span class="nx">animationName</span>
<span class="nx">string</span> <span class="nx">pseudoElement</span>
<span class="kr">float</span> <span class="nx">elapsedTime</span>
</code></pre></div><h3><a class="anchor" name="transition-events"></a>Transition Events </h3><span>
</span><p>Event names:</p><span>
</span><span>
</span><p>Properties:</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">string</span> <span class="nx">propertyName</span>
<span class="nx">string</span> <span class="nx">pseudoElement</span>
<span class="kr">float</span> <span class="nx">elapsedTime</span>
</code></pre></div><span>

    </span><span>
  </span></div></div>
        </article>
      
        <article>
          <h3>DOM Differences</h3>
          <div><section class="content wrap documentationContent">
  


  <div class="inner-content"><span>
    </span><span>
    </span><span>
    </span><span>

    </span><p>React has implemented a browser-independent events and DOM system for performance and cross-browser compatibility reasons. We took the opportunity to clean up a few rough edges in browser DOM implementations.</p><span>

</span><ul>
<li>All DOM properties and attributes (including event handlers) should be camelCased to be consistent with standard JavaScript style. We intentionally break with the spec here since the spec is inconsistent. <strong>However</strong>, <code>data-*</code> and <code>aria-*</code> attributes <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes#data-*">conform to the specs</a> and should be lower-cased only.</li>
<li>The <code>style</code> attribute accepts a JavaScript object with camelCased properties rather than a CSS string. This is consistent with the DOM <code>style</code> JavaScript property, is more efficient, and prevents XSS security holes.</li>
<li>Since <code>class</code> and <code>for</code> are reserved words in JavaScript, the JSX elements for built-in <a href="http://javascript.info/tutorial/dom-nodes">DOM nodes</a> should use the attribute names <code>className</code> and <code>htmlFor</code> respectively, (eg. <code>&lt;div className=&quot;foo&quot; /&gt;</code> ). Custom elements should use <code>class</code> and <code>for</code> directly (eg. <code>&lt;my-tag class=&quot;foo&quot; /&gt;</code> ).</li>
<li>All event objects conform to the W3C spec, and all events (including submit) bubble correctly per the W3C spec. See <a href="https://facebook.github.io/react/docs/events.html">Event System</a> for more details.</li>
<li>The <code>onChange</code> event behaves as you would expect it to: whenever a form field is changed this event is fired rather than inconsistently on blur. We intentionally break from existing browser behavior because <code>onChange</code> is a misnomer for its behavior and React relies on this event to react to user input in real time. See <a href="https://facebook.github.io/react/docs/forms.html">Forms</a> for more details.</li>
<li>Form input attributes such as <code>value</code> and <code>checked</code>, as well as <code>textarea</code>. <a href="https://facebook.github.io/react/docs/forms.html">More here</a>.</li>
</ul><span>


    </span><span>
  </span></div>
</section></div>
        </article>
      
        <article>
          <h3>Special Non-DOM Attributes</h3>
          <div><section class="content wrap documentationContent">
  


  <div class="inner-content"><span>
    </span><span>
    </span><span>
    </span><span>

    </span><p>Beside <a href="https://facebook.github.io/react/docs/dom-differences.html">DOM differences</a>, React offers some attributes that simply don&apos;t exist in DOM.</p><span>

</span><ul>
<li><code>key</code>: an optional, unique identifier. When your component shuffles around during <code>render</code> passes, it might be destroyed and recreated due to the diff algorithm. Assigning it a key that persists makes sure the component stays. See more <a href="https://facebook.github.io/react/docs/multiple-components.html#dynamic-children">here</a>.</li>
<li><code>ref</code>: see <a href="https://facebook.github.io/react/docs/more-about-refs.html">here</a>.</li>
<li><code>dangerouslySetInnerHTML</code>: Provides the ability to insert raw HTML, mainly for cooperating with DOM string manipulation libraries. See more <a href="https://facebook.github.io/react/tips/dangerously-set-inner-html.html">here</a>.</li>
</ul><span>


    </span><span>
  </span></div>
</section></div>
        </article>
      
        <article>
          <h3>Reconciliation</h3>
          <div><div class="inner-content"><span>
    </span><span>
    </span><span>
    </span><span>

    </span><p>React&apos;s key design decision is to make the API seem like it re-renders the whole app on every update. This makes writing applications a lot easier but is also an incredible challenge to make it tractable. This article explains how with powerful heuristics we managed to turn a O(n<sup>3</sup>) problem into a O(n) one.</p><span>
</span><h2><a class="anchor" name="motivation"></a>Motivation </h2><span>
</span><p>Generating the minimum number of operations to transform one tree into another is a complex and well-studied problem. The <a href="http://grfia.dlsi.ua.es/ml/algorithms/references/editsurvey_bille.pdf">state of the art algorithms</a> have a complexity in the order of O(n<sup>3</sup>) where n is the number of nodes in the tree.</p><span>

</span><p>This means that displaying 1000 nodes would require in the order of one billion comparisons. This is far too expensive for our use case. To put this number in perspective, CPUs nowadays execute roughly 3 billion instructions per second. So even with the most performant implementation, we wouldn&apos;t be able to compute that diff in less than a second.</p><span>

</span><p>Since an optimal algorithm is not tractable, we implement a non-optimal O(n) algorithm using heuristics based on two assumptions:</p><span>

</span><ol>
<li>Two components of the same class will generate similar trees and two components of different classes will generate different trees.</li>
<li>It is possible to provide a unique key for elements that is stable across different renders.</li>
</ol><span>

</span><p>In practice, these assumptions are ridiculously fast for almost all practical use cases.</p><span>
</span><h2><a class="anchor" name="pair-wise-diff"></a>Pair-wise diff </h2><span>
</span><p>In order to do a tree diff, we first need to be able to diff two nodes. There are three different cases being handled.</p><span>
</span><h3><a class="anchor" name="different-node-types"></a>Different Node Types </h3><span>
</span><p>If the node type is different, React is going to treat them as two different sub-trees, throw away the first one and build/insert the second one.</p><span>
</span><div class="highlight"><pre><code class="language-xml" data-lang="xml">renderA: <span class="nt">&lt;div</span> <span class="nt">/&gt;</span>
renderB: <span class="nt">&lt;span</span> <span class="nt">/&gt;</span>
=&gt; [removeNode <span class="nt">&lt;div</span> <span class="nt">/&gt;</span>], [insertNode <span class="nt">&lt;span</span> <span class="nt">/&gt;</span>]
</code></pre></div><span>
</span><p>The same logic is used for custom components. If they are not of the same type, React is not going to even try at matching what they render. It is just going to remove the first one from the DOM and insert the second one.</p><span>
</span><div class="highlight"><pre><code class="language-xml" data-lang="xml">renderA: <span class="nt">&lt;Header</span> <span class="nt">/&gt;</span>
renderB: <span class="nt">&lt;Content</span> <span class="nt">/&gt;</span>
=&gt; [removeNode <span class="nt">&lt;Header</span> <span class="nt">/&gt;</span>], [insertNode <span class="nt">&lt;Content</span> <span class="nt">/&gt;</span>]
</code></pre></div><span>
</span><p>Having this high level knowledge is a very important aspect of why React&apos;s diff algorithm is both fast and precise. It provides a good heuristic to quickly prune big parts of the tree and focus on parts likely to be similar.</p><span>

</span><p>It is very unlikely that a <code>&lt;Header&gt;</code> element is going to generate a DOM that is going to look like what a <code>&lt;Content&gt;</code> would generate. Instead of spending time trying to match those two structures, React just re-builds the tree from scratch.</p><span>

</span><p>As a corollary, if there is a <code>&lt;Header&gt;</code> element at the same position in two consecutive renders, you would expect to see a very similar structure and it is worth exploring it.</p><span>
</span><h3><a class="anchor" name="dom-nodes"></a>DOM Nodes </h3><span>
</span><p>When comparing two DOM nodes, we look at the attributes of both and can decide which of them changed in linear time.</p><span>
</span><div class="highlight"><pre><code class="language-xml" data-lang="xml">renderA: <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;before&quot;</span> <span class="nt">/&gt;</span>
renderB: <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;after&quot;</span> <span class="nt">/&gt;</span>
=&gt; [replaceAttribute id &quot;after&quot;]
</code></pre></div><span>
</span><p>Instead of treating style as an opaque string, a key-value object is used instead. This lets us update only the properties that changed.</p><span>
</span><div class="highlight"><pre><code class="language-xml" data-lang="xml">renderA: <span class="nt">&lt;div</span> <span class="na">style=</span><span class="s">{{color:</span> <span class="err">&apos;red&apos;}}</span> <span class="nt">/&gt;</span>
renderB: <span class="nt">&lt;div</span> <span class="na">style=</span><span class="s">{{fontWeight:</span> <span class="err">&apos;bold&apos;}}</span> <span class="nt">/&gt;</span>
=&gt; [removeStyle color], [addStyle font-weight &apos;bold&apos;]
</code></pre></div><span>
</span><p>After the attributes have been updated, we recurse on all the children.</p><span>
</span><h3><a class="anchor" name="custom-components"></a>Custom Components </h3><span>
</span><p>We decided that the two custom components are the same. Since components are stateful, we cannot just use the new component and call it a day. React takes all the attributes from the new component and calls <code>componentWillReceiveProps()</code> and <code>componentWillUpdate()</code> on the previous one.</p><span>

</span><p>The previous component is now operational. Its <code>render()</code> method is called and the diff algorithm restarts with the new result and the previous result.</p><span>
</span><h2><a class="anchor" name="list-wise-diff"></a>List-wise diff </h2><h3><a class="anchor" name="problematic-case"></a>Problematic Case </h3><span>
</span><p>In order to do children reconciliation, React adopts a very naive approach. It goes over both lists of children at the same time and generates a mutation whenever there&apos;s a difference.</p><span>

</span><p>For example if you add an element at the end:</p><span>
</span><div class="highlight"><pre><code class="language-xml" data-lang="xml">renderA: <span class="nt">&lt;div&gt;&lt;span&gt;</span>first<span class="nt">&lt;/span&gt;&lt;/div&gt;</span>
renderB: <span class="nt">&lt;div&gt;&lt;span&gt;</span>first<span class="nt">&lt;/span&gt;&lt;span&gt;</span>second<span class="nt">&lt;/span&gt;&lt;/div&gt;</span>
=&gt; [insertNode <span class="nt">&lt;span&gt;</span>second<span class="nt">&lt;/span&gt;</span>]
</code></pre></div><span>
</span><p>Inserting an element at the beginning is problematic. React is going to see that both nodes are spans and therefore run into a mutation mode.</p><span>
</span><div class="highlight"><pre><code class="language-xml" data-lang="xml">renderA: <span class="nt">&lt;div&gt;&lt;span&gt;</span>first<span class="nt">&lt;/span&gt;&lt;/div&gt;</span>
renderB: <span class="nt">&lt;div&gt;&lt;span&gt;</span>second<span class="nt">&lt;/span&gt;&lt;span&gt;</span>first<span class="nt">&lt;/span&gt;&lt;/div&gt;</span>
=&gt; [replaceAttribute textContent &apos;second&apos;], [insertNode <span class="nt">&lt;span&gt;</span>first<span class="nt">&lt;/span&gt;</span>]
</code></pre></div><span>
</span><p>There are many algorithms that attempt to find the minimum sets of operations to transform a list of elements. <a href="https://en.wikipedia.org/wiki/Levenshtein_distance">Levenshtein distance</a> can find the minimum using single element insertion, deletion and substitution in O(n<sup>2</sup>). Even if we were to use Levenshtein, this doesn&apos;t find when a node has moved into another position and algorithms to do that have much worse complexity.</p><span>
</span><h3><a class="anchor" name="keys"></a>Keys </h3><span>
</span><p>In order to solve this seemingly intractable issue, an optional attribute has been introduced. You can provide for each child a key that is going to be used to do the matching. If you specify a key, React is now able to find insertion, deletion, substitution and moves in O(n) using a hash table.</p><span>
</span><div class="highlight"><pre><code class="language-xml" data-lang="xml">renderA: <span class="nt">&lt;div&gt;&lt;span</span> <span class="na">key=</span><span class="s">&quot;first&quot;</span><span class="nt">&gt;</span>first<span class="nt">&lt;/span&gt;&lt;/div&gt;</span>
renderB: <span class="nt">&lt;div&gt;&lt;span</span> <span class="na">key=</span><span class="s">&quot;second&quot;</span><span class="nt">&gt;</span>second<span class="nt">&lt;/span&gt;&lt;span</span> <span class="na">key=</span><span class="s">&quot;first&quot;</span><span class="nt">&gt;</span>first<span class="nt">&lt;/span&gt;&lt;/div&gt;</span>
=&gt; [insertNode <span class="nt">&lt;span&gt;</span>second<span class="nt">&lt;/span&gt;</span>]
</code></pre></div><span>
</span><p>In practice, finding a key is not really hard. Most of the time, the element you are going to display already has a unique id. When that&apos;s not the case, you can add a new ID property to your model or hash some parts of the content to generate a key. Remember that the key only has to be unique among its siblings, not globally unique.</p><span>
</span><h2><a class="anchor" name="trade-offs"></a>Trade-offs </h2><span>
</span><p>It is important to remember that the reconciliation algorithm is an implementation detail. React could re-render the whole app on every action; the end result would be the same. We are regularly refining the heuristics in order to make common use cases faster.</p><span>

</span><p>In the current implementation, you can express the fact that a sub-tree has been moved amongst its siblings, but you cannot tell that it has moved somewhere else. The algorithm will re-render that full sub-tree.</p><span>

</span><p>Because we rely on two heuristics, if the assumptions behind them are not met, performance will suffer.</p><span>

</span><ol>
<li><p>The algorithm will not try to match sub-trees of different components classes. If you see yourself alternating between two components classes with very similar output, you may want to make it the same class. In practice, we haven&apos;t found this to be an issue.</p></li>
<li><p>Keys should be stable, predictable, and unique. Unstable keys (like those produced by Math.random()) will cause many nodes to be unnecessarily re-created, which can cause performance degradation and lost state in child components.</p></li>
</ol><span>


    </span><span>
  </span></div></div>
        </article>
      
        <article>
          <h3>Web Components</h3>
          <div><div class="inner-content"><span>
    </span><span>
    </span><span>
    </span><span>

    </span><p>Trying to compare and contrast React with WebComponents inevitably results in specious conclusions, because the two libraries are built to solve different problems.  WebComponents provide strong encapsulation for reusable components, while React provides a declarative library that keeps the DOM in sync with your data.  The two goals are complementary; engineers can mix-and-match the technologies.  As a developer, you are free to use React in your WebComponents, or to use WebComponents in React, or both.</p><span>
</span><h2><a class="anchor" name="using-web-components-in-react"></a>Using Web Components in React </h2><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kr">class</span> <span class="nx">HelloMessage</span> <span class="kr">extends</span> <span class="nx">React</span><span class="p">.</span><span class="nx">Component</span><span class="p">{</span>
  <span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span><span class="nx">Hello</span> <span class="o">&lt;</span><span class="nx">x</span><span class="o">-</span><span class="nx">search</span><span class="o">&gt;</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">name</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/x-search&gt;!&lt;/div&gt;;</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div><span>
</span><blockquote>
<p>Note:</p>

<p>The programming models of the two component systems (web components vs. react components) differ in that
web components often expose an imperative API (for instance, a <code>video</code> web component might expose <code>play()</code>
and <code>pause()</code> functions).  To the extent that web components are declarative functions of their attributes,
they should work, but to access the imperative APIs of a web component, you will need to attach a ref to the
component and interact with the DOM node directly.  If you are using third-party web components, the
recommended solution is to write a React component that behaves as a wrapper for your web component.</p>

<p>At this time, events emitted by a web component may not properly propagate through a React render tree.
You will need to manually attach event handlers to handle these events within your React components.</p>
</blockquote><span>
</span><h2><a class="anchor" name="using-react-in-your-web-components"></a>Using React in your Web Components </h2><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">proto</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span><span class="nx">HTMLElement</span><span class="p">.</span><span class="nx">prototype</span><span class="p">,</span> <span class="p">{</span>
  <span class="nx">attachedCallback</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">value</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
      <span class="kd">var</span> <span class="nx">mountPoint</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">&apos;span&apos;</span><span class="p">);</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">createShadowRoot</span><span class="p">().</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">mountPoint</span><span class="p">);</span>

      <span class="kd">var</span> <span class="nx">name</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">getAttribute</span><span class="p">(</span><span class="s1">&apos;name&apos;</span><span class="p">);</span>
      <span class="kd">var</span> <span class="nx">url</span> <span class="o">=</span> <span class="s1">&apos;https://www.google.com/search?q=&apos;</span> <span class="o">+</span> <span class="nb">encodeURIComponent</span><span class="p">(</span><span class="nx">name</span><span class="p">);</span>
      <span class="nx">ReactDOM</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">a</span> <span class="nx">href</span><span class="o">=</span><span class="p">{</span><span class="nx">url</span><span class="p">}</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">name</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/a&gt;, mountPoint);</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">});</span>
<span class="nb">document</span><span class="p">.</span><span class="nx">registerElement</span><span class="p">(</span><span class="s1">&apos;x-search&apos;</span><span class="p">,</span> <span class="p">{</span><span class="nx">prototype</span><span class="o">:</span> <span class="nx">proto</span><span class="p">});</span>
</code></pre></div><h2><a class="anchor" name="complete-example"></a>Complete Example </h2><span>
</span><p>Check out the <code>webcomponents</code> example in the <a href="https://facebook.github.io/react/downloads.html">starter kit</a> for a complete example.</p><span>


    </span><span>
  </span></div></div>
        </article>
      
        <article>
          <h3>React (Virtual) DOM Terminology</h3>
          <div><div class="inner-content"><span>
    </span><span>
    </span><span>
    </span><span>

    </span><p>In React&apos;s terminology, there are five core types that are important to distinguish:</p><span>

</span><ul>
<li><a href="https://facebook.github.io/react/docs/glossary.html#react-elements">ReactElement / ReactElement Factory</a></li>
<li><a href="https://facebook.github.io/react/docs/glossary.html#react-nodes">ReactNode</a></li>
<li><a href="https://facebook.github.io/react/docs/glossary.html#react-components">ReactComponent / ReactComponent Class</a></li>
</ul><span>
</span><h2><a class="anchor" name="react-elements"></a>React Elements </h2><span>
</span><p>The primary type in React is the <code>ReactElement</code>. It has four properties: <code>type</code>, <code>props</code>, <code>key</code> and <code>ref</code>. It has no methods and nothing on the prototype.</p><span>

</span><p>You can create one of these objects through <code>React.createElement</code>.</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">root</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">&apos;div&apos;</span><span class="p">);</span>
</code></pre></div><span>
</span><p>To render a new tree into the DOM, you create <code>ReactElement</code>s and pass them to <code>ReactDOM.render</code> along with a regular DOM <code>Element</code> (<code>HTMLElement</code> or <code>SVGElement</code>). <code>ReactElement</code>s are not to be confused with DOM <code>Element</code>s. A <code>ReactElement</code> is a light, stateless, immutable, virtual representation of a DOM <code>Element</code>. It is a virtual DOM.</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">ReactDOM</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="nx">root</span><span class="p">,</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&apos;example&apos;</span><span class="p">));</span>
</code></pre></div><span>
</span><p>To add properties to a DOM element, pass a properties object as the second argument and children to the third argument.</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">child</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">&apos;li&apos;</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span> <span class="s1">&apos;Text Content&apos;</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">root</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">&apos;ul&apos;</span><span class="p">,</span> <span class="p">{</span> <span class="nx">className</span><span class="o">:</span> <span class="s1">&apos;my-list&apos;</span> <span class="p">},</span> <span class="nx">child</span><span class="p">);</span>
<span class="nx">ReactDOM</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="nx">root</span><span class="p">,</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&apos;example&apos;</span><span class="p">));</span>
</code></pre></div><span>
</span><p>If you use React JSX, then these <code>ReactElement</code>s are created for you. So this is equivalent:</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">root</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nx">ul</span> <span class="nx">className</span><span class="o">=</span><span class="s2">&quot;my-list&quot;</span><span class="o">&gt;</span>
             <span class="o">&lt;</span><span class="nx">li</span><span class="o">&gt;</span><span class="nx">Text</span> <span class="nx">Content</span><span class="o">&lt;</span><span class="err">/li&gt;</span>
           <span class="o">&lt;</span><span class="err">/ul&gt;;</span>
<span class="nx">ReactDOM</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="nx">root</span><span class="p">,</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&apos;example&apos;</span><span class="p">));</span>
</code></pre></div><h3><a class="anchor" name="factories"></a>Factories </h3><span>
</span><p>A <code>ReactElement</code>-factory is simply a function that generates a <code>ReactElement</code> with a particular <code>type</code> property. React has a built-in helper for you to create factories. It&apos;s effectively just:</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">function</span> <span class="nx">createFactory</span><span class="p">(</span><span class="nx">type</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createElement</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span> <span class="nx">type</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div><span>
</span><p>It allows you to create a convenient short-hand instead of typing out <code>React.createElement(&apos;div&apos;)</code> all the time.</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">div</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createFactory</span><span class="p">(</span><span class="s1">&apos;div&apos;</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">root</span> <span class="o">=</span> <span class="nx">div</span><span class="p">({</span> <span class="nx">className</span><span class="o">:</span> <span class="s1">&apos;my-div&apos;</span> <span class="p">});</span>
<span class="nx">ReactDOM</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="nx">root</span><span class="p">,</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&apos;example&apos;</span><span class="p">));</span>
</code></pre></div><span>
</span><p>React already has built-in factories for common HTML tags:</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">root</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">DOM</span><span class="p">.</span><span class="nx">ul</span><span class="p">({</span> <span class="nx">className</span><span class="o">:</span> <span class="s1">&apos;my-list&apos;</span> <span class="p">},</span>
             <span class="nx">React</span><span class="p">.</span><span class="nx">DOM</span><span class="p">.</span><span class="nx">li</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span> <span class="s1">&apos;Text Content&apos;</span><span class="p">)</span>
           <span class="p">);</span>
</code></pre></div><span>
</span><p>If you are using JSX you have no need for factories. JSX already provides a convenient short-hand for creating <code>ReactElement</code>s.</p><span>
</span><h2><a class="anchor" name="react-nodes"></a>React Nodes </h2><span>
</span><p>A <code>ReactNode</code> can be either:</p><span>

</span><ul>
<li><code>ReactElement</code></li>
<li><code>string</code> (aka <code>ReactText</code>)</li>
<li><code>number</code> (aka <code>ReactText</code>)</li>
<li>Array of <code>ReactNode</code>s (aka <code>ReactFragment</code>)</li>
</ul><span>

</span><p>These are used as properties of other <code>ReactElement</code>s to represent children. Effectively they create a tree of <code>ReactElement</code>s.</p><span>
</span><h2><a class="anchor" name="react-components"></a>React Components </h2><span>
</span><p>You can use React using only <code>ReactElement</code>s but to really take advantage of React, you&apos;ll want to use <code>ReactComponent</code>s to create encapsulations with embedded state.</p><span>

</span><p>A <code>ReactComponent</code> Class is simply just a JavaScript class (or &quot;constructor function&quot;).</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">MyComponent</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createClass</span><span class="p">({</span>
  <span class="nx">render</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="p">...</span>
  <span class="p">}</span>
<span class="p">});</span>
</code></pre></div><span>
</span><p>When this constructor is invoked it is expected to return an object with at least a <code>render</code> method on it. This object is referred to as a <code>ReactComponent</code>.</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">component</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">MyComponent</span><span class="p">(</span><span class="nx">props</span><span class="p">);</span> <span class="c1">// never do this</span>
</code></pre></div><span>
</span><p>Other than for testing, you would normally <em>never</em> call this constructor yourself. React calls it for you.</p><span>

</span><p>Instead, you pass the <code>ReactComponent</code> Class to <code>createElement</code> you get a <code>ReactElement</code>.</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">element</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="nx">MyComponent</span><span class="p">);</span>
</code></pre></div><span>
</span><p>OR using JSX:</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">element</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nx">MyComponent</span> <span class="o">/&gt;</span><span class="p">;</span>
</code></pre></div><span>
</span><p>When this is passed to <code>ReactDOM.render</code>, React will call the constructor for you and create a <code>ReactComponent</code>, which is returned.</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">component</span> <span class="o">=</span> <span class="nx">ReactDOM</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="nx">element</span><span class="p">,</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&apos;example&apos;</span><span class="p">));</span>
</code></pre></div><span>
</span><p>If you keep calling <code>ReactDOM.render</code> with the same type of <code>ReactElement</code> and the same container DOM <code>Element</code> it always returns the same instance. This instance is stateful.</p><span>
</span><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">componentA</span> <span class="o">=</span> <span class="nx">ReactDOM</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">MyComponent</span> <span class="o">/&gt;</span><span class="p">,</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&apos;example&apos;</span><span class="p">));</span>
<span class="kd">var</span> <span class="nx">componentB</span> <span class="o">=</span> <span class="nx">ReactDOM</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">MyComponent</span> <span class="o">/&gt;</span><span class="p">,</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&apos;example&apos;</span><span class="p">));</span>
<span class="nx">componentA</span> <span class="o">===</span> <span class="nx">componentB</span><span class="p">;</span> <span class="c1">// true</span>
</code></pre></div><span>
</span><p>This is why you shouldn&apos;t construct your own instance. Instead, <code>ReactElement</code> is a virtual <code>ReactComponent</code> before it gets constructed. An old and new <code>ReactElement</code> can be compared to see if a new <code>ReactComponent</code> instance should be created or if the existing one should be reused.</p><span>

</span><p>The <code>render</code> method of a <code>ReactComponent</code> is expected to return another <code>ReactElement</code>. This allows these components to be composed. Ultimately the render resolves into <code>ReactElement</code> with a <code>string</code> tag which instantiates a DOM <code>Element</code> instance and inserts it into the document.</p><span>

</span><p>React 0.14 introduced <a href="https://facebook.github.io/react/blog/2015/10/07/react-v0.14.html#stateless-functional-components">stateless functional components</a> as an alternative way of defining components. Instead of being a class, it is a simple function that accepts props and is expected to return a <code>ReactElement</code>.</p><span>
</span><h2><a class="anchor" name="formal-type-definitions"></a>Formal Type Definitions </h2><h3><a class="anchor" name="entry-point"></a>Entry Point </h3><div class="highlight"><pre><code class="language-text" data-lang="text">ReactDOM.render = (ReactElement, HTMLElement | SVGElement) =&gt; ReactComponent;
</code></pre></div><h3><a class="anchor" name="nodes-and-elements"></a>Nodes and Elements </h3><div class="highlight"><pre><code class="language-text" data-lang="text">type ReactNode = ReactElement | ReactFragment | ReactText;

type ReactElement = ReactComponentElement | ReactDOMElement;

type ReactDOMElement = {
  type : string,
  props : {
    children : ReactNodeList,
    className : string,
    etc.
  },
  key : string | boolean | number | null,
  ref : string | null
};

type ReactComponentElement&lt;TProps&gt; = {
  type : ReactClass&lt;TProps&gt; | ReactFunctionalComponent&lt;TProps&gt;,
  props : TProps,
  key : string | boolean | number | null,
  ref : string | null
};

type ReactFragment = Array&lt;ReactNode | ReactEmpty&gt;;

type ReactNodeList = ReactNode | ReactEmpty;

type ReactText = string | number;

type ReactEmpty = null | undefined | boolean;
</code></pre></div><h3><a class="anchor" name="classes-and-components"></a>Classes and Components </h3><div class="highlight"><pre><code class="language-text" data-lang="text">type ReactClass&lt;TProps&gt; = (TProps) =&gt; ReactComponent&lt;TProps&gt;;

type ReactComponent&lt;TProps&gt; = {
  props : TProps,
  render : () =&gt; ReactElement
};

type ReactFunctionalComponent&lt;TProps&gt; = (TProps) =&gt; ReactElement;
</code></pre></div><span>

    </span><span>
  </span></div></div>
        </article>
      <h2>Tips</h2>
        <article>
          <h3>Introduction</h3>
          <div><div class="inner-content"><span>
    </span><span>
    </span><span>
    </span><p>The React tips section provides bite-sized information that can answer lots of questions you might have and warn you against common pitfalls.</p><span>
</span><span>
</span><p>Submit a pull request to the <a href="https://github.com/facebook/react">React repository</a> following the <a href="https://github.com/facebook/react/tree/master/docs">current tips</a> entries&apos; style. If you have a recipe that needs review prior to submitting a PR you can find help in the <a href="irc://chat.freenode.net/reactjs">#reactjs channel on freenode</a> or the <a href="https://discuss.reactjs.org/">discuss.reactjs.org forum</a>.</p><span>


    </span><span>
  </span></div></div>
        </article>
      
        <article>
          <h3>Inline Styles</h3>
          <div><div class="inner-content"><span>
    </span><span>
    </span><span>
    </span><p>In React, inline styles are not specified as a string. Instead they are specified with an object whose key is the camelCased version of the style name, and whose value is the style&apos;s value, usually a string (<a href="https://facebook.github.io/react/tips/style-props-value-px.html">more on that later</a>):</p><span>
</span><div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">divStyle</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">color</span><span class="o">:</span> <span class="s1">&apos;white&apos;</span><span class="p">,</span>
  <span class="nx">backgroundImage</span><span class="o">:</span> <span class="s1">&apos;url(&apos;</span> <span class="o">+</span> <span class="nx">imgUrl</span> <span class="o">+</span> <span class="s1">&apos;)&apos;</span><span class="p">,</span>
  <span class="nx">WebkitTransition</span><span class="o">:</span> <span class="s1">&apos;all&apos;</span><span class="p">,</span> <span class="c1">// note the capital &apos;W&apos; here</span>
  <span class="nx">msTransition</span><span class="o">:</span> <span class="s1">&apos;all&apos;</span> <span class="c1">// &apos;ms&apos; is the only lowercase vendor prefix</span>
<span class="p">};</span>

<span class="nx">ReactDOM</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">div</span> <span class="nx">style</span><span class="o">=</span><span class="p">{</span><span class="nx">divStyle</span><span class="p">}</span><span class="o">&gt;</span><span class="nx">Hello</span> <span class="nx">World</span><span class="o">!&lt;</span><span class="err">/div&gt;, mountNode);</span>
</code></pre></div><span>
</span><p>Style keys are camelCased in order to be consistent with accessing the properties on DOM nodes from JS (e.g. <code>node.style.backgroundImage</code>). Vendor prefixes <a href="http://www.andismith.com/blog/2012/02/modernizr-prefixed/">other than <code>ms</code></a> should begin with a capital letter. This is why <code>WebkitTransition</code> has an uppercase &quot;W&quot;.</p><span>


    </span><span>
  </span></div></div>
        </article>
      
        <article>
          <h3>If-Else in JSX</h3>
          <div><div class="inner-content"><span>
    </span><span>
    </span><span>
    </span><p><code>if-else</code> statements don&apos;t work inside JSX. This is because JSX is just syntactic sugar for function calls and object construction. Take this basic example:</p><span>
</span><div class="highlight"><pre><code class="language-js" data-lang="js"><span class="c1">// This JSX:</span>
<span class="nx">ReactDOM</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">div</span> <span class="nx">id</span><span class="o">=</span><span class="s2">&quot;msg&quot;</span><span class="o">&gt;</span><span class="nx">Hello</span> <span class="nx">World</span><span class="o">!&lt;</span><span class="err">/div&gt;, mountNode);</span>

<span class="c1">// Is transformed to this JS:</span>
<span class="nx">ReactDOM</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="nx">React</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">&quot;div&quot;</span><span class="p">,</span> <span class="p">{</span><span class="nx">id</span><span class="o">:</span><span class="s2">&quot;msg&quot;</span><span class="p">},</span> <span class="s2">&quot;Hello World!&quot;</span><span class="p">),</span> <span class="nx">mountNode</span><span class="p">);</span>
</code></pre></div><span>
</span><p>This means that <code>if</code> statements don&apos;t fit in. Take this example:</p><span>
</span><div class="highlight"><pre><code class="language-js" data-lang="js"><span class="c1">// This JSX:</span>
<span class="o">&lt;</span><span class="nx">div</span> <span class="nx">id</span><span class="o">=</span><span class="p">{</span><span class="k">if</span> <span class="p">(</span><span class="nx">condition</span><span class="p">)</span> <span class="p">{</span> <span class="s1">&apos;msg&apos;</span> <span class="p">}}</span><span class="o">&gt;</span><span class="nx">Hello</span> <span class="nx">World</span><span class="o">!&lt;</span><span class="err">/div&gt;</span>

<span class="c1">// Is transformed to this JS:</span>
<span class="nx">React</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">&quot;div&quot;</span><span class="p">,</span> <span class="p">{</span><span class="nx">id</span><span class="o">:</span> <span class="k">if</span> <span class="p">(</span><span class="nx">condition</span><span class="p">)</span> <span class="p">{</span> <span class="s1">&apos;msg&apos;</span> <span class="p">}},</span> <span class="s2">&quot;Hello World!&quot;</span><span class="p">);</span>
</code></pre></div><span>
</span><p>That&apos;s not valid JS. You probably want to make use of a ternary expression:</p><span>
</span><div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">ReactDOM</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">div</span> <span class="nx">id</span><span class="o">=</span><span class="p">{</span><span class="nx">condition</span> <span class="o">?</span> <span class="s1">&apos;msg&apos;</span> <span class="o">:</span> <span class="kc">null</span><span class="p">}</span><span class="o">&gt;</span><span class="nx">Hello</span> <span class="nx">World</span><span class="o">!&lt;</span><span class="err">/div&gt;, mountNode);</span>
</code></pre></div><span>
</span><p>If a ternary expression isn&apos;t robust enough, you can use <code>if</code> statements outside of your JSX to determine which components should be used:</p><span>
</span><div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">loginButton</span><span class="p">;</span>
<span class="k">if</span> <span class="p">(</span><span class="nx">loggedIn</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">loginButton</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nx">LogoutButton</span> <span class="o">/&gt;</span><span class="p">;</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
  <span class="nx">loginButton</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nx">LoginButton</span> <span class="o">/&gt;</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">return</span> <span class="p">(</span>
  <span class="o">&lt;</span><span class="nx">nav</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="nx">Home</span> <span class="o">/&gt;</span>
    <span class="p">{</span><span class="nx">loginButton</span><span class="p">}</span>
  <span class="o">&lt;</span><span class="err">/nav&gt;</span>
<span class="p">);</span>
</code></pre></div><span>
</span><p>Or if you prefer a more &quot;inline&quot; aesthetic, define <a href="https://en.wikipedia.org/wiki/Immediately-invoked_function_expression">immediately-invoked function expressions</a> <em>inside</em> your JSX:</p><span>
</span><div class="highlight"><pre><code class="language-js" data-lang="js"><span class="k">return</span> <span class="p">(</span>
  <span class="o">&lt;</span><span class="nx">section</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="nx">h1</span><span class="o">&gt;</span><span class="nx">Color</span><span class="o">&lt;</span><span class="err">/h1&gt;</span>
    <span class="o">&lt;</span><span class="nx">h3</span><span class="o">&gt;</span><span class="nx">Name</span><span class="o">&lt;</span><span class="err">/h3&gt;</span>
    <span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">color</span> <span class="o">||</span> <span class="s2">&quot;white&quot;</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/p&gt;</span>
    <span class="o">&lt;</span><span class="nx">h3</span><span class="o">&gt;</span><span class="nx">Hex</span><span class="o">&lt;</span><span class="err">/h3&gt;</span>
    <span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span>
      <span class="p">{(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="k">switch</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">color</span><span class="p">)</span> <span class="p">{</span>
          <span class="k">case</span> <span class="s2">&quot;red&quot;</span><span class="o">:</span>   <span class="k">return</span> <span class="s2">&quot;#FF0000&quot;</span><span class="p">;</span>
          <span class="k">case</span> <span class="s2">&quot;green&quot;</span><span class="o">:</span> <span class="k">return</span> <span class="s2">&quot;#00FF00&quot;</span><span class="p">;</span>
          <span class="k">case</span> <span class="s2">&quot;blue&quot;</span><span class="o">:</span>  <span class="k">return</span> <span class="s2">&quot;#0000FF&quot;</span><span class="p">;</span>
          <span class="k">default</span><span class="o">:</span>      <span class="k">return</span> <span class="s2">&quot;#FFFFFF&quot;</span><span class="p">;</span>
        <span class="p">}</span>
      <span class="p">})()}</span>
    <span class="o">&lt;</span><span class="err">/p&gt;</span>
  <span class="o">&lt;</span><span class="err">/section&gt;</span>
<span class="p">);</span>
</code></pre></div><span>
</span><blockquote>
<p>Note:</p>

<p>In the example above, an ES6 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Arrow_functions">arrow function</a> is utilized to lexically bind the value of <code>this</code>.</p>
</blockquote><span>

</span><p>Try using it today with the <a href="https://babeljs.io/repl/">Babel REPL</a>.</p><span>


    </span><span>
  </span></div></div>
        </article>
      
        <article>
          <h3>Self-Closing Tag</h3>
          <div><div class="inner-content"><span>
    </span><span>
    </span><span>
    </span><p>In JSX, <code>&lt;MyComponent /&gt;</code> alone is valid while <code>&lt;MyComponent&gt;</code> isn&apos;t. All tags must be closed, either with the self-closing format or with a corresponding closing tag (<code>&lt;/MyComponent&gt;</code>).</p><span>

</span><blockquote>
<p>Note:</p>

<p>Every React component can be self-closing: <code>&lt;div /&gt;</code>. <code>&lt;div&gt;&lt;/div&gt;</code> is also an equivalent.</p>
</blockquote><span>


    </span><span>
  </span></div></div>
        </article>
      
        <article>
          <h3>Maximum Number of JSX Root Nodes</h3>
          <div><div class="inner-content"><span>
    </span><span>
    </span><span>
    </span><p>Currently, in a component&apos;s <code>render</code>, you can only return one node; if you have, say, a list of <code>div</code>s to return, you must wrap your components within a <code>div</code>, <code>span</code> or any other component.</p><span>

</span><p>Don&apos;t forget that JSX compiles into regular JS; returning two functions doesn&apos;t really make syntactic sense. Likewise, don&apos;t put more than one child in a ternary.</p><span>


    </span><span>
  </span></div></div>
        </article>
      
        <article>
          <h3>Shorthand for Specifying Pixel Values in style props</h3>
          <div><div class="inner-content"><span>
    </span><span>
    </span><span>
    </span><p>When specifying a pixel value for your inline <code>style</code> prop, React automatically appends the string &quot;px&quot; for you after your number value, so this works:</p><span>
</span><div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">divStyle</span> <span class="o">=</span> <span class="p">{</span><span class="nx">height</span><span class="o">:</span> <span class="mi">10</span><span class="p">};</span> <span class="c1">// rendered as &quot;height:10px&quot;</span>
<span class="nx">ReactDOM</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">div</span> <span class="nx">style</span><span class="o">=</span><span class="p">{</span><span class="nx">divStyle</span><span class="p">}</span><span class="o">&gt;</span><span class="nx">Hello</span> <span class="nx">World</span><span class="o">!&lt;</span><span class="err">/div&gt;, mountNode);</span>
</code></pre></div><span>
</span><p>See <a href="https://facebook.github.io/react/tips/inline-styles.html">Inline Styles</a> for more info.</p><span>

</span><p>Sometimes you <em>do</em> want to keep the CSS properties unitless. Here&apos;s a list of properties that won&apos;t get the automatic &quot;px&quot; suffix:</p><span>

</span><ul>
<li><code>animationIterationCount</code></li>
<li><code>boxFlex</code></li>
<li><code>boxFlexGroup</code></li>
<li><code>boxOrdinalGroup</code></li>
<li><code>columnCount</code></li>
<li><code>fillOpacity</code></li>
<li><code>flex</code></li>
<li><code>flexGrow</code></li>
<li><code>flexPositive</code></li>
<li><code>flexShrink</code></li>
<li><code>flexNegative</code></li>
<li><code>flexOrder</code></li>
<li><code>fontWeight</code></li>
<li><code>lineClamp</code></li>
<li><code>lineHeight</code></li>
<li><code>opacity</code></li>
<li><code>order</code></li>
<li><code>orphans</code></li>
<li><code>stopOpacity</code></li>
<li><code>strokeDashoffset</code></li>
<li><code>strokeOpacity</code></li>
<li><code>strokeWidth</code></li>
<li><code>tabSize</code></li>
<li><code>widows</code></li>
<li><code>zIndex</code></li>
<li><code>zoom</code></li>
</ul><span>


    </span><span>
  </span></div></div>
        </article>
      
        <article>
          <h3>Type of the Children props</h3>
          <div><div class="inner-content"><span>
    </span><span>
    </span><span>
    </span><p>Usually, a component&apos;s children (<code>this.props.children</code>) is an array of components:</p><span>
</span><div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">GenericWrapper</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createClass</span><span class="p">({</span>
  <span class="nx">componentDidMount</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nb">Array</span><span class="p">.</span><span class="nx">isArray</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">children</span><span class="p">));</span> <span class="c1">// =&gt; true</span>
  <span class="p">},</span>

  <span class="nx">render</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="o">&lt;</span><span class="nx">div</span> <span class="o">/&gt;</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">});</span>

<span class="nx">ReactDOM</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span>
  <span class="o">&lt;</span><span class="nx">GenericWrapper</span><span class="o">&gt;&lt;</span><span class="nx">span</span><span class="o">/&gt;&lt;</span><span class="nx">span</span><span class="o">/&gt;&lt;</span><span class="nx">span</span><span class="o">/&gt;&lt;</span><span class="err">/GenericWrapper&gt;,</span>
  <span class="nx">mountNode</span>
<span class="p">);</span>
</code></pre></div><span>
</span><p>However, when there is only a single child, <code>this.props.children</code> will be the single child component itself <em>without the array wrapper</em>. This saves an array allocation.</p><span>
</span><div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">GenericWrapper</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createClass</span><span class="p">({</span>
  <span class="nx">componentDidMount</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nb">Array</span><span class="p">.</span><span class="nx">isArray</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">children</span><span class="p">));</span> <span class="c1">// =&gt; false</span>

    <span class="c1">// warning: yields 5 for length of the string &apos;hello&apos;, not 1 for the</span>
    <span class="c1">// length of the non-existent array wrapper!</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">children</span><span class="p">.</span><span class="nx">length</span><span class="p">);</span>
  <span class="p">},</span>

  <span class="nx">render</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="o">&lt;</span><span class="nx">div</span> <span class="o">/&gt;</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">});</span>

<span class="nx">ReactDOM</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">GenericWrapper</span><span class="o">&gt;</span><span class="nx">hello</span><span class="o">&lt;</span><span class="err">/GenericWrapper&gt;, mountNode);</span>
</code></pre></div><span>
</span><p>To make <code>this.props.children</code> easy to deal with, we&apos;ve provided the <a href="https://facebook.github.io/react/docs/top-level-api.html#react.children">React.Children utilities</a>.</p><span>


    </span><span>
  </span></div></div>
        </article>
      
        <article>
          <h3>Value of null for Controlled Input</h3>
          <div><div class="inner-content"><span>
    </span><span>
    </span><span>
    </span><p>Specifying the <code>value</code> prop on a <a href="https://facebook.github.io/react/docs/forms.html">controlled component</a> prevents the user from changing the input unless you desire so.</p><span>

</span><p>You might have run into a problem where <code>value</code> is specified, but the input can still be changed without consent. In this case, you might have accidentally set <code>value</code> to <code>undefined</code> or <code>null</code>.</p><span>

</span><p>The snippet below shows this phenomenon; after a second, the text becomes editable.</p><span>
</span><div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">ReactDOM</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">input</span> <span class="nx">value</span><span class="o">=</span><span class="s2">&quot;hi&quot;</span> <span class="o">/&gt;</span><span class="p">,</span> <span class="nx">mountNode</span><span class="p">);</span>

<span class="nx">setTimeout</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">ReactDOM</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">input</span> <span class="nx">value</span><span class="o">=</span><span class="p">{</span><span class="kc">null</span><span class="p">}</span> <span class="o">/&gt;</span><span class="p">,</span> <span class="nx">mountNode</span><span class="p">);</span>
<span class="p">},</span> <span class="mi">1000</span><span class="p">);</span>
</code></pre></div><span>

    </span><span>
  </span></div></div>
        </article>
      
        <article>
          <h3>componentWillReceiveProps Not Triggered After Mounting</h3>
          <div><div class="inner-content"><span>
    </span><span>
    </span><span>
    </span><p><code>componentWillReceiveProps</code> isn&apos;t triggered after the node is put on scene. This is by design. Check out <a href="https://facebook.github.io/react/docs/component-specs.html">other lifecycle methods</a> for the one that suits your needs.</p><span>

</span><p>The reason for that is because <code>componentWillReceiveProps</code> often handles the logic of comparing with the old props and acting upon changes; not triggering it at mounting (where there are no old props) helps in defining what the method does.</p><span>


    </span><span>
  </span></div></div>
        </article>
      
        <article>
          <h3>Props in getInitialState Is an Anti-Pattern</h3>
          <div><div class="inner-content"><span>
    </span><span>
    </span><span>
    </span><blockquote>
<p>Note:</p>

<p>This isn&apos;t really a React-specific tip, as such anti-patterns often occur in code in general; in this case, React simply points them out more clearly.</p>
</blockquote><span>

</span><p>Using props to generate state in <code>getInitialState</code> often leads to duplication of &quot;source of truth&quot;, i.e. where the real data is. This is because <code>getInitialState</code> is only invoked when the component is first created.</p><span>

</span><p>Whenever possible, compute values on-the-fly to ensure that they don&apos;t get out of sync later on and cause maintenance trouble.</p><span>

</span><p><strong>Bad example:</strong></p><span>
</span><div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">MessageBox</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createClass</span><span class="p">({</span>
  <span class="nx">getInitialState</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">{</span><span class="nx">nameWithQualifier</span><span class="o">:</span> <span class="s1">&apos;Mr. &apos;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">name</span><span class="p">};</span>
  <span class="p">},</span>

  <span class="nx">render</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">nameWithQualifier</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/div&gt;;</span>
  <span class="p">}</span>
<span class="p">});</span>

<span class="nx">ReactDOM</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">MessageBox</span> <span class="nx">name</span><span class="o">=</span><span class="s2">&quot;Rogers&quot;</span><span class="o">/&gt;</span><span class="p">,</span> <span class="nx">mountNode</span><span class="p">);</span>
</code></pre></div><span>
</span><p>Better:</p><span>
</span><div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">MessageBox</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createClass</span><span class="p">({</span>
  <span class="nx">render</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span><span class="p">{</span><span class="s1">&apos;Mr. &apos;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">name</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/div&gt;;</span>
  <span class="p">}</span>
<span class="p">});</span>

<span class="nx">ReactDOM</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">MessageBox</span> <span class="nx">name</span><span class="o">=</span><span class="s2">&quot;Rogers&quot;</span><span class="o">/&gt;</span><span class="p">,</span> <span class="nx">mountNode</span><span class="p">);</span>
</code></pre></div><span>
</span><p>(For more complex logic, simply isolate the computation in a method.)</p><span>

</span><p>However, it&apos;s <strong>not</strong> an anti-pattern if you make it clear that the prop is only seed data for the component&apos;s internally-controlled state:</p><span>
</span><div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">Counter</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createClass</span><span class="p">({</span>
  <span class="nx">getInitialState</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// naming it initialX clearly indicates that the only purpose</span>
    <span class="c1">// of the passed down prop is to initialize something internally</span>
    <span class="k">return</span> <span class="p">{</span><span class="nx">count</span><span class="o">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">initialCount</span><span class="p">};</span>
  <span class="p">},</span>

  <span class="nx">handleClick</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">({</span><span class="nx">count</span><span class="o">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">count</span> <span class="o">+</span> <span class="mi">1</span><span class="p">});</span>
  <span class="p">},</span>

  <span class="nx">render</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">onClick</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">handleClick</span><span class="p">}</span><span class="o">&gt;</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">count</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/div&gt;;</span>
  <span class="p">}</span>
<span class="p">});</span>

<span class="nx">ReactDOM</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">Counter</span> <span class="nx">initialCount</span><span class="o">=</span><span class="p">{</span><span class="mi">7</span><span class="p">}</span><span class="o">/&gt;</span><span class="p">,</span> <span class="nx">mountNode</span><span class="p">);</span>
</code></pre></div><span>

    </span><span>
  </span></div></div>
        </article>
      
        <article>
          <h3>DOM Event Listeners in a Component</h3>
          <div><div class="inner-content"><span>
    </span><span>
    </span><span>
    </span><blockquote>
<p>Note:</p>

<p>This entry shows how to attach DOM events not provided by React (<a href="https://facebook.github.io/react/docs/events.html">check here for more info</a>). This is good for integrations with other libraries such as jQuery.</p>
</blockquote><span>

</span><p>Try to resize the window:</p><span>
</span><div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">Box</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createClass</span><span class="p">({</span>
  <span class="nx">getInitialState</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">{</span><span class="nx">windowWidth</span><span class="o">:</span> <span class="nb">window</span><span class="p">.</span><span class="nx">innerWidth</span><span class="p">};</span>
  <span class="p">},</span>

  <span class="nx">handleResize</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">({</span><span class="nx">windowWidth</span><span class="o">:</span> <span class="nb">window</span><span class="p">.</span><span class="nx">innerWidth</span><span class="p">});</span>
  <span class="p">},</span>

  <span class="nx">componentDidMount</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nb">window</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&apos;resize&apos;</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">handleResize</span><span class="p">);</span>
  <span class="p">},</span>

  <span class="nx">componentWillUnmount</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nb">window</span><span class="p">.</span><span class="nx">removeEventListener</span><span class="p">(</span><span class="s1">&apos;resize&apos;</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">handleResize</span><span class="p">);</span>
  <span class="p">},</span>

  <span class="nx">render</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span><span class="nx">Current</span> <span class="nb">window</span> <span class="nx">width</span><span class="o">:</span> <span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">windowWidth</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/div&gt;;</span>
  <span class="p">}</span>
<span class="p">});</span>

<span class="nx">ReactDOM</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">Box</span> <span class="o">/&gt;</span><span class="p">,</span> <span class="nx">mountNode</span><span class="p">);</span>
</code></pre></div><span>
</span><p><code>componentDidMount</code> is called after the component is mounted and has a DOM representation. This is often a place where you would attach generic DOM events.</p><span>

</span><p>Notice that the event callback is bound to the react component and not the original element. React automatically binds methods to the current component instance for you through a process of <a href="https://facebook.github.io/react/docs/interactivity-and-dynamic-uis.html#under-the-hood-autobinding-and-event-delegation">autobinding</a>.</p><span>


    </span><span>
  </span></div></div>
        </article>
      
        <article>
          <h3>Load Initial Data via AJAX</h3>
          <div><div class="inner-content"><span>
    </span><span>
    </span><span>
    </span><p>Fetch data in <code>componentDidMount</code>. When the response arrives, store the data in state, triggering a render to update your UI.</p><span>

</span><p>When fetching data asynchronously, use <code>componentWillUnmount</code> to cancel any outstanding requests before the component is unmounted.</p><span>

</span><p>This example fetches the desired Github user&apos;s latest gist:</p><span>
</span><div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">UserGist</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createClass</span><span class="p">({</span>
  <span class="nx">getInitialState</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">{</span>
      <span class="nx">username</span><span class="o">:</span> <span class="s1">&apos;&apos;</span><span class="p">,</span>
      <span class="nx">lastGistUrl</span><span class="o">:</span> <span class="s1">&apos;&apos;</span>
    <span class="p">};</span>
  <span class="p">},</span>

  <span class="nx">componentDidMount</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">serverRequest</span> <span class="o">=</span> <span class="nx">$</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">source</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
      <span class="kd">var</span> <span class="nx">lastGist</span> <span class="o">=</span> <span class="nx">result</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">({</span>
        <span class="nx">username</span><span class="o">:</span> <span class="nx">lastGist</span><span class="p">.</span><span class="nx">owner</span><span class="p">.</span><span class="nx">login</span><span class="p">,</span>
        <span class="nx">lastGistUrl</span><span class="o">:</span> <span class="nx">lastGist</span><span class="p">.</span><span class="nx">html_url</span>
      <span class="p">});</span>
    <span class="p">}.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">));</span>
  <span class="p">},</span>

  <span class="nx">componentWillUnmount</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">serverRequest</span><span class="p">.</span><span class="nx">abort</span><span class="p">();</span>
  <span class="p">},</span>

  <span class="nx">render</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span>
      <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span>
        <span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">username</span><span class="p">}</span><span class="err">&apos;</span><span class="nx">s</span> <span class="nx">last</span> <span class="nx">gist</span> <span class="nx">is</span>
        <span class="o">&lt;</span><span class="nx">a</span> <span class="nx">href</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">lastGistUrl</span><span class="p">}</span><span class="o">&gt;</span><span class="nx">here</span><span class="o">&lt;</span><span class="err">/a&gt;.</span>
      <span class="o">&lt;</span><span class="err">/div&gt;</span>
    <span class="p">);</span>
  <span class="p">}</span>
<span class="p">});</span>

<span class="nx">ReactDOM</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span>
  <span class="o">&lt;</span><span class="nx">UserGist</span> <span class="nx">source</span><span class="o">=</span><span class="s2">&quot;https://api.github.com/users/octocat/gists&quot;</span> <span class="o">/&gt;</span><span class="p">,</span>
  <span class="nx">mountNode</span>
<span class="p">);</span>
</code></pre></div><span>

    </span><span>
  </span></div></div>
        </article>
      
        <article>
          <h3>False in JSX</h3>
          <div><div class="inner-content"><span>
    </span><span>
    </span><span>
    </span><p>Here&apos;s how <code>false</code> renders in different situations:</p><span>

</span><p>Renders as <code>id=&quot;false&quot;</code>:</p><span>
</span><div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">ReactDOM</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">div</span> <span class="nx">id</span><span class="o">=</span><span class="p">{</span><span class="kc">false</span><span class="p">}</span> <span class="o">/&gt;</span><span class="p">,</span> <span class="nx">mountNode</span><span class="p">);</span>
</code></pre></div><span>
</span><p>String <code>&quot;false&quot;</code> as input value:</p><span>
</span><div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">ReactDOM</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">input</span> <span class="nx">value</span><span class="o">=</span><span class="p">{</span><span class="kc">false</span><span class="p">}</span> <span class="o">/&gt;</span><span class="p">,</span> <span class="nx">mountNode</span><span class="p">);</span>
</code></pre></div><span>
</span><p>No child:</p><span>
</span><div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">ReactDOM</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span><span class="p">{</span><span class="kc">false</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/div&gt;, mountNode);</span>
</code></pre></div><span>
</span><p>The reason why this one doesn&apos;t render as the string <code>&quot;false&quot;</code> as a <code>div</code> child is to allow the more common use-case: <code>&lt;div&gt;{x &gt; 1 &amp;&amp; &apos;You have more than one item&apos;}&lt;/div&gt;</code>.</p><span>


    </span><span>
  </span></div></div>
        </article>
      
        <article>
          <h3>Communicate Between Components</h3>
          <div><div class="inner-content"><span>
    </span><span>
    </span><span>
    </span><p>For parent-child communication, simply <a href="https://facebook.github.io/react/docs/multiple-components.html">pass props</a>.</p><span>

</span><p>For child-parent communication:
Say your <code>GroceryList</code> component has a list of items generated through an array. When a list item is clicked, you want to display its name:</p><span>
</span><div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">handleClick</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span> <span class="nx">props</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&apos;You clicked: &apos;</span> <span class="o">+</span> <span class="nx">props</span><span class="p">.</span><span class="nx">items</span><span class="p">[</span><span class="nx">i</span><span class="p">]);</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">GroceryList</span><span class="p">(</span><span class="nx">props</span><span class="p">)</span> <span class="p">{</span>  
  <span class="k">return</span> <span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span>
      <span class="p">{</span><span class="nx">props</span><span class="p">.</span><span class="nx">items</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">item</span><span class="p">,</span> <span class="nx">i</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="p">(</span>
          <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">onClick</span><span class="o">=</span><span class="p">{</span><span class="nx">handleClick</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="nx">i</span><span class="p">,</span> <span class="nx">props</span><span class="p">)}</span> <span class="nx">key</span><span class="o">=</span><span class="p">{</span><span class="nx">i</span><span class="p">}</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">item</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/div&gt;</span>
        <span class="p">);</span>
      <span class="p">})}</span>
    <span class="o">&lt;</span><span class="err">/div&gt;</span>
  <span class="p">);</span>
<span class="p">}</span>

<span class="nx">ReactDOM</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span>
  <span class="o">&lt;</span><span class="nx">GroceryList</span> <span class="nx">items</span><span class="o">=</span><span class="p">{[</span><span class="s1">&apos;Apple&apos;</span><span class="p">,</span> <span class="s1">&apos;Banana&apos;</span><span class="p">,</span> <span class="s1">&apos;Cranberry&apos;</span><span class="p">]}</span> <span class="o">/&gt;</span><span class="p">,</span> <span class="nx">mountNode</span>
<span class="p">);</span>
</code></pre></div><span>
</span><p>Notice the use of <code>bind(this, arg1, arg2, ...)</code>: we&apos;re simply passing more arguments to <code>handleClick</code>. This is not a new React concept; it&apos;s just JavaScript.</p><span>

</span><p>For communication between two components that don&apos;t have a parent-child relationship, you can set up your own global event system. Subscribe to events in <code>componentDidMount()</code>, unsubscribe in <code>componentWillUnmount()</code>, and call <code>setState()</code> when you receive an event. <a href="https://facebook.github.io/flux/">Flux</a> pattern is one of the possible ways to arrange this.</p><span>


    </span><span>
  </span></div></div>
        </article>
      
        <article>
          <h3>Expose Component Functions</h3>
          <div><div class="inner-content"><span>
    </span><span>
    </span><span>
    </span><p>There&apos;s another (uncommon) way of <a href="https://facebook.github.io/react/tips/communicate-between-components.html">communicating between components</a>: simply expose a method on the child component for the parent to call.</p><span>

</span><p>Say a list of todos, which upon clicking get removed. If there&apos;s only one unfinished todo left, animate it:</p><span>
</span><div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">Todo</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createClass</span><span class="p">({</span>
  <span class="nx">render</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">onClick</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">onClick</span><span class="p">}</span><span class="o">&gt;</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">title</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/div&gt;;</span>
  <span class="p">},</span>

  <span class="c1">//this component will be accessed by the parent through the `ref` attribute</span>
  <span class="nx">animate</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&apos;Pretend %s is animating&apos;</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">title</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">});</span>

<span class="kd">var</span> <span class="nx">Todos</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createClass</span><span class="p">({</span>
  <span class="nx">getInitialState</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">{</span><span class="nx">items</span><span class="o">:</span> <span class="p">[</span><span class="s1">&apos;Apple&apos;</span><span class="p">,</span> <span class="s1">&apos;Banana&apos;</span><span class="p">,</span> <span class="s1">&apos;Cranberry&apos;</span><span class="p">]};</span>
  <span class="p">},</span>

  <span class="nx">handleClick</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">index</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">items</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">items</span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">item</span><span class="p">,</span> <span class="nx">i</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">return</span> <span class="nx">index</span> <span class="o">!==</span> <span class="nx">i</span><span class="p">;</span>
    <span class="p">});</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">({</span><span class="nx">items</span><span class="o">:</span> <span class="nx">items</span><span class="p">},</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">items</span><span class="p">.</span><span class="nx">length</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">refs</span><span class="p">.</span><span class="nx">item0</span><span class="p">.</span><span class="nx">animate</span><span class="p">();</span>
      <span class="p">}</span>
    <span class="p">}.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">));</span>
  <span class="p">},</span>

  <span class="nx">render</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span>
      <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span>
        <span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">items</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">item</span><span class="p">,</span> <span class="nx">i</span><span class="p">)</span> <span class="p">{</span>
          <span class="kd">var</span> <span class="nx">boundClick</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">handleClick</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="nx">i</span><span class="p">);</span>
          <span class="k">return</span> <span class="p">(</span>
            <span class="o">&lt;</span><span class="nx">Todo</span> <span class="nx">onClick</span><span class="o">=</span><span class="p">{</span><span class="nx">boundClick</span><span class="p">}</span> <span class="nx">key</span><span class="o">=</span><span class="p">{</span><span class="nx">i</span><span class="p">}</span> <span class="nx">title</span><span class="o">=</span><span class="p">{</span><span class="nx">item</span><span class="p">}</span> <span class="nx">ref</span><span class="o">=</span><span class="p">{</span><span class="s1">&apos;item&apos;</span> <span class="o">+</span> <span class="nx">i</span><span class="p">}</span> <span class="o">/&gt;</span>
          <span class="p">);</span>
        <span class="p">},</span> <span class="k">this</span><span class="p">)}</span>
      <span class="o">&lt;</span><span class="err">/div&gt;</span>
    <span class="p">);</span>
  <span class="p">}</span>
<span class="p">});</span>

<span class="nx">ReactDOM</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">Todos</span> <span class="o">/&gt;</span><span class="p">,</span> <span class="nx">mountNode</span><span class="p">);</span>
</code></pre></div><span>
</span><p>Alternatively, you could have achieved this by passing the <code>todo</code> an <code>isLastUnfinishedItem</code> prop, let it check this prop in <code>componentDidUpdate</code>, then animate itself; however, this quickly gets messy if you pass around different props to control animations.</p><span>


    </span><span>
  </span></div></div>
        </article>
      
        <article>
          <h3>this.props.children undefined</h3>
          <div><div class="inner-content"><span>
    </span><span>
    </span><span>
    </span><p>You can&apos;t access the children of your component through <code>this.props.children</code>. <code>this.props.children</code> designates the children being <strong>passed onto you</strong> by the owner:</p><span>
</span><div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">App</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createClass</span><span class="p">({</span>
  <span class="nx">componentDidMount</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// This doesn&apos;t refer to the `span`s! It refers to the children between</span>
    <span class="c1">// last line&apos;s `&lt;App&gt;&lt;/App&gt;`, which are undefined.</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">children</span><span class="p">);</span>
  <span class="p">},</span>

  <span class="nx">render</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;&lt;</span><span class="nx">span</span><span class="o">/&gt;&lt;</span><span class="nx">span</span><span class="o">/&gt;&lt;</span><span class="err">/div&gt;;</span>
  <span class="p">}</span>
<span class="p">});</span>

<span class="nx">ReactDOM</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">App</span><span class="o">&gt;&lt;</span><span class="err">/App&gt;, mountNode);</span>
</code></pre></div><span>
</span><p>To access your own subcomponents (the <code>span</code>s), place <a href="https://facebook.github.io/react/docs/more-about-refs.html">refs</a> on them.</p><span>


    </span><span>
  </span></div></div>
        </article>
      
        <article>
          <h3>Use React with Other Libraries</h3>
          <div><div class="inner-content"><span>
    </span><span>
    </span><span>
    </span><p>You don&apos;t have to go full React. The component <a href="https://facebook.github.io/react/docs/component-specs.html#lifecycle-methods">lifecycle events</a>, especially <code>componentDidMount</code> and <code>componentDidUpdate</code>, are good places to put your other libraries&apos; logic.</p><span>
</span><div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kd">var</span> <span class="nx">App</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createClass</span><span class="p">({</span>
  <span class="nx">getInitialState</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">{</span><span class="nx">myModel</span><span class="o">:</span> <span class="k">new</span> <span class="nx">myBackboneModel</span><span class="p">({</span><span class="nx">items</span><span class="o">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]})};</span>
  <span class="p">},</span>

  <span class="nx">componentDidMount</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">refs</span><span class="p">.</span><span class="nx">placeholder</span><span class="p">).</span><span class="nx">append</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="s1">&apos;&lt;span /&gt;&apos;</span><span class="p">));</span>
  <span class="p">},</span>

  <span class="nx">componentWillUnmount</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// Clean up work here.</span>
  <span class="p">},</span>

  <span class="nx">shouldComponentUpdate</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// Let&apos;s just never update this component again.</span>
    <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
  <span class="p">},</span>

  <span class="nx">render</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">ref</span><span class="o">=</span><span class="s2">&quot;placeholder&quot;</span><span class="o">/&gt;</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">});</span>

<span class="nx">ReactDOM</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">App</span> <span class="o">/&gt;</span><span class="p">,</span> <span class="nx">mountNode</span><span class="p">);</span>
</code></pre></div><span>
</span><p>You can attach your own <a href="https://facebook.github.io/react/tips/dom-event-listeners.html">event listeners</a> and even <a href="https://baconjs.github.io/">event streams</a> this way.</p><span>


    </span><span>
  </span></div></div>
        </article>
      
        <article>
          <h3>Dangerously Set innerHTML</h3>
          <div><div class="inner-content"><span>
    </span><span>
    </span><span>
    </span><p>Improper use of the <code>innerHTML</code> can open you up to a <a href="https://en.wikipedia.org/wiki/Cross-site_scripting">cross-site scripting (XSS)</a> attack.  Sanitizing user input for display is notoriously error-prone, and failure to properly sanitize is one of the <a href="https://owasptop10.googlecode.com/files/OWASP%20Top%2010%20-%202013.pdf">leading causes of web vulnerabilities</a> on the internet.</p><span>

</span><p>Our design philosophy is that it should be &#x201C;easy&#x201D; to make things safe, and developers should explicitly state their intent when performing &#x201C;unsafe&#x201D; operations.  The prop name <code>dangerouslySetInnerHTML</code> is intentionally chosen to be frightening, and the prop value (an object instead of a string) can be used to indicate sanitized data.</p><span>

</span><p>After fully understanding the security ramifications and properly sanitizing the data, create a new object containing only the key <code>__html</code> and your sanitized data as the value.  Here is an example using the JSX syntax:</p><span>
</span><div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kd">function</span> <span class="nx">createMarkup</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="p">{</span><span class="nx">__html</span><span class="o">:</span> <span class="s1">&apos;First &amp;middot; Second&apos;</span><span class="p">};</span> <span class="p">};</span>
<span class="o">&lt;</span><span class="nx">div</span> <span class="nx">dangerouslySetInnerHTML</span><span class="o">=</span><span class="p">{</span><span class="nx">createMarkup</span><span class="p">()}</span> <span class="o">/&gt;</span>
</code></pre></div><span>
</span><p>The point being that if you unintentionally do say <code>&lt;div dangerouslySetInnerHTML={getUsername()} /&gt;</code> it will not be rendered because <code>getUsername()</code> would return a plain <code>string</code> and not a <code>{__html: &apos;&apos;}</code> object.  The intent behind the <code>{__html:...}</code> syntax is that it be considered a &quot;type/taint&quot; of sorts.  Sanitized data can be returned from a function using this wrapper object, and this marked data can subsequently be passed into <code>dangerouslySetInnerHTML</code>.  For this reason, we recommend against writing code of the form <code>&lt;div dangerouslySetInnerHTML={{__html: getMarkup()}} /&gt;</code>.</p><span>

</span><p>This functionality is mainly provided for cooperation with DOM string manipulation libraries, so the HTML provided must be well-formed (ie., pass XML validation).</p><span>

</span><p>For a more complete usage example, refer to the last example on the <a href="https://facebook.github.io/react/">front page</a>.</p><span>


    </span><span>
  </span></div></div>
        </article>
      <h2>Contributing</h2>
        <article>
          <h3>Design Principles</h3>
          <div><div class="inner-content"><span>
    </span><span>
    </span><span>
    </span><p>After using React in a couple of applications, you might be interested in contributing to React. Before <a href="https://github.com/facebook/react/blob/master/CONTRIBUTING.md">diving into specifics</a>, we think it&apos;s important to establish a few design principles guiding our decisions about changes in React.</p><span>

</span><p>We wrote this document so that you have a better idea of how we decide what React does and what React doesn&apos;t do, and what our development philosophy is like. While we are excited to see community contributions, we are not likely to choose a path that violates one or more of these principles.</p><span>

</span><blockquote>
<p><strong>Note:</strong></p>

<p>This document assumes a strong understanding of React. It describes the design principles of <em>React itself</em>, not React components or applications.</p>

<p>For an introduction to React, check out <a href="https://facebook.github.io/react/docs/thinking-in-react.html">Thinking in React</a> instead.</p>
</blockquote><span>
</span><h3><a class="anchor" name="composition"></a>Composition </h3><span>
</span><p>The key feature of React is composition of components. Components written by different people should work well together. It is important to us that you can add functionality to a component without causing rippling changes throughout the codebase.</p><span>

</span><p>For example, it should be possible to introduce some local state into a component without changing any of the components using it. Similarly, it should be possible to add some initialization and teardown code to any component when necessary.</p><span>

</span><p>There is nothing &quot;bad&quot; about using state or lifecycle hooks in components. Like any powerful features, they should be used in moderation, but we have no intention to remove them. On the contrary, we think they are integral parts of what makes React useful. We might enable <a href="https://github.com/reactjs/react-future/tree/master/07%20-%20Returning%20State">more functional patterns</a> in the future, but both local state and lifecycle hooks will be a part of that model.</p><span>

</span><p>Components are often described as &quot;just functions&quot; but in our view they need to be more than that to be useful. In React, components describe any composable behavior, and this includes rendering, lifecycle, and state. Some external libraries like <a href="http://facebook.github.io/relay/">Relay</a> augment components with other responsibilities such as describing data dependencies. It is possible that those ideas might make it back into React too in some form.</p><span>
</span><h3><a class="anchor" name="common-abstraction"></a>Common Abstraction </h3><span>
</span><p>In general we <a href="https://www.youtube.com/watch?v=4anAwXYqLG8">resist adding features</a> that can be implemented in userland. We don&apos;t want to bloat your apps with useless library code. However, there are exceptions to this.</p><span>

</span><p>For example, if React didn&apos;t provide support for local state or lifecycle hooks, people would create custom abstractions for them. When there are multiple abstractions competing, React can&apos;t enforce or take advantage of the properties of either of them. It has to work with the lowest common denominator.</p><span>

</span><p>This is why sometimes we add features to React itself. If we notice that many components implement a certain feature in incompatible or inefficient ways, we might prefer to bake it into React. We don&apos;t do it lightly. When we do it, it&apos;s because we are confident that raising the abstraction level benefits the whole ecosystem. State, lifecycle hooks, cross-browser event normalization are good examples of this.</p><span>

</span><p>We always discuss such improvement proposals with the community. You can find some of those discussions by the <a href="https://github.com/facebook/react/issues?q=is%3Aopen+is%3Aissue+label%3A%22big+picture%22">&#x201C;big picture&#x201D;</a> label on the React issue tracker.</p><span>
</span><h3><a class="anchor" name="escape-hatches"></a>Escape Hatches </h3><span>
</span><p>React is pragmatic. It is driven by the needs of the products written at Facebook. While it is influenced by some paradigms that are not yet fully mainstream such as functional programming, staying accessible to a wide range of developers with different skills and experience levels is an explicit goal of the project.</p><span>

</span><p>If we want to deprecate a pattern that we don&apos;t like, it is our responsibility to consider all existing use cases for it and <a href="https://facebook.github.io/react/blog/2016/07/13/mixins-considered-harmful.html">educate the community about the alternatives</a> before we deprecate it. If some pattern that is useful for building apps is hard to express in a declarative way, we will <a href="https://facebook.github.io/react/docs/more-about-refs.html">provide an imperative API</a> for it. If we can&apos;t figure out a perfect API for something that we found necessary in many apps, we will <a href="https://facebook.github.io/react/docs/context.html">provide a temporary subpar working API</a> as long as it is possible to get rid of it later and it leaves the door open for future improvements.</p><span>
</span><h3><a class="anchor" name="stability"></a>Stability </h3><span>
</span><p>We value API stability. At Facebook, we have more than 20 thousand components using React. Many other companies, including <a href="https://twitter.com/">Twitter</a> and <a href="https://www.airbnb.com/">Airbnb</a>, are also heavy users of React. This is why we are usually reluctant to change public APIs or behavior.</p><span>

</span><p>However we think stability in the sense of &quot;nothing changes&quot; is overrated. It quickly turns into stagnation. Instead, we prefer the stability in the sense of &quot;It is heavily used in production, and when something changes, there is a clear (and preferably automated) migration path.&quot;</p><span>

</span><p>When we deprecate a pattern, we study its internal usage at Facebook and add deprecation warnings. They let us assess the impact of the change. Sometimes we back out if we see that it is too early, and we need to think more strategically about getting the codebases to the point where they are ready for this change.</p><span>

</span><p>If we are confident that the change is not too disruptive and the migration strategy is viable for all use cases, we release the deprecation warning to the open source community. We are closely in touch with many users of React outside of Facebook, and we monitor popular open source projects and guide them in fixing those deprecations.</p><span>

</span><p>Given the sheer size of the Facebook React codebase, successful internal migration is often a good indicator that other companies won&apos;t have problems either. Nevertheless sometimes people point out additional use cases we haven&apos;t thought of, and we add escape hatches for them or rethink our approach.</p><span>

</span><p>We don&apos;t deprecate anything without a good reason. We recognize that sometimes deprecations warnings cause frustration but we add them because deprecations clean up the road for the improvements and new features that we and many people in the community consider valuable.</p><span>

</span><p>For example, we added a <a href="https://facebook.github.io/react/warnings/unknown-prop.html">warning about unknown DOM props</a> in React 15.2.0. Many projects were affected by this. However fixing this warning is important so that we can introduce the support for <a href="https://github.com/facebook/react/issues/140">custom attributes</a> to React. There is a reason like this behind every deprecation that we add.</p><span>

</span><p>When we add a deprecation warning, we keep it for the rest of the current major version, and <a href="https://facebook.github.io/react/blog/2016/02/19/new-versioning-scheme.html">change the behavior in the next major version</a>. If there is a lot of repetitive manual work involved, we release a <a href="https://www.youtube.com/watch?v=d0pOgY8__JM">codemod</a> script that automates most of the change. Codemods enable us to move forward without stagnation in a massive codebase, and we encourage you to use them as well.</p><span>

</span><p>You can find the codemods that we released in the <a href="https://github.com/reactjs/react-codemod">react-codemod</a> repository.</p><span>
</span><h3><a class="anchor" name="interoperability"></a>Interoperability </h3><span>
</span><p>We place high value in interoperability with existing systems and gradual adoption. Facebook has a massive non-React codebase. Its website uses a mix of a server-side component system called XHP, internal UI libraries that came before React, and React itself. It is important to us that any product team can <a href="https://www.youtube.com/watch?v=BF58ZJ1ZQxY">start using React for a small feature</a> rather than rewrite their code to bet on it.</p><span>

</span><p>This is why React provides escape hatches to work with mutable models, and tries to work well together with other UI libraries. You can wrap an existing imperative UI into a declarative component, and vice versa. This is crucial for gradual adoption.</p><span>
</span><h3><a class="anchor" name="scheduling"></a>Scheduling </h3><span>
</span><p>Even when your components are described as functions, when you use React you don&apos;t call them directly. Every component returns a <a href="https://facebook.github.io/react/blog/2015/12/18/react-components-elements-and-instances.html#elements-describe-the-tree">description of what needs to be rendered</a>, and that description may include both user-written components like <code>&lt;LikeButton&gt;</code> and platform-specific components like <code>&lt;div&gt;</code>. It is up to React to &quot;unroll&quot; <code>&lt;LikeButton&gt;</code> at some point in the future and actually apply changes to the UI tree according to the render results of the components recursively.</p><span>

</span><p>This is a subtle distinction but a powerful one. Since you don&apos;t call that component function but let React call it, it means React has the power to delay calling it if necessary. In its current implementation React walks the tree recursively and calls render functions of the whole updated tree during a single tick. However in the future it might start <a href="https://github.com/facebook/react/issues/6170">delaying some updates to avoid dropping frames</a>.</p><span>

</span><p>This is a common theme in React design. Some popular libraries implement the &quot;push&quot; approach where computations are performed when the new data is available. React, however, sticks to the &quot;pull&quot; approach where computations can be delayed until necessary.</p><span>

</span><p>React is not a generic data processing library. It is a library for building user interfaces. We think that it is uniquely positioned in an app to know which computations are relevant right now and which are not.</p><span>

</span><p>If something is offscreen, we can delay any logic related to it. If data is arriving faster than the frame rate, we can coalesce and batch updates. We can prioritize work coming from user interactions (such as an animation caused by a button click) over less important background work (such as rendering new content just loaded from the network) to avoid dropping frames.</p><span>

</span><p>To be clear, we are not taking advantage of this right now. However the freedom to do something like this is why we prefer to have control over scheduling, and why <code>setState()</code> is asynchronous. Conceptually, we think of it as &quot;scheduling an update&quot;.</p><span>

</span><p>The control over scheduling would be harder for us to gain if we let the user directly compose views with a &quot;push&quot; based paradigm common in some variations of <a href="https://en.wikipedia.org/wiki/Functional_reactive_programming">Functional Reactive Programming</a>. We want to own the &quot;glue&quot; code.</p><span>

</span><p>It is a key goal for React that the amount of the user code that executes before yielding back into React is minimal. This ensures that React retains the capability to schedule and split work in chunks according to what it knows about the UI.</p><span>

</span><p>There is an internal joke in the team that React should have been called &quot;Schedule&quot; because React does not want to be fully &quot;reactive&quot;.</p><span>
</span><h3><a class="anchor" name="developer-experience"></a>Developer Experience </h3><span>
</span><p>Providing a good developer experience is important to us.</p><span>

</span><p>For example, we maintain <a href="https://github.com/facebook/react-devtools">React DevTools</a> which let you inspect the React component tree in Chrome and Firefox. We have heard that it brings a big productivity boost both to the Facebook engineers and to the community.</p><span>

</span><p>We also try to go an extra mile to provide helpful developer warnings. For example, React warns you in development if you nest tags in a way that the browser doesn&apos;t understand, or if you make a common typo in the API. Developer warnings and the related checks are the main reason why the development version of React is slower than the production version.</p><span>

</span><p>The usage patterns that we see internally at Facebook help us understand what the common mistakes are, and how to prevent them early. When we add new features, we try to anticipate the common mistakes and warn about them.</p><span>

</span><p>We are always looking out for ways to improve the developer experience. We love to hear your suggestions and accept your contributions to make it even better.</p><span>
</span><h3><a class="anchor" name="debugging"></a>Debugging </h3><span>
</span><p>When something goes wrong, it is important that you have breadcrumbs to trace the mistake to its source in the codebase. In React, props and state are those breadcrumbs.</p><span>

</span><p>If you see something wrong on the screen, you can open React DevTools, find the component responsible for rendering, and then see if the props and state are correct. If they are, you know that the problem is in the component&#x2019;s <code>render()</code> function, or some function that is called by <code>render()</code>. The problem is isolated.</p><span>

</span><p>If the state is wrong, you know that the problem is caused by one of the <code>setState()</code> calls in this file. This, too, is relatively simple to locate and fix because usually there are only a few <code>setState()</code> calls in a single file.</p><span>

</span><p>If the props are wrong, you can traverse the tree up in the inspector, looking for the component that first &quot;poisoned the well&quot; by passing bad props down.</p><span>

</span><p>This ability to trace any UI to the data that produced it in the form of current props and state is very important to React. It is an explicit design goal that state is not &quot;trapped&quot; in closures and combinators, and is available to React directly.</p><span>

</span><p>While the UI is dynamic, we believe that synchronous <code>render()</code> functions of props and state turn debugging from guesswork into a boring but finite procedure. We would like to preserve this constraint in React even though it makes some use cases, like complex animations, harder.</p><span>
</span><h3><a class="anchor" name="configuration"></a>Configuration </h3><span>
</span><p>We find global runtime configuration options to be problematic.</p><span>

</span><p>For example, it is occasionally requested that we implement a function like <code>React.configure(options)</code> or <code>React.register(component)</code>. However this poses multiple problems, and we are not aware of good solutions to them.</p><span>

</span><p>What if somebody calls such a function from a third-party component library? What if one React app embeds another React app, and their desired configurations are incompatible? How can a third-party component specify that it requires a particular configuration? We think that global configuration doesn&apos;t work well with composition. Since composition is central to React, we don&apos;t provide global configuration in code.</p><span>

</span><p>We do, however, provide some global configuration on the build level. For example, we provide separate development and production builds. We may also <a href="https://github.com/facebook/react/issues/6627">add a profiling build</a> in the future, and we are open to considering other build flags.</p><span>
</span><h3><a class="anchor" name="beyond-the-dom"></a>Beyond the DOM </h3><span>
</span><p>We see the value of React in the way it allows us to write components that have less bugs and compose together well. DOM is the original rendering target for React but <a href="http://facebook.github.io/react-native/">React Native</a> is just as important both to Facebook and the community.</p><span>

</span><p>Being renderer-agnostic is an important design constraint of React. It adds some overhead in the internal representations. On the other hand, any improvements to the core translate across platforms.</p><span>

</span><p>Having a single programming model lets us form engineering teams around products instead of platforms. So far the tradeoff has been worth it for us.</p><span>
</span><h3><a class="anchor" name="implementation"></a>Implementation </h3><span>
</span><p>We try to provide elegant APIs where possible. We are much less concerned with the implementation being elegant. The real world is far from perfect, and to a reasonable extent we prefer to put the ugly code into the library if it means the user does not have to write it. When we evaluate new code, we are looking for an implementation that is correct, performant and affords a good developer experience. Elegance is secondary.</p><span>

</span><p>We prefer boring code to clever code. Code is disposable and often changes. So it is important that it <a href="https://youtu.be/4anAwXYqLG8?t=13m9s">doesn&apos;t introduce new internal abstractions unless absolutely necessary</a>. Verbose code that is easy to move around, change and remove is preferred to elegant code that is prematurely abstracted and hard to change.</p><span>
</span><h3><a class="anchor" name="optimized-for-tooling"></a>Optimized for Tooling </h3><span>
</span><p>Some commonly used APIs have verbose names. For example, we use <code>componentDidMount()</code> instead of <code>didMount()</code> or <code>onMount()</code>. This is <a href="https://github.com/reactjs/react-future/issues/40#issuecomment-142442124">intentional</a>. The goal is to make the points of interaction with the library highly visible.</p><span>

</span><p>In a massive codebase like Facebook, being able to search for uses of specific APIs is very important. We value distinct verbose names, and especially for the features that should be used sparingly. For example, <code>dangerouslySetInnerHTML</code> is hard to miss in a code review.</p><span>

</span><p>Optimizing for search is also important because of our reliance on <a href="https://www.youtube.com/watch?v=d0pOgY8__JM">codemods</a> to make breaking changes. We want it to be easy and safe to apply vast automated changes across the codebase, and unique verbose names help us achieve this. Similarly, distinctive names make it easy to write custom <a href="https://github.com/yannickcr/eslint-plugin-react">lint rules</a> about using React without worrying about potential false positives.</p><span>

</span><p><a href="https://facebook.github.io/react/docs/displaying-data.html#jsx-syntax">JSX</a> plays a similar role. While it is not required with React, we use it extensively at Facebook both for aesthetic and pragmatic reasons.</p><span>

</span><p>In our codebase, JSX provides an unambigious hint to the tools that they are dealing with a React element tree. This makes it possible to add build-time optimizations such as <a href="http://babeljs.io/docs/plugins/transform-react-constant-elements/">hoisting constant elements</a>, safely lint and codemod internal component usage, and <a href="https://github.com/facebook/react/pull/6771">include JSX source location</a> into the warnings.</p><span>
</span><h3><a class="anchor" name="dogfooding"></a>Dogfooding </h3><span>
</span><p>We try our best to address the problems raised by the community. However we are likely to prioritize the issues that people are <em>also</em> experiencing internally at Facebook. Perhaps counter-intuitively, we think this is the main reason why the community can bet on React.</p><span>

</span><p>Heavy internal usage gives us the confidence that React won&apos;t disappear tomorrow. React was created at Facebook to solve its problems. It brings tangible business value to the company and is used in many of its products. <a href="https://en.wikipedia.org/wiki/Eating_your_own_dog_food">Dogfooding</a> it means that our vision stays sharp and we have a focused direction going forward.</p><span>

</span><p>This doesn&apos;t mean that we ignore the issues raised by the community. For example, we added support for <a href="https://facebook.github.io/react/docs/webcomponents.html">web components</a> and <a href="https://github.com/facebook/react/pull/6243">SVG</a> to React even though we don&apos;t rely on either of them internally. We are actively <a href="https://github.com/facebook/react/issues/2686">listening to your pain points</a> and <a href="https://facebook.github.io/react/blog/2016/07/11/introducing-reacts-error-code-system.html">address them</a> to the best of our ability. The community is what makes React special to us, and we are honored to contribute back.</p><span>

</span><p>After releasing many open source projects at Facebook, we have learned that trying to make everyone happy at the same time produced projects with poor focus that didn&apos;t grow well. Instead, we found that picking a small audience and focusing on making them happy brings a positive net effect. That&apos;s exactly what we did with React, and so far solving the problems encountered by Facebook product teams has translated well to the open source community.</p><span>

</span><p>The downside of this approach is that sometimes we fail to give enough focus to the things that Facebook teams don&apos;t have to deal with, such as the &quot;getting started&quot; experience. We are acutely aware of this, and we are thinking of how to improve in a way that would benefit everyone in the community without making the same mistakes we did with open source projects before.</p><span>


    </span><span>
  </span></div></div>
        </article>
      
  </body>
</html>
  